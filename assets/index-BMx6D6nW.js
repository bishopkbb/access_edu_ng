(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function uA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lg={exports:{}},ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function lI(){if(M_)return ru;M_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return ru.Fragment=e,ru.jsx=n,ru.jsxs=n,ru}var O_;function cI(){return O_||(O_=1,Lg.exports=lI()),Lg.exports}var c=cI(),Ug={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function uI(){if(V_)return Oe;V_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function P(L,ie,R){this.props=L,this.context=ie,this.refs=M,this.updater=R||S}P.prototype.isReactComponent={},P.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=P.prototype;function G(L,ie,R){this.props=L,this.context=ie,this.refs=M,this.updater=R||S}var $=G.prototype=new U;$.constructor=G,N($,P.prototype),$.isPureReactComponent=!0;var te=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function k(L,ie,R,H,de,pe){return R=pe.ref,{$$typeof:t,type:L,key:ie,ref:R!==void 0?R:null,props:pe}}function E(L,ie){return k(L.type,ie,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function O(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(R){return ie[R]})}var z=/\/+/g;function F(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):ie.toString(36)}function D(){}function Te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ve(L,ie,R,H,de){var pe=typeof L;(pe==="undefined"||pe==="boolean")&&(L=null);var he=!1;if(L===null)he=!0;else switch(pe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(L.$$typeof){case t:case e:he=!0;break;case v:return he=L._init,Ve(he(L._payload),ie,R,H,de)}}if(he)return de=de(L),he=H===""?"."+F(L,0):H,te(de)?(R="",he!=null&&(R=he.replace(z,"$&/")+"/"),Ve(de,ie,R,"",function(We){return We})):de!=null&&(C(de)&&(de=E(de,R+(de.key==null||L&&L.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+he)),ie.push(de)),1;he=0;var De=H===""?".":H+":";if(te(L))for(var Ie=0;Ie<L.length;Ie++)H=L[Ie],pe=De+F(H,Ie),he+=Ve(H,ie,R,pe,de);else if(Ie=w(L),typeof Ie=="function")for(L=Ie.call(L),Ie=0;!(H=L.next()).done;)H=H.value,pe=De+F(H,Ie++),he+=Ve(H,ie,R,pe,de);else if(pe==="object"){if(typeof L.then=="function")return Ve(Te(L),ie,R,H,de);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return he}function ne(L,ie,R){if(L==null)return L;var H=[],de=0;return Ve(L,H,"","",function(pe){return ie.call(R,pe,de++)}),H}function re(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(R){(L._status===0||L._status===-1)&&(L._status=1,L._result=R)},function(R){(L._status===0||L._status===-1)&&(L._status=2,L._result=R)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ee(){}return Oe.Children={map:ne,forEach:function(L,ie,R){ne(L,function(){ie.apply(this,arguments)},R)},count:function(L){var ie=0;return ne(L,function(){ie++}),ie},toArray:function(L){return ne(L,function(ie){return ie})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Oe.Component=P,Oe.Fragment=n,Oe.Profiler=a,Oe.PureComponent=G,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return B.H.useMemoCache(L)}},Oe.cache=function(L){return function(){return L.apply(null,arguments)}},Oe.cloneElement=function(L,ie,R){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var H=N({},L.props),de=L.key,pe=void 0;if(ie!=null)for(he in ie.ref!==void 0&&(pe=void 0),ie.key!==void 0&&(de=""+ie.key),ie)!Q.call(ie,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ie.ref===void 0||(H[he]=ie[he]);var he=arguments.length-2;if(he===1)H.children=R;else if(1<he){for(var De=Array(he),Ie=0;Ie<he;Ie++)De[Ie]=arguments[Ie+2];H.children=De}return k(L.type,de,void 0,void 0,pe,H)},Oe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Oe.createElement=function(L,ie,R){var H,de={},pe=null;if(ie!=null)for(H in ie.key!==void 0&&(pe=""+ie.key),ie)Q.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(de[H]=ie[H]);var he=arguments.length-2;if(he===1)de.children=R;else if(1<he){for(var De=Array(he),Ie=0;Ie<he;Ie++)De[Ie]=arguments[Ie+2];de.children=De}if(L&&L.defaultProps)for(H in he=L.defaultProps,he)de[H]===void 0&&(de[H]=he[H]);return k(L,pe,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(L){return{$$typeof:h,render:L}},Oe.isValidElement=C,Oe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:re}},Oe.memo=function(L,ie){return{$$typeof:g,type:L,compare:ie===void 0?null:ie}},Oe.startTransition=function(L){var ie=B.T,R={};B.T=R;try{var H=L(),de=B.S;de!==null&&de(R,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Ee,fe)}catch(pe){fe(pe)}finally{B.T=ie}},Oe.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Oe.use=function(L){return B.H.use(L)},Oe.useActionState=function(L,ie,R){return B.H.useActionState(L,ie,R)},Oe.useCallback=function(L,ie){return B.H.useCallback(L,ie)},Oe.useContext=function(L){return B.H.useContext(L)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(L,ie){return B.H.useDeferredValue(L,ie)},Oe.useEffect=function(L,ie,R){var H=B.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(L,ie)},Oe.useId=function(){return B.H.useId()},Oe.useImperativeHandle=function(L,ie,R){return B.H.useImperativeHandle(L,ie,R)},Oe.useInsertionEffect=function(L,ie){return B.H.useInsertionEffect(L,ie)},Oe.useLayoutEffect=function(L,ie){return B.H.useLayoutEffect(L,ie)},Oe.useMemo=function(L,ie){return B.H.useMemo(L,ie)},Oe.useOptimistic=function(L,ie){return B.H.useOptimistic(L,ie)},Oe.useReducer=function(L,ie,R){return B.H.useReducer(L,ie,R)},Oe.useRef=function(L){return B.H.useRef(L)},Oe.useState=function(L){return B.H.useState(L)},Oe.useSyncExternalStore=function(L,ie,R){return B.H.useSyncExternalStore(L,ie,R)},Oe.useTransition=function(){return B.H.useTransition()},Oe.version="19.1.1",Oe}var L_;function N0(){return L_||(L_=1,Ug.exports=uI()),Ug.exports}var I=N0();const cl=uA(I);var zg={exports:{}},iu={},Bg={exports:{}},Fg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function dI(){return U_||(U_=1,(function(t){function e(ne,re){var fe=ne.length;ne.push(re);e:for(;0<fe;){var Ee=fe-1>>>1,L=ne[Ee];if(0<a(L,re))ne[Ee]=re,ne[fe]=L,fe=Ee;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var re=ne[0],fe=ne.pop();if(fe!==re){ne[0]=fe;e:for(var Ee=0,L=ne.length,ie=L>>>1;Ee<ie;){var R=2*(Ee+1)-1,H=ne[R],de=R+1,pe=ne[de];if(0>a(H,fe))de<L&&0>a(pe,H)?(ne[Ee]=pe,ne[de]=fe,Ee=de):(ne[Ee]=H,ne[R]=fe,Ee=R);else if(de<L&&0>a(pe,fe))ne[Ee]=pe,ne[de]=fe,Ee=de;else break e}}return re}function a(ne,re){var fe=ne.sortIndex-re.sortIndex;return fe!==0?fe:ne.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var m=[],g=[],v=1,b=null,w=3,S=!1,N=!1,M=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function te(ne){for(var re=n(g);re!==null;){if(re.callback===null)s(g);else if(re.startTime<=ne)s(g),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(g)}}function B(ne){if(M=!1,te(ne),!N)if(n(m)!==null)N=!0,Q||(Q=!0,F());else{var re=n(g);re!==null&&Ve(B,re.startTime-ne)}}var Q=!1,k=-1,E=5,C=-1;function O(){return P?!0:!(t.unstable_now()-C<E)}function z(){if(P=!1,Q){var ne=t.unstable_now();C=ne;var re=!0;try{e:{N=!1,M&&(M=!1,G(k),k=-1),S=!0;var fe=w;try{t:{for(te(ne),b=n(m);b!==null&&!(b.expirationTime>ne&&O());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,w=b.priorityLevel;var L=Ee(b.expirationTime<=ne);if(ne=t.unstable_now(),typeof L=="function"){b.callback=L,te(ne),re=!0;break t}b===n(m)&&s(m),te(ne)}else s(m);b=n(m)}if(b!==null)re=!0;else{var ie=n(g);ie!==null&&Ve(B,ie.startTime-ne),re=!1}}break e}finally{b=null,w=fe,S=!1}re=void 0}}finally{re?F():Q=!1}}}var F;if(typeof $=="function")F=function(){$(z)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Te=D.port2;D.port1.onmessage=z,F=function(){Te.postMessage(null)}}else F=function(){U(z,0)};function Ve(ne,re){k=U(function(){ne(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var fe=w;w=re;try{return ne()}finally{w=fe}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(ne,re){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var fe=w;w=ne;try{return re()}finally{w=fe}},t.unstable_scheduleCallback=function(ne,re,fe){var Ee=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,ne){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,ne={id:v++,callback:re,priorityLevel:ne,startTime:fe,expirationTime:L,sortIndex:-1},fe>Ee?(ne.sortIndex=fe,e(g,ne),n(m)===null&&ne===n(g)&&(M?(G(k),k=-1):M=!0,Ve(B,fe-Ee))):(ne.sortIndex=L,e(m,ne),N||S||(N=!0,Q||(Q=!0,F()))),ne},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ne){var re=w;return function(){var fe=w;w=re;try{return ne.apply(this,arguments)}finally{w=fe}}}})(Fg)),Fg}var z_;function hI(){return z_||(z_=1,Bg.exports=dI()),Bg.exports}var qg={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function fI(){if(B_)return wn;B_=1;var t=N0();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,wn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},wn.flushSync=function(m){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=v,s.d.f()}},wn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},wn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},wn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},wn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},wn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},wn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},wn.requestFormReset=function(m){s.d.r(m)},wn.unstable_batchedUpdates=function(m,g){return m(g)},wn.useFormState=function(m,g,v){return u.H.useFormState(m,g,v)},wn.useFormStatus=function(){return u.H.useHostTransitionStatus()},wn.version="19.1.1",wn}var F_;function mI(){if(F_)return qg.exports;F_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qg.exports=fI(),qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function pI(){if(q_)return iu;q_=1;var t=hI(),e=N0(),n=mI();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,d=i;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){o=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return h(p),r;if(y===d)return h(p),i;y=y.sibling}throw Error(s(188))}if(o.return!==d.return)o=p,d=y;else{for(var T=!1,A=p.child;A;){if(A===o){T=!0,o=p,d=y;break}if(A===d){T=!0,d=p,o=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===o){T=!0,o=y,d=p;break}if(A===d){T=!0,d=y,o=p;break}A=A.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==d)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),$=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function Te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case Q:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case $:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case te:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return i=r.displayName||null,i!==null?i:Te(r.type)||"Memo";case E:i=r._payload,r=r._init;try{return Te(r(i))}catch{}}return null}var Ve=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ee=[],L=-1;function ie(r){return{current:r}}function R(r){0>L||(r.current=Ee[L],Ee[L]=null,L--)}function H(r,i){L++,Ee[L]=r.current,r.current=i}var de=ie(null),pe=ie(null),he=ie(null),De=ie(null);function Ie(r,i){switch(H(he,i),H(pe,r),H(de,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?c_(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=c_(i),r=u_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}R(de),H(de,r)}function We(){R(de),R(pe),R(he)}function As(r){r.memoizedState!==null&&H(De,r);var i=de.current,o=u_(i,r.type);i!==o&&(H(pe,r),H(de,o))}function yn(r){pe.current===r&&(R(de),R(pe)),De.current===r&&(R(De),Jc._currentValue=fe)}var ce=Object.prototype.hasOwnProperty,Pe=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,on=t.unstable_shouldYield,vn=t.unstable_requestPaint,_t=t.unstable_now,rs=t.unstable_getCurrentPriorityLevel,br=t.unstable_ImmediatePriority,gi=t.unstable_UserBlockingPriority,jt=t.unstable_NormalPriority,Um=t.unstable_LowPriority,vo=t.unstable_IdlePriority,Zl=t.log,Td=t.unstable_setDisableYieldValue,Tt=null,nt=null;function Gn(r){if(typeof Zl=="function"&&Td(r),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Tt,r)}catch{}}var xn=Math.clz32?Math.clz32:ga,Ed=Math.log,zm=Math.LN2;function ga(r){return r>>>=0,r===0?32:31-(Ed(r)/zm|0)|0}var ya=256,va=4194304;function Ss(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xo(r,i,o){var d=r.pendingLanes;if(d===0)return 0;var p=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var A=d&134217727;return A!==0?(d=A&~y,d!==0?p=Ss(d):(T&=A,T!==0?p=Ss(T):o||(o=A&~r,o!==0&&(p=Ss(o))))):(A=d&~y,A!==0?p=Ss(A):T!==0?p=Ss(T):o||(o=d&~r,o!==0&&(p=Ss(o)))),p===0?0:i!==0&&i!==p&&(i&y)===0&&(y=p&-p,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:p}function xa(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Jl(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var r=ya;return ya<<=1,(ya&4194048)===0&&(ya=256),r}function tc(){var r=va;return va<<=1,(va&62914560)===0&&(va=4194304),r}function wr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function _r(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function nc(r,i,o,d,p,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,V=r.expirationTimes,X=r.hiddenUpdates;for(o=T&~o;0<o;){var se=31-xn(o),le=1<<se;A[se]=0,V[se]=-1;var Z=X[se];if(Z!==null)for(X[se]=null,se=0;se<Z.length;se++){var J=Z[se];J!==null&&(J.lane&=-536870913)}o&=~le}d!==0&&Hs(r,d,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function Hs(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var d=31-xn(i);r.entangledLanes|=i,r.entanglements[d]=r.entanglements[d]|1073741824|o&4194090}function sc(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var d=31-xn(o),p=1<<d;p&i|r[d]&i&&(r[d]|=i),o&=~p}}function yi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vi(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:R_(r.type))}function Ad(r,i){var o=re.p;try{return re.p=r,i()}finally{re.p=o}}var pt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+pt,Ot="__reactProps$"+pt,is="__reactContainer$"+pt,rc="__reactEvents$"+pt,Bm="__reactListeners$"+pt,xi="__reactHandles$"+pt,Sd="__reactResources$"+pt,ba="__reactMarker$"+pt;function bi(r){delete r[Ht],delete r[Ot],delete r[rc],delete r[Bm],delete r[xi]}function Tr(r){var i=r[Ht];if(i)return i;for(var o=r.parentNode;o;){if(i=o[is]||o[Ht]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=m_(r);r!==null;){if(o=r[Ht])return o;r=m_(r)}return i}r=o,o=r.parentNode}return null}function Gs(r){if(r=r[Ht]||r[is]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function $s(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Nn(r){var i=r[Sd];return i||(i=r[Sd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(r){r[ba]=!0}var ic=new Set,wo={};function Ns(r,i){Er(r,i),Er(r+"Capture",i)}function Er(r,i){for(wo[r]=i,r=0;r<i.length;r++)ic.add(i[r])}var Nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cd={},wa={};function Rd(r){return ce.call(wa,r)?!0:ce.call(Cd,r)?!1:Nd.test(r)?wa[r]=!0:(Cd[r]=!0,!1)}function wi(r,i,o){if(Rd(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var d=i.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Ks(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ln(r,i,o,d){if(d===null)r.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+d)}}var _a,jd;function Ar(r){if(_a===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",jd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+r+jd}var _o=!1;function To(r,i){if(!r||_o)return"";_o=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var Z=J}Reflect.construct(r,[],le)}else{try{le.call()}catch(J){Z=J}r.call(le.prototype)}}else{try{throw Error()}catch(J){Z=J}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=d.DetermineComponentFrameRoot(),T=y[0],A=y[1];if(T&&A){var V=T.split(`
`),X=A.split(`
`);for(p=d=0;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(d===V.length||p===X.length)for(d=V.length-1,p=X.length-1;1<=d&&0<=p&&V[d]!==X[p];)p--;for(;1<=d&&0<=p;d--,p--)if(V[d]!==X[p]){if(d!==1||p!==1)do if(d--,p--,0>p||V[d]!==X[p]){var se=`
`+V[d].replace(" at new "," at ");return r.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",r.displayName)),se}while(1<=d&&0<=p);break}}}finally{_o=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ar(o):""}function ac(r){switch(r.tag){case 26:case 27:case 5:return Ar(r.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return To(r.type,!1);case 11:return To(r.type.render,!1);case 1:return To(r.type,!0);case 31:return Ar("Activity");default:return""}}function Eo(r){try{var i="";do i+=ac(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function oc(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fm(r){var i=oc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ao(r){r._valueTracker||(r._valueTracker=Fm(r))}function lc(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return r&&(d=oc(r)?r.checked?"true":"false":r.value),r=d,r!==o?(i.setValue(r),!0):!1}function Ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qm=/[\n"\\]/g;function Vt(r){return r.replace(qm,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $n(r,i,o,d,p,y,T,A){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Cn(i)):r.value!==""+Cn(i)&&(r.value=""+Cn(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?_i(r,T,Cn(i)):o!=null?_i(r,T,Cn(o)):d!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Cn(A):r.removeAttribute("name")}function Ea(r,i,o,d,p,y,T,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+Cn(o):"",i=i!=null?""+Cn(i):o,A||i===r.value||(r.value=i),r.defaultValue=i}d=d??p,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=A?r.checked:!!d,r.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function _i(r,i,o){i==="number"&&Ta(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Sr(r,i,o,d){if(r=r.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=i.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&d&&(r[o].defaultSelected=!0)}else{for(o=""+Cn(o),i=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function at(r,i,o){if(i!=null&&(i=""+Cn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Cn(o):""}function Aa(r,i,o,d){if(i==null){if(d!=null){if(o!=null)throw Error(s(92));if(Ve(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),i=o}o=Cn(i),r.defaultValue=o,d=r.textContent,d===o&&d!==""&&d!==null&&(r.value=d)}function as(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(r,i,o){var d=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":d?r.setProperty(i,o):typeof o!="number"||o===0||Sa.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function cc(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||i!=null&&i.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var p in i)d=i[p],i.hasOwnProperty(p)&&o[p]!==d&&Id(r,p,d)}else for(var y in i)i.hasOwnProperty(y)&&Id(r,y,i[y])}function uc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(r){return Gm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Nr=null;function os(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cr=null,Rr=null;function dc(r){var i=Gs(r);if(i&&(r=i.stateNode)){var o=r[Ot]||null;e:switch(r=i.stateNode,i.type){case"input":if($n(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==r&&d.form===r.form){var p=d[Ot]||null;if(!p)throw Error(s(90));$n(d,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)d=o[i],d.form===r.form&&lc(d)}break e;case"textarea":at(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Sr(r,!!o.multiple,i,!1)}}}var Qs=!1;function kd(r,i,o){if(Qs)return r(i,o);Qs=!0;try{var d=r(i);return d}finally{if(Qs=!1,(Cr!==null||Rr!==null)&&(Ah(),Cr&&(i=Cr,r=Rr,Rr=Cr=null,dc(i),r)))for(i=0;i<r.length;i++)dc(r[i])}}function Na(r,i){var o=r.stateNode;if(o===null)return null;var d=o[Ot]||null;if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(Cs)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{ls=!1}var Ys=null,Ti=null,jr=null;function hc(){if(jr)return jr;var r,i=Ti,o=i.length,d,p="value"in Ys?Ys.value:Ys.textContent,y=p.length;for(r=0;r<o&&i[r]===p[r];r++);var T=o-r;for(d=1;d<=T&&i[o-d]===p[y-d];d++);return jr=p.slice(r,1<d?1-d:void 0)}function Ws(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Xs(){return!0}function fc(){return!1}function Wt(r){function i(o,d,p,y,T){this._reactName=o,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xs:fc,this.isPropagationStopped=fc,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=Wt(Ze),Ra=v({},Ze,{view:0,detail:0}),Dd=Wt(Ra),Co,Ro,Zs,ja=v({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Zs&&(Zs&&r.type==="mousemove"?(Co=r.screenX-Zs.screenX,Ro=r.screenY-Zs.screenY):Ro=Co=0,Zs=r),Co)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),cs=Wt(ja),Pd=v({},ja,{dataTransfer:0}),$m=Wt(Pd),Ia=v({},Ra,{relatedTarget:0}),jo=Wt(Ia),mc=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Io=Wt(mc),Md=v({},Ze,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ko=Wt(Md),Km=v({},Ze,{data:0}),pc=Wt(Km),ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Od={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Vd[r])?!!i[r]:!1}function Da(){return gc}var Ld=v({},Ra,{key:function(r){if(r.key){var i=ka[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Od[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(r){return r.type==="keypress"?Ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Do=Wt(Ld),Ud=v({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Wt(Ud),Ir=v({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),zd=Wt(Ir),Bd=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fd=Wt(Bd),qd=v({},ja,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=Wt(qd),Rn=v({},Ze,{newState:0,oldState:0}),Hd=Wt(Rn),Gd=[9,13,27,32],Js=Cs&&"CompositionEvent"in window,f=null;Cs&&"documentMode"in document&&(f=document.documentMode);var x=Cs&&"TextEvent"in window&&!f,_=Cs&&(!Js||f&&8<f&&11>=f),j=" ",Y=!1;function ee(r,i){switch(r){case"keyup":return Gd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ge=!1;function Gt(r,i){switch(r){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(Y=!0,j);case"textInput":return r=i.data,r===j&&Y?null:r;default:return null}}function $e(r,i){if(Ge)return r==="compositionend"||!Js&&ee(r,i)?(r=hc(),jr=Ti=Ys=null,Ge=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Xt[r.type]:i==="textarea"}function kr(r,i,o,d){Cr?Rr?Rr.push(d):Rr=[d]:Cr=d,i=Ih(i,"onChange"),0<i.length&&(o=new No("onChange","change",null,o,d),r.push({event:o,listeners:i}))}var cn=null,er=null;function vc(r){r_(r,0)}function $d(r){var i=$s(r);if(lc(i))return r}function Ax(r,i){if(r==="change")return i}var Sx=!1;if(Cs){var Qm;if(Cs){var Ym="oninput"in document;if(!Ym){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),Ym=typeof Nx.oninput=="function"}Qm=Ym}else Qm=!1;Sx=Qm&&(!document.documentMode||9<document.documentMode)}function Cx(){cn&&(cn.detachEvent("onpropertychange",Rx),er=cn=null)}function Rx(r){if(r.propertyName==="value"&&$d(er)){var i=[];kr(i,er,r,os(r)),kd(vc,i)}}function LR(r,i,o){r==="focusin"?(Cx(),cn=i,er=o,cn.attachEvent("onpropertychange",Rx)):r==="focusout"&&Cx()}function UR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $d(er)}function zR(r,i){if(r==="click")return $d(i)}function BR(r,i){if(r==="input"||r==="change")return $d(i)}function FR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Kn=typeof Object.is=="function"?Object.is:FR;function xc(r,i){if(Kn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var p=o[d];if(!ce.call(i,p)||!Kn(r[p],i[p]))return!1}return!0}function jx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ix(r,i){var o=jx(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=i&&d>=i)return{node:o,offset:i-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jx(o)}}function kx(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?kx(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Dx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ta(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Ta(r.document)}return i}function Wm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var qR=Cs&&"documentMode"in document&&11>=document.documentMode,Mo=null,Xm=null,bc=null,Zm=!1;function Px(r,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zm||Mo==null||Mo!==Ta(d)||(d=Mo,"selectionStart"in d&&Wm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bc&&xc(bc,d)||(bc=d,d=Ih(Xm,"onSelect"),0<d.length&&(i=new No("onSelect","select",null,i,o),r.push({event:i,listeners:d}),i.target=Mo)))}function Pa(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Oo={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Jm={},Mx={};Cs&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Ma(r){if(Jm[r])return Jm[r];if(!Oo[r])return r;var i=Oo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Mx)return Jm[r]=i[o];return r}var Ox=Ma("animationend"),Vx=Ma("animationiteration"),Lx=Ma("animationstart"),HR=Ma("transitionrun"),GR=Ma("transitionstart"),$R=Ma("transitioncancel"),Ux=Ma("transitionend"),zx=new Map,ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ep.push("scrollEnd");function Rs(r,i){zx.set(r,i),Ns(i,[r])}var Bx=new WeakMap;function us(r,i){if(typeof r=="object"&&r!==null){var o=Bx.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Eo(i)},Bx.set(r,i),i)}return{value:r,source:i,stack:Eo(i)}}var ds=[],Vo=0,tp=0;function Kd(){for(var r=Vo,i=tp=Vo=0;i<r;){var o=ds[i];ds[i++]=null;var d=ds[i];ds[i++]=null;var p=ds[i];ds[i++]=null;var y=ds[i];if(ds[i++]=null,d!==null&&p!==null){var T=d.pending;T===null?p.next=p:(p.next=T.next,T.next=p),d.pending=p}y!==0&&Fx(o,p,y)}}function Qd(r,i,o,d){ds[Vo++]=r,ds[Vo++]=i,ds[Vo++]=o,ds[Vo++]=d,tp|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function np(r,i,o,d){return Qd(r,i,o,d),Yd(r)}function Lo(r,i){return Qd(r,null,null,i),Yd(r)}function Fx(r,i,o){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,d=y.alternate,d!==null&&(d.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&i!==null&&(p=31-xn(o),r=y.hiddenUpdates,d=r[p],d===null?r[p]=[i]:d.push(i),i.lane=o|536870912),y):null}function Yd(r){if(50<Gc)throw Gc=0,lg=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Uo={};function KR(r,i,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(r,i,o,d){return new KR(r,i,o,d)}function sp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Dr(r,i){var o=r.alternate;return o===null?(o=Qn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function qx(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Wd(r,i,o,d,p,y){var T=0;if(d=r,typeof r=="function")sp(r)&&(T=1);else if(typeof r=="string")T=Yj(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Qn(31,o,i,p),r.elementType=C,r.lanes=y,r;case N:return Oa(o.children,p,y,i);case M:T=8,p|=24;break;case P:return r=Qn(12,o,i,p|2),r.elementType=P,r.lanes=y,r;case B:return r=Qn(13,o,i,p),r.elementType=B,r.lanes=y,r;case Q:return r=Qn(19,o,i,p),r.elementType=Q,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:case $:T=10;break e;case G:T=9;break e;case te:T=11;break e;case k:T=14;break e;case E:T=16,d=null;break e}T=29,o=Error(s(130,r===null?"null":typeof r,"")),d=null}return i=Qn(T,o,i,p),i.elementType=r,i.type=d,i.lanes=y,i}function Oa(r,i,o,d){return r=Qn(7,r,d,i),r.lanes=o,r}function rp(r,i,o){return r=Qn(6,r,null,i),r.lanes=o,r}function ip(r,i,o){return i=Qn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var zo=[],Bo=0,Xd=null,Zd=0,hs=[],fs=0,Va=null,Pr=1,Mr="";function La(r,i){zo[Bo++]=Zd,zo[Bo++]=Xd,Xd=r,Zd=i}function Hx(r,i,o){hs[fs++]=Pr,hs[fs++]=Mr,hs[fs++]=Va,Va=r;var d=Pr;r=Mr;var p=32-xn(d)-1;d&=~(1<<p),o+=1;var y=32-xn(i)+p;if(30<y){var T=p-p%5;y=(d&(1<<T)-1).toString(32),d>>=T,p-=T,Pr=1<<32-xn(i)+p|o<<p|d,Mr=y+r}else Pr=1<<y|o<<p|d,Mr=r}function ap(r){r.return!==null&&(La(r,1),Hx(r,1,0))}function op(r){for(;r===Xd;)Xd=zo[--Bo],zo[Bo]=null,Zd=zo[--Bo],zo[Bo]=null;for(;r===Va;)Va=hs[--fs],hs[fs]=null,Mr=hs[--fs],hs[fs]=null,Pr=hs[--fs],hs[fs]=null}var jn=null,Et=null,Xe=!1,Ua=null,tr=!1,lp=Error(s(519));function za(r){var i=Error(s(418,""));throw Tc(us(i,r)),lp}function Gx(r){var i=r.stateNode,o=r.type,d=r.memoizedProps;switch(i[Ht]=r,i[Ot]=d,o){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(o=0;o<Kc.length;o++)Be(Kc[o],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Ea(i,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Ao(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Aa(i,d.value,d.defaultValue,d.children),Ao(i)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||d.suppressHydrationWarning===!0||l_(i.textContent,o)?(d.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),d.onScroll!=null&&Be("scroll",i),d.onScrollEnd!=null&&Be("scrollend",i),d.onClick!=null&&(i.onclick=kh),i=!0):i=!1,i||za(r)}function $x(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:jn=jn.return}}function wc(r){if(r!==jn)return!1;if(!Xe)return $x(r),Xe=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Eg(r.type,r.memoizedProps)),o=!o),o&&Et&&za(r),$x(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Et=Is(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Et=null}}else i===27?(i=Et,Ui(r.type)?(r=Cg,Cg=null,Et=r):Et=i):Et=jn?Is(r.stateNode.nextSibling):null;return!0}function _c(){Et=jn=null,Xe=!1}function Kx(){var r=Ua;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),Ua=null),r}function Tc(r){Ua===null?Ua=[r]:Ua.push(r)}var cp=ie(null),Ba=null,Or=null;function Ei(r,i,o){H(cp,i._currentValue),i._currentValue=o}function Vr(r){r._currentValue=cp.current,R(cp)}function up(r,i,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===o)break;r=r.return}}function dp(r,i,o,d){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var T=p.child;y=y.firstContext;e:for(;y!==null;){var A=y;y=p;for(var V=0;V<i.length;V++)if(A.context===i[V]){y.lanes|=o,A=y.alternate,A!==null&&(A.lanes|=o),up(y.return,o,r),d||(T=null);break e}y=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(s(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),up(T,o,r),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===r){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Ec(r,i,o,d){r=null;for(var p=i,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var A=p.type;Kn(p.pendingProps.value,T.value)||(r!==null?r.push(A):r=[A])}}else if(p===De.current){if(T=p.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Jc):r=[Jc])}p=p.return}r!==null&&dp(i,r,o,d),i.flags|=262144}function Jd(r){for(r=r.firstContext;r!==null;){if(!Kn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Fa(r){Ba=r,Or=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function bn(r){return Qx(Ba,r)}function eh(r,i){return Ba===null&&Fa(r),Qx(r,i)}function Qx(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Or===null){if(r===null)throw Error(s(308));Or=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Or=Or.next=i;return o}var QR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,d){r.push(d)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},YR=t.unstable_scheduleCallback,WR=t.unstable_NormalPriority,Kt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hp(){return{controller:new QR,data:new Map,refCount:0}}function Ac(r){r.refCount--,r.refCount===0&&YR(WR,function(){r.controller.abort()})}var Sc=null,fp=0,Fo=0,qo=null;function XR(r,i){if(Sc===null){var o=Sc=[];fp=0,Fo=pg(),qo={status:"pending",value:void 0,then:function(d){o.push(d)}}}return fp++,i.then(Yx,Yx),i}function Yx(){if(--fp===0&&Sc!==null){qo!==null&&(qo.status="fulfilled");var r=Sc;Sc=null,Fo=0,qo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function ZR(r,i){var o=[],d={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){d.status="fulfilled",d.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(d.status="rejected",d.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),d}var Wx=ne.S;ne.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&XR(r,i),Wx!==null&&Wx(r,i)};var qa=ie(null);function mp(){var r=qa.current;return r!==null?r:dt.pooledCache}function th(r,i){i===null?H(qa,qa.current):H(qa,i.pool)}function Xx(){var r=mp();return r===null?null:{parent:Kt._currentValue,pool:r}}var Nc=Error(s(460)),Zx=Error(s(474)),nh=Error(s(542)),pp={then:function(){}};function Jx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sh(){}function eb(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(sh,sh),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nb(r),r;default:if(typeof i.status=="string")i.then(sh,sh);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(d){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=d}},function(d){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=d}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,nb(r),r}throw Cc=i,Nc}}var Cc=null;function tb(){if(Cc===null)throw Error(s(459));var r=Cc;return Cc=null,r}function nb(r){if(r===Nc||r===nh)throw Error(s(483))}var Ai=!1;function gp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Si(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ni(r,i,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(st&2)!==0){var p=d.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),d.pending=i,i=Yd(r),Fx(r,null,o),i}return Qd(r,d,i,o),Yd(r)}function Rc(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,sc(r,o)}}function vp(r,i){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?p=y=i:y=y.next=i}else p=y=i;o={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,callbacks:d.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var xp=!1;function jc(){if(xp){var r=qo;if(r!==null)throw r}}function Ic(r,i,o,d){xp=!1;var p=r.updateQueue;Ai=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var V=A,X=V.next;V.next=null,T===null?y=X:T.next=X,T=V;var se=r.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==T&&(A===null?se.firstBaseUpdate=X:A.next=X,se.lastBaseUpdate=V))}if(y!==null){var le=p.baseState;T=0,se=X=V=null,A=y;do{var Z=A.lane&-536870913,J=Z!==A.lane;if(J?(Ke&Z)===Z:(d&Z)===Z){Z!==0&&Z===Fo&&(xp=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ce=r,_e=A;Z=i;var ct=o;switch(_e.tag){case 1:if(Ce=_e.payload,typeof Ce=="function"){le=Ce.call(ct,le,Z);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=_e.payload,Z=typeof Ce=="function"?Ce.call(ct,le,Z):Ce,Z==null)break e;le=v({},le,Z);break e;case 2:Ai=!0}}Z=A.callback,Z!==null&&(r.flags|=64,J&&(r.flags|=8192),J=p.callbacks,J===null?p.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(X=se=J,V=le):se=se.next=J,T|=Z;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;J=A,A=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);se===null&&(V=le),p.baseState=V,p.firstBaseUpdate=X,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),Mi|=T,r.lanes=T,r.memoizedState=le}}function sb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function rb(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)sb(o[r],i)}var Ho=ie(null),rh=ie(0);function ib(r,i){r=Hr,H(rh,r),H(Ho,i),Hr=r|i.baseLanes}function bp(){H(rh,Hr),H(Ho,Ho.current)}function wp(){Hr=rh.current,R(Ho),R(rh)}var Ci=0,Le=null,ot=null,Lt=null,ih=!1,Go=!1,Ha=!1,ah=0,kc=0,$o=null,JR=0;function kt(){throw Error(s(321))}function _p(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Kn(r[o],i[o]))return!1;return!0}function Tp(r,i,o,d,p,y){return Ci=y,Le=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ne.H=r===null||r.memoizedState===null?Fb:qb,Ha=!1,y=o(d,p),Ha=!1,Go&&(y=ob(i,o,d,p)),ab(r),y}function ab(r){ne.H=hh;var i=ot!==null&&ot.next!==null;if(Ci=0,Lt=ot=Le=null,ih=!1,kc=0,$o=null,i)throw Error(s(300));r===null||Zt||(r=r.dependencies,r!==null&&Jd(r)&&(Zt=!0))}function ob(r,i,o,d){Le=r;var p=0;do{if(Go&&($o=null),kc=0,Go=!1,25<=p)throw Error(s(301));if(p+=1,Lt=ot=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ne.H=aj,y=i(o,d)}while(Go);return y}function ej(){var r=ne.H,i=r.useState()[0];return i=typeof i.then=="function"?Dc(i):i,r=r.useState()[0],(ot!==null?ot.memoizedState:null)!==r&&(Le.flags|=1024),i}function Ep(){var r=ah!==0;return ah=0,r}function Ap(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Sp(r){if(ih){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}Ci=0,Lt=ot=Le=null,Go=!1,kc=ah=0,$o=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Le.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function Ut(){if(ot===null){var r=Le.alternate;r=r!==null?r.memoizedState:null}else r=ot.next;var i=Lt===null?Le.memoizedState:Lt.next;if(i!==null)Lt=i,ot=r;else{if(r===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ot=r,r={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Lt===null?Le.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(r){var i=kc;return kc+=1,$o===null&&($o=[]),r=eb($o,r,i),i=Le,(Lt===null?i.memoizedState:Lt.next)===null&&(i=i.alternate,ne.H=i===null||i.memoizedState===null?Fb:qb),r}function oh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Dc(r);if(r.$$typeof===$)return bn(r)}throw Error(s(438,String(r)))}function Cp(r){var i=null,o=Le.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var d=Le.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(i={data:d.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Np(),Le.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),d=0;d<r;d++)o[d]=O;return i.index++,o}function Lr(r,i){return typeof i=="function"?i(r):i}function lh(r){var i=Ut();return Rp(i,ot,r)}function Rp(r,i,o){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=o;var p=r.baseQueue,y=d.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}i.baseQueue=p=y,d.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{i=p.next;var A=T=null,V=null,X=i,se=!1;do{var le=X.lane&-536870913;if(le!==X.lane?(Ke&le)===le:(Ci&le)===le){var Z=X.revertLane;if(Z===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),le===Fo&&(se=!0);else if((Ci&Z)===Z){X=X.next,Z===Fo&&(se=!0);continue}else le={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=le,T=y):V=V.next=le,Le.lanes|=Z,Mi|=Z;le=X.action,Ha&&o(y,le),y=X.hasEagerState?X.eagerState:o(y,le)}else Z={lane:le,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},V===null?(A=V=Z,T=y):V=V.next=Z,Le.lanes|=le,Mi|=le;X=X.next}while(X!==null&&X!==i);if(V===null?T=y:V.next=A,!Kn(y,r.memoizedState)&&(Zt=!0,se&&(o=qo,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=V,d.lastRenderedState=y}return p===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function jp(r){var i=Ut(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var d=o.dispatch,p=o.pending,y=i.memoizedState;if(p!==null){o.pending=null;var T=p=p.next;do y=r(y,T.action),T=T.next;while(T!==p);Kn(y,i.memoizedState)||(Zt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,d]}function lb(r,i,o){var d=Le,p=Ut(),y=Xe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=i();var T=!Kn((ot||p).memoizedState,o);T&&(p.memoizedState=o,Zt=!0),p=p.queue;var A=db.bind(null,d,p,r);if(Pc(2048,8,A,[r]),p.getSnapshot!==i||T||Lt!==null&&Lt.memoizedState.tag&1){if(d.flags|=2048,Ko(9,ch(),ub.bind(null,d,p,o,i),null),dt===null)throw Error(s(349));y||(Ci&124)!==0||cb(d,i,o)}return o}function cb(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Le.updateQueue,i===null?(i=Np(),Le.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function ub(r,i,o,d){i.value=o,i.getSnapshot=d,hb(i)&&fb(r)}function db(r,i,o){return o(function(){hb(i)&&fb(r)})}function hb(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Kn(r,o)}catch{return!0}}function fb(r){var i=Lo(r,2);i!==null&&Jn(i,r,2)}function Ip(r){var i=Vn();if(typeof r=="function"){var o=r;if(r=o(),Ha){Gn(!0);try{o()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:r},i}function mb(r,i,o,d){return r.baseState=o,Rp(r,ot,typeof d=="function"?d:Lr)}function tj(r,i,o,d,p){if(dh(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};ne.T!==null?o(!0):y.isTransition=!1,d(y),o=i.pending,o===null?(y.next=i.pending=y,pb(i,y)):(y.next=o.next,i.pending=o.next=y)}}function pb(r,i){var o=i.action,d=i.payload,p=r.state;if(i.isTransition){var y=ne.T,T={};ne.T=T;try{var A=o(p,d),V=ne.S;V!==null&&V(T,A),gb(r,i,A)}catch(X){kp(r,i,X)}finally{ne.T=y}}else try{y=o(p,d),gb(r,i,y)}catch(X){kp(r,i,X)}}function gb(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){yb(r,i,d)},function(d){return kp(r,i,d)}):yb(r,i,o)}function yb(r,i,o){i.status="fulfilled",i.value=o,vb(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,pb(r,o)))}function kp(r,i,o){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do i.status="rejected",i.reason=o,vb(i),i=i.next;while(i!==d)}r.action=null}function vb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function xb(r,i){return i}function bb(r,i){if(Xe){var o=dt.formState;if(o!==null){e:{var d=Le;if(Xe){if(Et){t:{for(var p=Et,y=tr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Is(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Et=Is(p.nextSibling),d=p.data==="F!";break e}}za(d)}d=!1}d&&(i=o[0])}}return o=Vn(),o.memoizedState=o.baseState=i,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xb,lastRenderedState:i},o.queue=d,o=Ub.bind(null,Le,d),d.dispatch=o,d=Ip(!1),y=Vp.bind(null,Le,!1,d.queue),d=Vn(),p={state:i,dispatch:null,action:r,pending:null},d.queue=p,o=tj.bind(null,Le,p,y,o),p.dispatch=o,d.memoizedState=r,[i,o,!1]}function wb(r){var i=Ut();return _b(i,ot,r)}function _b(r,i,o){if(i=Rp(r,i,xb)[0],r=lh(Lr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var d=Dc(i)}catch(T){throw T===Nc?nh:T}else d=i;i=Ut();var p=i.queue,y=p.dispatch;return o!==i.memoizedState&&(Le.flags|=2048,Ko(9,ch(),nj.bind(null,p,o),null)),[d,y,r]}function nj(r,i){r.action=i}function Tb(r){var i=Ut(),o=ot;if(o!==null)return _b(i,o,r);Ut(),i=i.memoizedState,o=Ut();var d=o.queue.dispatch;return o.memoizedState=r,[i,d,!1]}function Ko(r,i,o,d){return r={tag:r,create:o,deps:d,inst:i,next:null},i=Le.updateQueue,i===null&&(i=Np(),Le.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,i.lastEffect=r),r}function ch(){return{destroy:void 0,resource:void 0}}function Eb(){return Ut().memoizedState}function uh(r,i,o,d){var p=Vn();d=d===void 0?null:d,Le.flags|=r,p.memoizedState=Ko(1|i,ch(),o,d)}function Pc(r,i,o,d){var p=Ut();d=d===void 0?null:d;var y=p.memoizedState.inst;ot!==null&&d!==null&&_p(d,ot.memoizedState.deps)?p.memoizedState=Ko(i,y,o,d):(Le.flags|=r,p.memoizedState=Ko(1|i,y,o,d))}function Ab(r,i){uh(8390656,8,r,i)}function Sb(r,i){Pc(2048,8,r,i)}function Nb(r,i){return Pc(4,2,r,i)}function Cb(r,i){return Pc(4,4,r,i)}function Rb(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function jb(r,i,o){o=o!=null?o.concat([r]):null,Pc(4,4,Rb.bind(null,i,r),o)}function Dp(){}function Ib(r,i){var o=Ut();i=i===void 0?null:i;var d=o.memoizedState;return i!==null&&_p(i,d[1])?d[0]:(o.memoizedState=[r,i],r)}function kb(r,i){var o=Ut();i=i===void 0?null:i;var d=o.memoizedState;if(i!==null&&_p(i,d[1]))return d[0];if(d=r(),Ha){Gn(!0);try{r()}finally{Gn(!1)}}return o.memoizedState=[d,i],d}function Pp(r,i,o){return o===void 0||(Ci&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=Mw(),Le.lanes|=r,Mi|=r,o)}function Db(r,i,o,d){return Kn(o,i)?o:Ho.current!==null?(r=Pp(r,o,d),Kn(r,i)||(Zt=!0),r):(Ci&42)===0?(Zt=!0,r.memoizedState=o):(r=Mw(),Le.lanes|=r,Mi|=r,i)}function Pb(r,i,o,d,p){var y=re.p;re.p=y!==0&&8>y?y:8;var T=ne.T,A={};ne.T=A,Vp(r,!1,i,o);try{var V=p(),X=ne.S;if(X!==null&&X(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=ZR(V,d);Mc(r,i,se,Zn(r))}else Mc(r,i,d,Zn(r))}catch(le){Mc(r,i,{then:function(){},status:"rejected",reason:le},Zn())}finally{re.p=y,ne.T=T}}function sj(){}function Mp(r,i,o,d){if(r.tag!==5)throw Error(s(476));var p=Mb(r).queue;Pb(r,p,i,fe,o===null?sj:function(){return Ob(r),o(d)})}function Mb(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:fe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Ob(r){var i=Mb(r).next.queue;Mc(r,i,{},Zn())}function Op(){return bn(Jc)}function Vb(){return Ut().memoizedState}function Lb(){return Ut().memoizedState}function rj(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Zn();r=Si(o);var d=Ni(i,r,o);d!==null&&(Jn(d,i,o),Rc(d,i,o)),i={cache:hp()},r.payload=i;return}i=i.return}}function ij(r,i,o){var d=Zn();o={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dh(r)?zb(i,o):(o=np(r,i,o,d),o!==null&&(Jn(o,r,d),Bb(o,i,d)))}function Ub(r,i,o){var d=Zn();Mc(r,i,o,d)}function Mc(r,i,o,d){var p={lane:d,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dh(r))zb(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,A=y(T,o);if(p.hasEagerState=!0,p.eagerState=A,Kn(A,T))return Qd(r,i,p,0),dt===null&&Kd(),!1}catch{}finally{}if(o=np(r,i,p,d),o!==null)return Jn(o,r,d),Bb(o,i,d),!0}return!1}function Vp(r,i,o,d){if(d={lane:2,revertLane:pg(),action:d,hasEagerState:!1,eagerState:null,next:null},dh(r)){if(i)throw Error(s(479))}else i=np(r,o,d,2),i!==null&&Jn(i,r,2)}function dh(r){var i=r.alternate;return r===Le||i!==null&&i===Le}function zb(r,i){Go=ih=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Bb(r,i,o){if((o&4194048)!==0){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,sc(r,o)}}var hh={readContext:bn,use:oh,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},Fb={readContext:bn,use:oh,useCallback:function(r,i){return Vn().memoizedState=[r,i===void 0?null:i],r},useContext:bn,useEffect:Ab,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,uh(4194308,4,Rb.bind(null,i,r),o)},useLayoutEffect:function(r,i){return uh(4194308,4,r,i)},useInsertionEffect:function(r,i){uh(4,2,r,i)},useMemo:function(r,i){var o=Vn();i=i===void 0?null:i;var d=r();if(Ha){Gn(!0);try{r()}finally{Gn(!1)}}return o.memoizedState=[d,i],d},useReducer:function(r,i,o){var d=Vn();if(o!==void 0){var p=o(i);if(Ha){Gn(!0);try{o(i)}finally{Gn(!1)}}}else p=i;return d.memoizedState=d.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},d.queue=r,r=r.dispatch=ij.bind(null,Le,r),[d.memoizedState,r]},useRef:function(r){var i=Vn();return r={current:r},i.memoizedState=r},useState:function(r){r=Ip(r);var i=r.queue,o=Ub.bind(null,Le,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Dp,useDeferredValue:function(r,i){var o=Vn();return Pp(o,r,i)},useTransition:function(){var r=Ip(!1);return r=Pb.bind(null,Le,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var d=Le,p=Vn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),dt===null)throw Error(s(349));(Ke&124)!==0||cb(d,i,o)}p.memoizedState=o;var y={value:o,getSnapshot:i};return p.queue=y,Ab(db.bind(null,d,y,r),[r]),d.flags|=2048,Ko(9,ch(),ub.bind(null,d,y,o,i),null),o},useId:function(){var r=Vn(),i=dt.identifierPrefix;if(Xe){var o=Mr,d=Pr;o=(d&~(1<<32-xn(d)-1)).toString(32)+o,i="«"+i+"R"+o,o=ah++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=JR++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Op,useFormState:bb,useActionState:bb,useOptimistic:function(r){var i=Vn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Vp.bind(null,Le,!0,o),o.dispatch=i,[r,i]},useMemoCache:Cp,useCacheRefresh:function(){return Vn().memoizedState=rj.bind(null,Le)}},qb={readContext:bn,use:oh,useCallback:Ib,useContext:bn,useEffect:Sb,useImperativeHandle:jb,useInsertionEffect:Nb,useLayoutEffect:Cb,useMemo:kb,useReducer:lh,useRef:Eb,useState:function(){return lh(Lr)},useDebugValue:Dp,useDeferredValue:function(r,i){var o=Ut();return Db(o,ot.memoizedState,r,i)},useTransition:function(){var r=lh(Lr)[0],i=Ut().memoizedState;return[typeof r=="boolean"?r:Dc(r),i]},useSyncExternalStore:lb,useId:Vb,useHostTransitionStatus:Op,useFormState:wb,useActionState:wb,useOptimistic:function(r,i){var o=Ut();return mb(o,ot,r,i)},useMemoCache:Cp,useCacheRefresh:Lb},aj={readContext:bn,use:oh,useCallback:Ib,useContext:bn,useEffect:Sb,useImperativeHandle:jb,useInsertionEffect:Nb,useLayoutEffect:Cb,useMemo:kb,useReducer:jp,useRef:Eb,useState:function(){return jp(Lr)},useDebugValue:Dp,useDeferredValue:function(r,i){var o=Ut();return ot===null?Pp(o,r,i):Db(o,ot.memoizedState,r,i)},useTransition:function(){var r=jp(Lr)[0],i=Ut().memoizedState;return[typeof r=="boolean"?r:Dc(r),i]},useSyncExternalStore:lb,useId:Vb,useHostTransitionStatus:Op,useFormState:Tb,useActionState:Tb,useOptimistic:function(r,i){var o=Ut();return ot!==null?mb(o,ot,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:Lb},Qo=null,Oc=0;function fh(r){var i=Oc;return Oc+=1,Qo===null&&(Qo=[]),eb(Qo,r,i)}function Vc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function mh(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Hb(r){var i=r._init;return i(r._payload)}function Gb(r){function i(K,q){if(r){var W=K.deletions;W===null?(K.deletions=[q],K.flags|=16):W.push(q)}}function o(K,q){if(!r)return null;for(;q!==null;)i(K,q),q=q.sibling;return null}function d(K){for(var q=new Map;K!==null;)K.key!==null?q.set(K.key,K):q.set(K.index,K),K=K.sibling;return q}function p(K,q){return K=Dr(K,q),K.index=0,K.sibling=null,K}function y(K,q,W){return K.index=W,r?(W=K.alternate,W!==null?(W=W.index,W<q?(K.flags|=67108866,q):W):(K.flags|=67108866,q)):(K.flags|=1048576,q)}function T(K){return r&&K.alternate===null&&(K.flags|=67108866),K}function A(K,q,W,ae){return q===null||q.tag!==6?(q=rp(W,K.mode,ae),q.return=K,q):(q=p(q,W),q.return=K,q)}function V(K,q,W,ae){var ve=W.type;return ve===N?se(K,q,W.props.children,ae,W.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&Hb(ve)===q.type)?(q=p(q,W.props),Vc(q,W),q.return=K,q):(q=Wd(W.type,W.key,W.props,null,K.mode,ae),Vc(q,W),q.return=K,q)}function X(K,q,W,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=ip(W,K.mode,ae),q.return=K,q):(q=p(q,W.children||[]),q.return=K,q)}function se(K,q,W,ae,ve){return q===null||q.tag!==7?(q=Oa(W,K.mode,ae,ve),q.return=K,q):(q=p(q,W),q.return=K,q)}function le(K,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=rp(""+q,K.mode,W),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return W=Wd(q.type,q.key,q.props,null,K.mode,W),Vc(W,q),W.return=K,W;case S:return q=ip(q,K.mode,W),q.return=K,q;case E:var ae=q._init;return q=ae(q._payload),le(K,q,W)}if(Ve(q)||F(q))return q=Oa(q,K.mode,W,null),q.return=K,q;if(typeof q.then=="function")return le(K,fh(q),W);if(q.$$typeof===$)return le(K,eh(K,q),W);mh(K,q)}return null}function Z(K,q,W,ae){var ve=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:A(K,q,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return W.key===ve?V(K,q,W,ae):null;case S:return W.key===ve?X(K,q,W,ae):null;case E:return ve=W._init,W=ve(W._payload),Z(K,q,W,ae)}if(Ve(W)||F(W))return ve!==null?null:se(K,q,W,ae,null);if(typeof W.then=="function")return Z(K,q,fh(W),ae);if(W.$$typeof===$)return Z(K,q,eh(K,W),ae);mh(K,W)}return null}function J(K,q,W,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(W)||null,A(q,K,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return K=K.get(ae.key===null?W:ae.key)||null,V(q,K,ae,ve);case S:return K=K.get(ae.key===null?W:ae.key)||null,X(q,K,ae,ve);case E:var Ue=ae._init;return ae=Ue(ae._payload),J(K,q,W,ae,ve)}if(Ve(ae)||F(ae))return K=K.get(W)||null,se(q,K,ae,ve,null);if(typeof ae.then=="function")return J(K,q,W,fh(ae),ve);if(ae.$$typeof===$)return J(K,q,W,eh(q,ae),ve);mh(q,ae)}return null}function Ce(K,q,W,ae){for(var ve=null,Ue=null,be=q,Ae=q=0,en=null;be!==null&&Ae<W.length;Ae++){be.index>Ae?(en=be,be=null):en=be.sibling;var Ye=Z(K,be,W[Ae],ae);if(Ye===null){be===null&&(be=en);break}r&&be&&Ye.alternate===null&&i(K,be),q=y(Ye,q,Ae),Ue===null?ve=Ye:Ue.sibling=Ye,Ue=Ye,be=en}if(Ae===W.length)return o(K,be),Xe&&La(K,Ae),ve;if(be===null){for(;Ae<W.length;Ae++)be=le(K,W[Ae],ae),be!==null&&(q=y(be,q,Ae),Ue===null?ve=be:Ue.sibling=be,Ue=be);return Xe&&La(K,Ae),ve}for(be=d(be);Ae<W.length;Ae++)en=J(be,K,Ae,W[Ae],ae),en!==null&&(r&&en.alternate!==null&&be.delete(en.key===null?Ae:en.key),q=y(en,q,Ae),Ue===null?ve=en:Ue.sibling=en,Ue=en);return r&&be.forEach(function(Hi){return i(K,Hi)}),Xe&&La(K,Ae),ve}function _e(K,q,W,ae){if(W==null)throw Error(s(151));for(var ve=null,Ue=null,be=q,Ae=q=0,en=null,Ye=W.next();be!==null&&!Ye.done;Ae++,Ye=W.next()){be.index>Ae?(en=be,be=null):en=be.sibling;var Hi=Z(K,be,Ye.value,ae);if(Hi===null){be===null&&(be=en);break}r&&be&&Hi.alternate===null&&i(K,be),q=y(Hi,q,Ae),Ue===null?ve=Hi:Ue.sibling=Hi,Ue=Hi,be=en}if(Ye.done)return o(K,be),Xe&&La(K,Ae),ve;if(be===null){for(;!Ye.done;Ae++,Ye=W.next())Ye=le(K,Ye.value,ae),Ye!==null&&(q=y(Ye,q,Ae),Ue===null?ve=Ye:Ue.sibling=Ye,Ue=Ye);return Xe&&La(K,Ae),ve}for(be=d(be);!Ye.done;Ae++,Ye=W.next())Ye=J(be,K,Ae,Ye.value,ae),Ye!==null&&(r&&Ye.alternate!==null&&be.delete(Ye.key===null?Ae:Ye.key),q=y(Ye,q,Ae),Ue===null?ve=Ye:Ue.sibling=Ye,Ue=Ye);return r&&be.forEach(function(oI){return i(K,oI)}),Xe&&La(K,Ae),ve}function ct(K,q,W,ae){if(typeof W=="object"&&W!==null&&W.type===N&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case w:e:{for(var ve=W.key;q!==null;){if(q.key===ve){if(ve=W.type,ve===N){if(q.tag===7){o(K,q.sibling),ae=p(q,W.props.children),ae.return=K,K=ae;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===E&&Hb(ve)===q.type){o(K,q.sibling),ae=p(q,W.props),Vc(ae,W),ae.return=K,K=ae;break e}o(K,q);break}else i(K,q);q=q.sibling}W.type===N?(ae=Oa(W.props.children,K.mode,ae,W.key),ae.return=K,K=ae):(ae=Wd(W.type,W.key,W.props,null,K.mode,ae),Vc(ae,W),ae.return=K,K=ae)}return T(K);case S:e:{for(ve=W.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){o(K,q.sibling),ae=p(q,W.children||[]),ae.return=K,K=ae;break e}else{o(K,q);break}else i(K,q);q=q.sibling}ae=ip(W,K.mode,ae),ae.return=K,K=ae}return T(K);case E:return ve=W._init,W=ve(W._payload),ct(K,q,W,ae)}if(Ve(W))return Ce(K,q,W,ae);if(F(W)){if(ve=F(W),typeof ve!="function")throw Error(s(150));return W=ve.call(W),_e(K,q,W,ae)}if(typeof W.then=="function")return ct(K,q,fh(W),ae);if(W.$$typeof===$)return ct(K,q,eh(K,W),ae);mh(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(o(K,q.sibling),ae=p(q,W),ae.return=K,K=ae):(o(K,q),ae=rp(W,K.mode,ae),ae.return=K,K=ae),T(K)):o(K,q)}return function(K,q,W,ae){try{Oc=0;var ve=ct(K,q,W,ae);return Qo=null,ve}catch(be){if(be===Nc||be===nh)throw be;var Ue=Qn(29,be,null,K.mode);return Ue.lanes=ae,Ue.return=K,Ue}finally{}}}var Yo=Gb(!0),$b=Gb(!1),ms=ie(null),nr=null;function Ri(r){var i=r.alternate;H(Qt,Qt.current&1),H(ms,r),nr===null&&(i===null||Ho.current!==null||i.memoizedState!==null)&&(nr=r)}function Kb(r){if(r.tag===22){if(H(Qt,Qt.current),H(ms,r),nr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(nr=r)}}else ji()}function ji(){H(Qt,Qt.current),H(ms,ms.current)}function Ur(r){R(ms),nr===r&&(nr=null),R(Qt)}var Qt=ie(0);function ph(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ng(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Lp(r,i,o,d){i=r.memoizedState,o=o(d,i),o=o==null?i:v({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Up={enqueueSetState:function(r,i,o){r=r._reactInternals;var d=Zn(),p=Si(d);p.payload=i,o!=null&&(p.callback=o),i=Ni(r,p,d),i!==null&&(Jn(i,r,d),Rc(i,r,d))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var d=Zn(),p=Si(d);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=Ni(r,p,d),i!==null&&(Jn(i,r,d),Rc(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Zn(),d=Si(o);d.tag=2,i!=null&&(d.callback=i),i=Ni(r,d,o),i!==null&&(Jn(i,r,o),Rc(i,r,o))}};function Qb(r,i,o,d,p,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,T):i.prototype&&i.prototype.isPureReactComponent?!xc(o,d)||!xc(p,y):!0}function Yb(r,i,o,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==r&&Up.enqueueReplaceState(i,i.state,null)}function Ga(r,i){var o=i;if("ref"in i){o={};for(var d in i)d!=="ref"&&(o[d]=i[d])}if(r=r.defaultProps){o===i&&(o=v({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var gh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Wb(r){gh(r)}function Xb(r){console.error(r)}function Zb(r){gh(r)}function yh(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(d){setTimeout(function(){throw d})}}function Jb(r,i,o){try{var d=r.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function zp(r,i,o){return o=Si(o),o.tag=3,o.payload={element:null},o.callback=function(){yh(r,i)},o}function ew(r){return r=Si(r),r.tag=3,r}function tw(r,i,o,d){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=d.value;r.payload=function(){return p(y)},r.callback=function(){Jb(i,o,d)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Jb(i,o,d),typeof p!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var A=d.stack;this.componentDidCatch(d.value,{componentStack:A!==null?A:""})})}function oj(r,i,o,d,p){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(i=o.alternate,i!==null&&Ec(i,o,p,!0),o=ms.current,o!==null){switch(o.tag){case 13:return nr===null?ug():o.alternate===null&&At===0&&(At=3),o.flags&=-257,o.flags|=65536,o.lanes=p,d===pp?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([d]):i.add(d),hg(r,d,p)),!1;case 22:return o.flags|=65536,d===pp?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([d]):o.add(d)),hg(r,d,p)),!1}throw Error(s(435,o.tag))}return hg(r,d,p),ug(),!1}if(Xe)return i=ms.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,d!==lp&&(r=Error(s(422),{cause:d}),Tc(us(r,o)))):(d!==lp&&(i=Error(s(423),{cause:d}),Tc(us(i,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,d=us(d,o),p=zp(r.stateNode,d,p),vp(r,p),At!==4&&(At=2)),!1;var y=Error(s(520),{cause:d});if(y=us(y,o),Hc===null?Hc=[y]:Hc.push(y),At!==4&&(At=2),i===null)return!0;d=us(d,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=zp(o.stateNode,d,r),vp(o,r),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oi===null||!Oi.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=ew(p),tw(p,r,o,d),vp(o,p),!1}o=o.return}while(o!==null);return!1}var nw=Error(s(461)),Zt=!1;function un(r,i,o,d){i.child=r===null?$b(i,null,o,d):Yo(i,r.child,o,d)}function sw(r,i,o,d,p){o=o.render;var y=i.ref;if("ref"in d){var T={};for(var A in d)A!=="ref"&&(T[A]=d[A])}else T=d;return Fa(i),d=Tp(r,i,o,T,y,p),A=Ep(),r!==null&&!Zt?(Ap(r,i,p),zr(r,i,p)):(Xe&&A&&ap(i),i.flags|=1,un(r,i,d,p),i.child)}function rw(r,i,o,d,p){if(r===null){var y=o.type;return typeof y=="function"&&!sp(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,iw(r,i,y,d,p)):(r=Wd(o.type,null,d,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!Qp(r,p)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:xc,o(T,d)&&r.ref===i.ref)return zr(r,i,p)}return i.flags|=1,r=Dr(y,d),r.ref=i.ref,r.return=i,i.child=r}function iw(r,i,o,d,p){if(r!==null){var y=r.memoizedProps;if(xc(y,d)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=d=y,Qp(r,p))(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,zr(r,i,p)}return Bp(r,i,o,d,p)}function aw(r,i,o){var d=i.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden"){if((i.flags&128)!==0){if(d=y!==null?y.baseLanes|o:o,r!==null){for(p=i.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;i.childLanes=y&~d}else i.childLanes=0,i.child=null;return ow(r,i,d,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&th(i,y!==null?y.cachePool:null),y!==null?ib(i,y):bp(),Kb(i);else return i.lanes=i.childLanes=536870912,ow(r,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(th(i,y.cachePool),ib(i,y),ji(),i.memoizedState=null):(r!==null&&th(i,null),bp(),ji());return un(r,i,p,o),i.child}function ow(r,i,o,d){var p=mp();return p=p===null?null:{parent:Kt._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},r!==null&&th(i,null),bp(),Kb(i),r!==null&&Ec(r,i,d,!0),null}function vh(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Bp(r,i,o,d,p){return Fa(i),o=Tp(r,i,o,d,void 0,p),d=Ep(),r!==null&&!Zt?(Ap(r,i,p),zr(r,i,p)):(Xe&&d&&ap(i),i.flags|=1,un(r,i,o,p),i.child)}function lw(r,i,o,d,p,y){return Fa(i),i.updateQueue=null,o=ob(i,d,o,p),ab(r),d=Ep(),r!==null&&!Zt?(Ap(r,i,y),zr(r,i,y)):(Xe&&d&&ap(i),i.flags|=1,un(r,i,o,y),i.child)}function cw(r,i,o,d,p){if(Fa(i),i.stateNode===null){var y=Uo,T=o.contextType;typeof T=="object"&&T!==null&&(y=bn(T)),y=new o(d,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Up,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=d,y.state=i.memoizedState,y.refs={},gp(i),T=o.contextType,y.context=typeof T=="object"&&T!==null?bn(T):Uo,y.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Lp(i,o,T,d),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Up.enqueueReplaceState(y,y.state,null),Ic(i,d,y,p),jc(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!0}else if(r===null){y=i.stateNode;var A=i.memoizedProps,V=Ga(o,A);y.props=V;var X=y.context,se=o.contextType;T=Uo,typeof se=="object"&&se!==null&&(T=bn(se));var le=o.getDerivedStateFromProps;se=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||X!==T)&&Yb(i,y,d,T),Ai=!1;var Z=i.memoizedState;y.state=Z,Ic(i,d,y,p),jc(),X=i.memoizedState,A||Z!==X||Ai?(typeof le=="function"&&(Lp(i,o,le,d),X=i.memoizedState),(V=Ai||Qb(i,o,V,d,Z,X,T))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=X),y.props=d,y.state=X,y.context=T,d=V):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{y=i.stateNode,yp(r,i),T=i.memoizedProps,se=Ga(o,T),y.props=se,le=i.pendingProps,Z=y.context,X=o.contextType,V=Uo,typeof X=="object"&&X!==null&&(V=bn(X)),A=o.getDerivedStateFromProps,(X=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==le||Z!==V)&&Yb(i,y,d,V),Ai=!1,Z=i.memoizedState,y.state=Z,Ic(i,d,y,p),jc();var J=i.memoizedState;T!==le||Z!==J||Ai||r!==null&&r.dependencies!==null&&Jd(r.dependencies)?(typeof A=="function"&&(Lp(i,o,A,d),J=i.memoizedState),(se=Ai||Qb(i,o,se,d,Z,J,V)||r!==null&&r.dependencies!==null&&Jd(r.dependencies))?(X||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(d,J,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(d,J,V)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=J),y.props=d,y.state=J,y.context=V,d=se):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),d=!1)}return y=d,vh(r,i),d=(i.flags&128)!==0,y||d?(y=i.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&d?(i.child=Yo(i,r.child,null,p),i.child=Yo(i,null,o,p)):un(r,i,o,p),i.memoizedState=y.state,r=i.child):r=zr(r,i,p),r}function uw(r,i,o,d){return _c(),i.flags|=256,un(r,i,o,d),i.child}var Fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qp(r){return{baseLanes:r,cachePool:Xx()}}function Hp(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=ps),r}function dw(r,i,o){var d=i.pendingProps,p=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Qt.current&2)!==0),T&&(p=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(Xe){if(p?Ri(i):ji(),Xe){var A=Et,V;if(V=A){e:{for(V=A,A=tr;V.nodeType!==8;){if(!A){A=null;break e}if(V=Is(V.nextSibling),V===null){A=null;break e}}A=V}A!==null?(i.memoizedState={dehydrated:A,treeContext:Va!==null?{id:Pr,overflow:Mr}:null,retryLane:536870912,hydrationErrors:null},V=Qn(18,null,null,0),V.stateNode=A,V.return=i,i.child=V,jn=i,Et=null,V=!0):V=!1}V||za(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ng(A)?i.lanes=32:i.lanes=536870912,null;Ur(i)}return A=d.children,d=d.fallback,p?(ji(),p=i.mode,A=xh({mode:"hidden",children:A},p),d=Oa(d,p,o,null),A.return=i,d.return=i,A.sibling=d,i.child=A,p=i.child,p.memoizedState=qp(o),p.childLanes=Hp(r,T,o),i.memoizedState=Fp,d):(Ri(i),Gp(i,A))}if(V=r.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(y)i.flags&256?(Ri(i),i.flags&=-257,i=$p(r,i,o)):i.memoizedState!==null?(ji(),i.child=r.child,i.flags|=128,i=null):(ji(),p=d.fallback,A=i.mode,d=xh({mode:"visible",children:d.children},A),p=Oa(p,A,o,null),p.flags|=2,d.return=i,p.return=i,d.sibling=p,i.child=d,Yo(i,r.child,null,o),d=i.child,d.memoizedState=qp(o),d.childLanes=Hp(r,T,o),i.memoizedState=Fp,i=p);else if(Ri(i),Ng(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var X=T.dgst;T=X,d=Error(s(419)),d.stack="",d.digest=T,Tc({value:d,source:null,stack:null}),i=$p(r,i,o)}else if(Zt||Ec(r,i,o,!1),T=(o&r.childLanes)!==0,Zt||T){if(T=dt,T!==null&&(d=o&-o,d=(d&42)!==0?1:yi(d),d=(d&(T.suspendedLanes|o))!==0?0:d,d!==0&&d!==V.retryLane))throw V.retryLane=d,Lo(r,d),Jn(T,r,d),nw;A.data==="$?"||ug(),i=$p(r,i,o)}else A.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,Et=Is(A.nextSibling),jn=i,Xe=!0,Ua=null,tr=!1,r!==null&&(hs[fs++]=Pr,hs[fs++]=Mr,hs[fs++]=Va,Pr=r.id,Mr=r.overflow,Va=i),i=Gp(i,d.children),i.flags|=4096);return i}return p?(ji(),p=d.fallback,A=i.mode,V=r.child,X=V.sibling,d=Dr(V,{mode:"hidden",children:d.children}),d.subtreeFlags=V.subtreeFlags&65011712,X!==null?p=Dr(X,p):(p=Oa(p,A,o,null),p.flags|=2),p.return=i,d.return=i,d.sibling=p,i.child=d,d=p,p=i.child,A=r.child.memoizedState,A===null?A=qp(o):(V=A.cachePool,V!==null?(X=Kt._currentValue,V=V.parent!==X?{parent:X,pool:X}:V):V=Xx(),A={baseLanes:A.baseLanes|o,cachePool:V}),p.memoizedState=A,p.childLanes=Hp(r,T,o),i.memoizedState=Fp,d):(Ri(i),o=r.child,r=o.sibling,o=Dr(o,{mode:"visible",children:d.children}),o.return=i,o.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=o,i.memoizedState=null,o)}function Gp(r,i){return i=xh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function xh(r,i){return r=Qn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $p(r,i,o){return Yo(i,r.child,null,o),r=Gp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function hw(r,i,o){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),up(r.return,i,o)}function Kp(r,i,o,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=o,y.tailMode=p)}function fw(r,i,o){var d=i.pendingProps,p=d.revealOrder,y=d.tail;if(un(r,i,d.children,o),d=Qt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hw(r,o,i);else if(r.tag===19)hw(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}switch(H(Qt,d),p){case"forwards":for(o=i.child,p=null;o!==null;)r=o.alternate,r!==null&&ph(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),Kp(i,!1,p,o,y);break;case"backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&ph(r)===null){i.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}Kp(i,!0,o,null,y);break;case"together":Kp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Mi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ec(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Dr(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Dr(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Qp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Jd(r)))}function lj(r,i,o){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),Ei(i,Kt,r.memoizedState.cache),_c();break;case 27:case 5:As(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 13:var d=i.memoizedState;if(d!==null)return d.dehydrated!==null?(Ri(i),i.flags|=128,null):(o&i.child.childLanes)!==0?dw(r,i,o):(Ri(i),r=zr(r,i,o),r!==null?r.sibling:null);Ri(i);break;case 19:var p=(r.flags&128)!==0;if(d=(o&i.childLanes)!==0,d||(Ec(r,i,o,!1),d=(o&i.childLanes)!==0),p){if(d)return fw(r,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),H(Qt,Qt.current),d)break;return null;case 22:case 23:return i.lanes=0,aw(r,i,o);case 24:Ei(i,Kt,r.memoizedState.cache)}return zr(r,i,o)}function mw(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Zt=!0;else{if(!Qp(r,o)&&(i.flags&128)===0)return Zt=!1,lj(r,i,o);Zt=(r.flags&131072)!==0}else Zt=!1,Xe&&(i.flags&1048576)!==0&&Hx(i,Zd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var d=i.elementType,p=d._init;if(d=p(d._payload),i.type=d,typeof d=="function")sp(d)?(r=Ga(d,r),i.tag=1,i=cw(null,i,d,r,o)):(i.tag=0,i=Bp(null,i,d,r,o));else{if(d!=null){if(p=d.$$typeof,p===te){i.tag=11,i=sw(null,i,d,r,o);break e}else if(p===k){i.tag=14,i=rw(null,i,d,r,o);break e}}throw i=Te(d)||d,Error(s(306,i,""))}}return i;case 0:return Bp(r,i,i.type,i.pendingProps,o);case 1:return d=i.type,p=Ga(d,i.pendingProps),cw(r,i,d,p,o);case 3:e:{if(Ie(i,i.stateNode.containerInfo),r===null)throw Error(s(387));d=i.pendingProps;var y=i.memoizedState;p=y.element,yp(r,i),Ic(i,d,null,o);var T=i.memoizedState;if(d=T.cache,Ei(i,Kt,d),d!==y.cache&&dp(i,[Kt],o,!0),jc(),d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=uw(r,i,d,o);break e}else if(d!==p){p=us(Error(s(424)),i),Tc(p),i=uw(r,i,d,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Et=Is(r.firstChild),jn=i,Xe=!0,Ua=null,tr=!0,o=$b(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_c(),d===p){i=zr(r,i,o);break e}un(r,i,d,o)}i=i.child}return i;case 26:return vh(r,i),r===null?(o=v_(i.type,null,i.pendingProps,null))?i.memoizedState=o:Xe||(o=i.type,r=i.pendingProps,d=Dh(he.current).createElement(o),d[Ht]=i,d[Ot]=r,hn(d,o,r),It(d),i.stateNode=d):i.memoizedState=v_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return As(i),r===null&&Xe&&(d=i.stateNode=p_(i.type,i.pendingProps,he.current),jn=i,tr=!0,p=Et,Ui(i.type)?(Cg=p,Et=Is(d.firstChild)):Et=p),un(r,i,i.pendingProps.children,o),vh(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Xe&&((p=d=Et)&&(d=Oj(d,i.type,i.pendingProps,tr),d!==null?(i.stateNode=d,jn=i,Et=Is(d.firstChild),tr=!1,p=!0):p=!1),p||za(i)),As(i),p=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,d=y.children,Eg(p,y)?d=null:T!==null&&Eg(p,T)&&(i.flags|=32),i.memoizedState!==null&&(p=Tp(r,i,ej,null,null,o),Jc._currentValue=p),vh(r,i),un(r,i,d,o),i.child;case 6:return r===null&&Xe&&((r=o=Et)&&(o=Vj(o,i.pendingProps,tr),o!==null?(i.stateNode=o,jn=i,Et=null,r=!0):r=!1),r||za(i)),null;case 13:return dw(r,i,o);case 4:return Ie(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Yo(i,null,d,o):un(r,i,d,o),i.child;case 11:return sw(r,i,i.type,i.pendingProps,o);case 7:return un(r,i,i.pendingProps,o),i.child;case 8:return un(r,i,i.pendingProps.children,o),i.child;case 12:return un(r,i,i.pendingProps.children,o),i.child;case 10:return d=i.pendingProps,Ei(i,i.type,d.value),un(r,i,d.children,o),i.child;case 9:return p=i.type._context,d=i.pendingProps.children,Fa(i),p=bn(p),d=d(p),i.flags|=1,un(r,i,d,o),i.child;case 14:return rw(r,i,i.type,i.pendingProps,o);case 15:return iw(r,i,i.type,i.pendingProps,o);case 19:return fw(r,i,o);case 31:return d=i.pendingProps,o=i.mode,d={mode:d.mode,children:d.children},r===null?(o=xh(d,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Dr(r.child,d),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return aw(r,i,o);case 24:return Fa(i),d=bn(Kt),r===null?(p=mp(),p===null&&(p=dt,y=hp(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),i.memoizedState={parent:d,cache:p},gp(i),Ei(i,Kt,p)):((r.lanes&o)!==0&&(yp(r,i),Ic(i,null,null,o),jc()),p=r.memoizedState,y=i.memoizedState,p.parent!==d?(p={parent:d,cache:d},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Ei(i,Kt,d)):(d=y.cache,Ei(i,Kt,d),d!==p.cache&&dp(i,[Kt],o,!0))),un(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Br(r){r.flags|=4}function pw(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!T_(i)){if(i=ms.current,i!==null&&((Ke&4194048)===Ke?nr!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==nr))throw Cc=pp,Zx;r.flags|=8192}}function bh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?tc():536870912,r.lanes|=i,Jo|=i)}function Lc(r,i){if(!Xe)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function xt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(i)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags&65011712,d|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=o,i}function cj(r,i,o){var d=i.pendingProps;switch(op(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return o=i.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),Vr(Kt),We(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wc(i)?Br(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kx())),xt(i),null;case 26:return o=i.memoizedState,r===null?(Br(i),o!==null?(xt(i),pw(i,o)):(xt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(Br(i),xt(i),pw(i,o)):(xt(i),i.flags&=-16777217):(r.memoizedProps!==d&&Br(i),xt(i),i.flags&=-16777217),null;case 27:yn(i),o=he.current;var p=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Br(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return xt(i),null}r=de.current,wc(i)?Gx(i):(r=p_(p,d,o),i.stateNode=r,Br(i))}return xt(i),null;case 5:if(yn(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==d&&Br(i);else{if(!d){if(i.stateNode===null)throw Error(s(166));return xt(i),null}if(r=de.current,wc(i))Gx(i);else{switch(p=Dh(he.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof d.is=="string"?p.createElement("select",{is:d.is}):p.createElement("select"),d.multiple?r.multiple=!0:d.size&&(r.size=d.size);break;default:r=typeof d.is=="string"?p.createElement(o,{is:d.is}):p.createElement(o)}}r[Ht]=i,r[Ot]=d;e:for(p=i.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===i)break e;for(;p.sibling===null;){if(p.return===null||p.return===i)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i.stateNode=r;e:switch(hn(r,o,d),o){case"button":case"input":case"select":case"textarea":r=!!d.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Br(i)}}return xt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==d&&Br(i);else{if(typeof d!="string"&&i.stateNode===null)throw Error(s(166));if(r=he.current,wc(i)){if(r=i.stateNode,o=i.memoizedProps,d=null,p=jn,p!==null)switch(p.tag){case 27:case 5:d=p.memoizedProps}r[Ht]=i,r=!!(r.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||l_(r.nodeValue,o)),r||za(i)}else r=Dh(r).createTextNode(d),r[Ht]=i,i.stateNode=r}return xt(i),null;case 13:if(d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=wc(i),d!==null&&d.dehydrated!==null){if(r===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ht]=i}else _c(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),p=!1}else p=Kx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Ur(i),i):(Ur(i),null)}if(Ur(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=d!==null,r=r!==null&&r.memoizedState!==null,o){d=i.child,p=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(p=d.alternate.memoizedState.cachePool.pool);var y=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),bh(i,i.updateQueue),xt(i),null;case 4:return We(),r===null&&xg(i.stateNode.containerInfo),xt(i),null;case 10:return Vr(i.type),xt(i),null;case 19:if(R(Qt),p=i.memoizedState,p===null)return xt(i),null;if(d=(i.flags&128)!==0,y=p.rendering,y===null)if(d)Lc(p,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=ph(r),y!==null){for(i.flags|=128,Lc(p,!1),r=y.updateQueue,i.updateQueue=r,bh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)qx(o,r),o=o.sibling;return H(Qt,Qt.current&1|2),i.child}r=r.sibling}p.tail!==null&&_t()>Th&&(i.flags|=128,d=!0,Lc(p,!1),i.lanes=4194304)}else{if(!d)if(r=ph(y),r!==null){if(i.flags|=128,d=!0,r=r.updateQueue,i.updateQueue=r,bh(i,r),Lc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Xe)return xt(i),null}else 2*_t()-p.renderingStartTime>Th&&o!==536870912&&(i.flags|=128,d=!0,Lc(p,!1),i.lanes=4194304);p.isBackwards?(y.sibling=i.child,i.child=y):(r=p.last,r!==null?r.sibling=y:i.child=y,p.last=y)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=_t(),i.sibling=null,r=Qt.current,H(Qt,d?r&1|2:r&1),i):(xt(i),null);case 22:case 23:return Ur(i),wp(),d=i.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(i.flags|=8192):d&&(i.flags|=8192),d?(o&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),o=i.updateQueue,o!==null&&bh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048),r!==null&&R(qa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vr(Kt),xt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function uj(r,i){switch(op(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Vr(Kt),We(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return yn(i),null;case 13:if(Ur(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));_c()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return R(Qt),null;case 4:return We(),null;case 10:return Vr(i.type),null;case 22:case 23:return Ur(i),wp(),r!==null&&R(qa),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Vr(Kt),null;case 25:return null;default:return null}}function gw(r,i){switch(op(i),i.tag){case 3:Vr(Kt),We();break;case 26:case 27:case 5:yn(i);break;case 4:We();break;case 13:Ur(i);break;case 19:R(Qt);break;case 10:Vr(i.type);break;case 22:case 23:Ur(i),wp(),r!==null&&R(qa);break;case 24:Vr(Kt)}}function Uc(r,i){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var p=d.next;o=p;do{if((o.tag&r)===r){d=void 0;var y=o.create,T=o.inst;d=y(),T.destroy=d}o=o.next}while(o!==p)}}catch(A){ut(i,i.return,A)}}function Ii(r,i,o){try{var d=i.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var y=p.next;d=y;do{if((d.tag&r)===r){var T=d.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=i;var V=o,X=A;try{X()}catch(se){ut(p,V,se)}}}d=d.next}while(d!==y)}}catch(se){ut(i,i.return,se)}}function yw(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{rb(i,o)}catch(d){ut(r,r.return,d)}}}function vw(r,i,o){o.props=Ga(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(d){ut(r,i,d)}}function zc(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof o=="function"?r.refCleanup=o(d):o.current=d}}catch(p){ut(r,i,p)}}function sr(r,i){var o=r.ref,d=r.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(p){ut(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ut(r,i,p)}else o.current=null}function xw(r){var i=r.type,o=r.memoizedProps,d=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(p){ut(r,r.return,p)}}function Yp(r,i,o){try{var d=r.stateNode;Ij(d,r.type,o,i),d[Ot]=i}catch(p){ut(r,r.return,p)}}function bw(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ui(r.type)||r.tag===4}function Wp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bw(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ui(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xp(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kh));else if(d!==4&&(d===27&&Ui(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Xp(r,i,o),r=r.sibling;r!==null;)Xp(r,i,o),r=r.sibling}function wh(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(d!==4&&(d===27&&Ui(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(wh(r,i,o),r=r.sibling;r!==null;)wh(r,i,o),r=r.sibling}function ww(r){var i=r.stateNode,o=r.memoizedProps;try{for(var d=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);hn(i,d,o),i[Ht]=r,i[Ot]=o}catch(y){ut(r,r.return,y)}}var Fr=!1,Dt=!1,Zp=!1,_w=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function dj(r,i){if(r=r.containerInfo,_g=Uh,r=Dx(r),Wm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,A=-1,V=-1,X=0,se=0,le=r,Z=null;t:for(;;){for(var J;le!==o||p!==0&&le.nodeType!==3||(A=T+p),le!==y||d!==0&&le.nodeType!==3||(V=T+d),le.nodeType===3&&(T+=le.nodeValue.length),(J=le.firstChild)!==null;)Z=le,le=J;for(;;){if(le===r)break t;if(Z===o&&++X===p&&(A=T),Z===y&&++se===d&&(V=T),(J=le.nextSibling)!==null)break;le=Z,Z=le.parentNode}le=J}o=A===-1||V===-1?null:{start:A,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tg={focusedElem:r,selectionRange:o},Uh=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=i,p=y.memoizedProps,y=y.memoizedState,d=o.stateNode;try{var Ce=Ga(o.type,p,o.elementType===o.type);r=d.getSnapshotBeforeUpdate(Ce,y),d.__reactInternalSnapshotBeforeUpdate=r}catch(_e){ut(o,o.return,_e)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Sg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Sg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function Tw(r,i,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:ki(r,o),d&4&&Uc(5,o);break;case 1:if(ki(r,o),d&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(T){ut(o,o.return,T)}else{var p=Ga(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ut(o,o.return,T)}}d&64&&yw(o),d&512&&zc(o,o.return);break;case 3:if(ki(r,o),d&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{rb(r,i)}catch(T){ut(o,o.return,T)}}break;case 27:i===null&&d&4&&ww(o);case 26:case 5:ki(r,o),i===null&&d&4&&xw(o),d&512&&zc(o,o.return);break;case 12:ki(r,o);break;case 13:ki(r,o),d&4&&Sw(r,o),d&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=bj.bind(null,o),Lj(r,o))));break;case 22:if(d=o.memoizedState!==null||Fr,!d){i=i!==null&&i.memoizedState!==null||Dt,p=Fr;var y=Dt;Fr=d,(Dt=i)&&!y?Di(r,o,(o.subtreeFlags&8772)!==0):ki(r,o),Fr=p,Dt=y}break;case 30:break;default:ki(r,o)}}function Ew(r){var i=r.alternate;i!==null&&(r.alternate=null,Ew(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&bi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,Ln=!1;function qr(r,i,o){for(o=o.child;o!==null;)Aw(r,i,o),o=o.sibling}function Aw(r,i,o){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:Dt||sr(o,i),qr(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||sr(o,i);var d=gt,p=Ln;Ui(o.type)&&(gt=o.stateNode,Ln=!1),qr(r,i,o),Yc(o.stateNode),gt=d,Ln=p;break;case 5:Dt||sr(o,i);case 6:if(d=gt,p=Ln,gt=null,qr(r,i,o),gt=d,Ln=p,gt!==null)if(Ln)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(y){ut(o,i,y)}else try{gt.removeChild(o.stateNode)}catch(y){ut(o,i,y)}break;case 18:gt!==null&&(Ln?(r=gt,f_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),su(r)):f_(gt,o.stateNode));break;case 4:d=gt,p=Ln,gt=o.stateNode.containerInfo,Ln=!0,qr(r,i,o),gt=d,Ln=p;break;case 0:case 11:case 14:case 15:Dt||Ii(2,o,i),Dt||Ii(4,o,i),qr(r,i,o);break;case 1:Dt||(sr(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"&&vw(o,i,d)),qr(r,i,o);break;case 21:qr(r,i,o);break;case 22:Dt=(d=Dt)||o.memoizedState!==null,qr(r,i,o),Dt=d;break;default:qr(r,i,o)}}function Sw(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{su(r)}catch(o){ut(i,i.return,o)}}function hj(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new _w),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new _w),i;default:throw Error(s(435,r.tag))}}function Jp(r,i){var o=hj(r);i.forEach(function(d){var p=wj.bind(null,r,d);o.has(d)||(o.add(d),d.then(p,p))})}function Yn(r,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var p=o[d],y=r,T=i,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(Ui(A.type)){gt=A.stateNode,Ln=!1;break e}break;case 5:gt=A.stateNode,Ln=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,Ln=!0;break e}A=A.return}if(gt===null)throw Error(s(160));Aw(y,T,p),gt=null,Ln=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Nw(i,r),i=i.sibling}var js=null;function Nw(r,i){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Yn(i,r),Wn(r),d&4&&(Ii(3,r,r.return),Uc(3,r),Ii(5,r,r.return));break;case 1:Yn(i,r),Wn(r),d&512&&(Dt||o===null||sr(o,o.return)),d&64&&Fr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var p=js;if(Yn(i,r),Wn(r),d&512&&(Dt||o===null||sr(o,o.return)),d&4){var y=o!==null?o.memoizedState:null;if(d=r.memoizedState,o===null)if(d===null)if(r.stateNode===null){e:{d=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(d){case"title":y=p.getElementsByTagName("title")[0],(!y||y[ba]||y[Ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(d),p.head.insertBefore(y,p.querySelector("head > title"))),hn(y,d,o),y[Ht]=r,It(y),d=y;break e;case"link":var T=w_("link","href",p).get(d+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(y=T[A],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}y=p.createElement(d),hn(y,d,o),p.head.appendChild(y);break;case"meta":if(T=w_("meta","content",p).get(d+(o.content||""))){for(A=0;A<T.length;A++)if(y=T[A],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}y=p.createElement(d),hn(y,d,o),p.head.appendChild(y);break;default:throw Error(s(468,d))}y[Ht]=r,It(y),d=y}r.stateNode=d}else __(p,r.type,r.stateNode);else r.stateNode=b_(p,d,r.memoizedProps);else y!==d?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,d===null?__(p,r.type,r.stateNode):b_(p,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Yp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Yn(i,r),Wn(r),d&512&&(Dt||o===null||sr(o,o.return)),o!==null&&d&4&&Yp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Yn(i,r),Wn(r),d&512&&(Dt||o===null||sr(o,o.return)),r.flags&32){p=r.stateNode;try{as(p,"")}catch(J){ut(r,r.return,J)}}d&4&&r.stateNode!=null&&(p=r.memoizedProps,Yp(r,p,o!==null?o.memoizedProps:p)),d&1024&&(Zp=!0);break;case 6:if(Yn(i,r),Wn(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,o=r.stateNode;try{o.nodeValue=d}catch(J){ut(r,r.return,J)}}break;case 3:if(Oh=null,p=js,js=Ph(i.containerInfo),Yn(i,r),js=p,Wn(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(J){ut(r,r.return,J)}Zp&&(Zp=!1,Cw(r));break;case 4:d=js,js=Ph(r.stateNode.containerInfo),Yn(i,r),Wn(r),js=d;break;case 12:Yn(i,r),Wn(r);break;case 13:Yn(i,r),Wn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ig=_t()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Jp(r,d)));break;case 22:p=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,X=Fr,se=Dt;if(Fr=X||p,Dt=se||V,Yn(i,r),Dt=se,Fr=X,Wn(r),d&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||V||Fr||Dt||$a(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(y=V.stateNode,p)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=V.stateNode;var le=V.memoizedProps.style,Z=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){ut(V,V.return,J)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(J){ut(V,V.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}d&4&&(d=r.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,Jp(r,o))));break;case 19:Yn(i,r),Wn(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,Jp(r,d)));break;case 30:break;case 21:break;default:Yn(i,r),Wn(r)}}function Wn(r){var i=r.flags;if(i&2){try{for(var o,d=r.return;d!==null;){if(bw(d)){o=d;break}d=d.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=Wp(r);wh(r,y,p);break;case 5:var T=o.stateNode;o.flags&32&&(as(T,""),o.flags&=-33);var A=Wp(r);wh(r,A,T);break;case 3:case 4:var V=o.stateNode.containerInfo,X=Wp(r);Xp(r,X,V);break;default:throw Error(s(161))}}catch(se){ut(r,r.return,se)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Cw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Cw(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ki(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Tw(r,i.alternate,i),i=i.sibling}function $a(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),$a(i);break;case 1:sr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&vw(i,i.return,o),$a(i);break;case 27:Yc(i.stateNode);case 26:case 5:sr(i,i.return),$a(i);break;case 22:i.memoizedState===null&&$a(i);break;case 30:$a(i);break;default:$a(i)}r=r.sibling}}function Di(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var d=i.alternate,p=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:Di(p,y,o),Uc(4,y);break;case 1:if(Di(p,y,o),d=y,p=d.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){ut(d,d.return,X)}if(d=y,p=d.updateQueue,p!==null){var A=d.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)sb(V[p],A)}catch(X){ut(d,d.return,X)}}o&&T&64&&yw(y),zc(y,y.return);break;case 27:ww(y);case 26:case 5:Di(p,y,o),o&&d===null&&T&4&&xw(y),zc(y,y.return);break;case 12:Di(p,y,o);break;case 13:Di(p,y,o),o&&T&4&&Sw(p,y);break;case 22:y.memoizedState===null&&Di(p,y,o),zc(y,y.return);break;case 30:break;default:Di(p,y,o)}i=i.sibling}}function eg(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ac(o))}function tg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ac(r))}function rr(r,i,o,d){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rw(r,i,o,d),i=i.sibling}function Rw(r,i,o,d){var p=i.flags;switch(i.tag){case 0:case 11:case 15:rr(r,i,o,d),p&2048&&Uc(9,i);break;case 1:rr(r,i,o,d);break;case 3:rr(r,i,o,d),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ac(r)));break;case 12:if(p&2048){rr(r,i,o,d),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,A=y.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){ut(i,i.return,V)}}else rr(r,i,o,d);break;case 13:rr(r,i,o,d);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?rr(r,i,o,d):Bc(r,i):y._visibility&2?rr(r,i,o,d):(y._visibility|=2,Wo(r,i,o,d,(i.subtreeFlags&10256)!==0)),p&2048&&eg(T,i);break;case 24:rr(r,i,o,d),p&2048&&tg(i.alternate,i);break;default:rr(r,i,o,d)}}function Wo(r,i,o,d,p){for(p=p&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,A=o,V=d,X=T.flags;switch(T.tag){case 0:case 11:case 15:Wo(y,T,A,V,p),Uc(8,T);break;case 23:break;case 22:var se=T.stateNode;T.memoizedState!==null?se._visibility&2?Wo(y,T,A,V,p):Bc(y,T):(se._visibility|=2,Wo(y,T,A,V,p)),p&&X&2048&&eg(T.alternate,T);break;case 24:Wo(y,T,A,V,p),p&&X&2048&&tg(T.alternate,T);break;default:Wo(y,T,A,V,p)}i=i.sibling}}function Bc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,d=i,p=d.flags;switch(d.tag){case 22:Bc(o,d),p&2048&&eg(d.alternate,d);break;case 24:Bc(o,d),p&2048&&tg(d.alternate,d);break;default:Bc(o,d)}i=i.sibling}}var Fc=8192;function Xo(r){if(r.subtreeFlags&Fc)for(r=r.child;r!==null;)jw(r),r=r.sibling}function jw(r){switch(r.tag){case 26:Xo(r),r.flags&Fc&&r.memoizedState!==null&&Xj(js,r.memoizedState,r.memoizedProps);break;case 5:Xo(r);break;case 3:case 4:var i=js;js=Ph(r.stateNode.containerInfo),Xo(r),js=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Fc,Fc=16777216,Xo(r),Fc=i):Xo(r));break;default:Xo(r)}}function Iw(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function qc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Jt=d,Dw(d,r)}Iw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kw(r),r=r.sibling}function kw(r){switch(r.tag){case 0:case 11:case 15:qc(r),r.flags&2048&&Ii(9,r,r.return);break;case 3:qc(r);break;case 12:qc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,_h(r)):qc(r);break;default:qc(r)}}function _h(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var d=i[o];Jt=d,Dw(d,r)}Iw(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),_h(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,_h(i));break;default:_h(i)}r=r.sibling}}function Dw(r,i){for(;Jt!==null;){var o=Jt;switch(o.tag){case 0:case 11:case 15:Ii(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ac(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,Jt=d;else e:for(o=r;Jt!==null;){d=Jt;var p=d.sibling,y=d.return;if(Ew(d),d===o){Jt=null;break e}if(p!==null){p.return=y,Jt=p;break e}Jt=y}}}var fj={getCacheForType:function(r){var i=bn(Kt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},mj=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,ze=null,Ke=0,rt=0,Xn=null,Pi=!1,Zo=!1,ng=!1,Hr=0,At=0,Mi=0,Ka=0,sg=0,ps=0,Jo=0,Hc=null,Un=null,rg=!1,ig=0,Th=1/0,Eh=null,Oi=null,dn=0,Vi=null,el=null,tl=0,ag=0,og=null,Pw=null,Gc=0,lg=null;function Zn(){if((st&2)!==0&&Ke!==0)return Ke&-Ke;if(ne.T!==null){var r=Fo;return r!==0?r:pg()}return vi()}function Mw(){ps===0&&(ps=(Ke&536870912)===0||Xe?ec():536870912);var r=ms.current;return r!==null&&(r.flags|=32),ps}function Jn(r,i,o){(r===dt&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(nl(r,0),Li(r,Ke,ps,!1)),_r(r,o),((st&2)===0||r!==dt)&&(r===dt&&((st&2)===0&&(Ka|=o),At===4&&Li(r,Ke,ps,!1)),ir(r))}function Ow(r,i,o){if((st&6)!==0)throw Error(s(327));var d=!o&&(i&124)===0&&(i&r.expiredLanes)===0||xa(r,i),p=d?yj(r,i):dg(r,i,!0),y=d;do{if(p===0){Zo&&!d&&Li(r,i,0,!1);break}else{if(o=r.current.alternate,y&&!pj(o)){p=dg(r,i,!1),y=!1;continue}if(p===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var A=r;p=Hc;var V=A.current.memoizedState.isDehydrated;if(V&&(nl(A,T).flags|=256),T=dg(A,T,!1),T!==2){if(ng&&!V){A.errorRecoveryDisabledLanes|=y,Ka|=y,p=4;break e}y=Un,Un=p,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}p=T}if(y=!1,p!==2)continue}}if(p===1){nl(r,0),Li(r,i,0,!0);break}e:{switch(d=r,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(d,i,ps,!Pi);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=ig+300-_t(),10<p)){if(Li(d,i,ps,!Pi),xo(d,0,!0)!==0)break e;d.timeoutHandle=d_(Vw.bind(null,d,o,Un,Eh,rg,i,ps,Ka,Jo,Pi,y,2,-0,0),p);break e}Vw(d,o,Un,Eh,rg,i,ps,Ka,Jo,Pi,y,0,-0,0)}}break}while(!0);ir(r)}function Vw(r,i,o,d,p,y,T,A,V,X,se,le,Z,J){if(r.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:Wj},jw(i),le=Zj(),le!==null)){r.cancelPendingCommit=le(Hw.bind(null,r,i,y,o,d,p,T,A,V,se,1,Z,J)),Li(r,y,T,!X);return}Hw(r,i,y,o,d,p,T,A,V)}function pj(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var p=o[d],y=p.getSnapshot;p=p.value;try{if(!Kn(y(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(r,i,o,d){i&=~sg,i&=~Ka,r.suspendedLanes|=i,r.pingedLanes&=~i,d&&(r.warmLanes|=i),d=r.expirationTimes;for(var p=i;0<p;){var y=31-xn(p),T=1<<y;d[y]=-1,p&=~T}o!==0&&Hs(r,o,i)}function Ah(){return(st&6)===0?($c(0),!1):!0}function cg(){if(ze!==null){if(rt===0)var r=ze.return;else r=ze,Or=Ba=null,Sp(r),Qo=null,Oc=0,r=ze;for(;r!==null;)gw(r.alternate,r),r=r.return;ze=null}}function nl(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,Dj(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),cg(),dt=r,ze=o=Dr(r.current,null),Ke=i,rt=0,Xn=null,Pi=!1,Zo=xa(r,i),ng=!1,Jo=ps=sg=Ka=Mi=At=0,Un=Hc=null,rg=!1,(i&8)!==0&&(i|=i&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=i;0<d;){var p=31-xn(d),y=1<<p;i|=r[p],d&=~y}return Hr=i,Kd(),o}function Lw(r,i){Le=null,ne.H=hh,i===Nc||i===nh?(i=tb(),rt=3):i===Zx?(i=tb(),rt=4):rt=i===nw?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xn=i,ze===null&&(At=1,yh(r,us(i,r.current)))}function Uw(){var r=ne.H;return ne.H=hh,r===null?hh:r}function zw(){var r=ne.A;return ne.A=fj,r}function ug(){At=4,Pi||(Ke&4194048)!==Ke&&ms.current!==null||(Zo=!0),(Mi&134217727)===0&&(Ka&134217727)===0||dt===null||Li(dt,Ke,ps,!1)}function dg(r,i,o){var d=st;st|=2;var p=Uw(),y=zw();(dt!==r||Ke!==i)&&(Eh=null,nl(r,i)),i=!1;var T=At;e:do try{if(rt!==0&&ze!==null){var A=ze,V=Xn;switch(rt){case 8:cg(),T=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(i=!0);var X=rt;if(rt=0,Xn=null,sl(r,A,V,X),o&&Zo){T=0;break e}break;default:X=rt,rt=0,Xn=null,sl(r,A,V,X)}}gj(),T=At;break}catch(se){Lw(r,se)}while(!0);return i&&r.shellSuspendCounter++,Or=Ba=null,st=d,ne.H=p,ne.A=y,ze===null&&(dt=null,Ke=0,Kd()),T}function gj(){for(;ze!==null;)Bw(ze)}function yj(r,i){var o=st;st|=2;var d=Uw(),p=zw();dt!==r||Ke!==i?(Eh=null,Th=_t()+500,nl(r,i)):Zo=xa(r,i);e:do try{if(rt!==0&&ze!==null){i=ze;var y=Xn;t:switch(rt){case 1:rt=0,Xn=null,sl(r,i,y,1);break;case 2:case 9:if(Jx(y)){rt=0,Xn=null,Fw(i);break}i=function(){rt!==2&&rt!==9||dt!==r||(rt=7),ir(r)},y.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Jx(y)?(rt=0,Xn=null,Fw(i)):(rt=0,Xn=null,sl(r,i,y,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var A=ze;if(!T||T_(T)){rt=0,Xn=null;var V=A.sibling;if(V!==null)ze=V;else{var X=A.return;X!==null?(ze=X,Sh(X)):ze=null}break t}}rt=0,Xn=null,sl(r,i,y,5);break;case 6:rt=0,Xn=null,sl(r,i,y,6);break;case 8:cg(),At=6;break e;default:throw Error(s(462))}}vj();break}catch(se){Lw(r,se)}while(!0);return Or=Ba=null,ne.H=d,ne.A=p,st=o,ze!==null?0:(dt=null,Ke=0,Kd(),At)}function vj(){for(;ze!==null&&!on();)Bw(ze)}function Bw(r){var i=mw(r.alternate,r,Hr);r.memoizedProps=r.pendingProps,i===null?Sh(r):ze=i}function Fw(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=lw(o,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=lw(o,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:Sp(i);default:gw(o,i),i=ze=qx(i,Hr),i=mw(o,i,Hr)}r.memoizedProps=r.pendingProps,i===null?Sh(r):ze=i}function sl(r,i,o,d){Or=Ba=null,Sp(i),Qo=null,Oc=0;var p=i.return;try{if(oj(r,p,i,o,Ke)){At=1,yh(r,us(o,r.current)),ze=null;return}}catch(y){if(p!==null)throw ze=p,y;At=1,yh(r,us(o,r.current)),ze=null;return}i.flags&32768?(Xe||d===1?r=!0:Zo||(Ke&536870912)!==0?r=!1:(Pi=r=!0,(d===2||d===9||d===3||d===6)&&(d=ms.current,d!==null&&d.tag===13&&(d.flags|=16384))),qw(i,r)):Sh(i)}function Sh(r){var i=r;do{if((i.flags&32768)!==0){qw(i,Pi);return}r=i.return;var o=cj(i.alternate,i,Hr);if(o!==null){ze=o;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=r}while(i!==null);At===0&&(At=5)}function qw(r,i){do{var o=uj(r.alternate,r);if(o!==null){o.flags&=32767,ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){ze=r;return}ze=r=o}while(r!==null);At=6,ze=null}function Hw(r,i,o,d,p,y,T,A,V){r.cancelPendingCommit=null;do Nh();while(dn!==0);if((st&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=tp,nc(r,o,y,T,A,V),r===dt&&(ze=dt=null,Ke=0),el=i,Vi=r,tl=o,ag=y,og=p,Pw=d,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,_j(jt,function(){return Yw(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||d){d=ne.T,ne.T=null,p=re.p,re.p=2,T=st,st|=4;try{dj(r,i,o)}finally{st=T,re.p=p,ne.T=d}}dn=1,Gw(),$w(),Kw()}}function Gw(){if(dn===1){dn=0;var r=Vi,i=el,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=ne.T,ne.T=null;var d=re.p;re.p=2;var p=st;st|=4;try{Nw(i,r);var y=Tg,T=Dx(r.containerInfo),A=y.focusedElem,V=y.selectionRange;if(T!==A&&A&&A.ownerDocument&&kx(A.ownerDocument.documentElement,A)){if(V!==null&&Wm(A)){var X=V.start,se=V.end;if(se===void 0&&(se=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(se,A.value.length);else{var le=A.ownerDocument||document,Z=le&&le.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ce=A.textContent.length,_e=Math.min(V.start,Ce),ct=V.end===void 0?_e:Math.min(V.end,Ce);!J.extend&&_e>ct&&(T=ct,ct=_e,_e=T);var K=Ix(A,_e),q=Ix(A,ct);if(K&&q&&(J.rangeCount!==1||J.anchorNode!==K.node||J.anchorOffset!==K.offset||J.focusNode!==q.node||J.focusOffset!==q.offset)){var W=le.createRange();W.setStart(K.node,K.offset),J.removeAllRanges(),_e>ct?(J.addRange(W),J.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),J.addRange(W))}}}}for(le=[],J=A;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ae=le[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Uh=!!_g,Tg=_g=null}finally{st=p,re.p=d,ne.T=o}}r.current=i,dn=2}}function $w(){if(dn===2){dn=0;var r=Vi,i=el,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=ne.T,ne.T=null;var d=re.p;re.p=2;var p=st;st|=4;try{Tw(r,i.alternate,i)}finally{st=p,re.p=d,ne.T=o}}dn=3}}function Kw(){if(dn===4||dn===3){dn=0,vn();var r=Vi,i=el,o=tl,d=Pw;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,el=Vi=null,Qw(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Oi=null),bo(o),i=i.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Tt,i,void 0,(i.current.flags&128)===128)}catch{}if(d!==null){i=ne.T,p=re.p,re.p=2,ne.T=null;try{for(var y=r.onRecoverableError,T=0;T<d.length;T++){var A=d[T];y(A.value,{componentStack:A.stack})}}finally{ne.T=i,re.p=p}}(tl&3)!==0&&Nh(),ir(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===lg?Gc++:(Gc=0,lg=r):Gc=0,$c(0)}}function Qw(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Ac(i)))}function Nh(r){return Gw(),$w(),Kw(),Yw()}function Yw(){if(dn!==5)return!1;var r=Vi,i=ag;ag=0;var o=bo(tl),d=ne.T,p=re.p;try{re.p=32>o?32:o,ne.T=null,o=og,og=null;var y=Vi,T=tl;if(dn=0,el=Vi=null,tl=0,(st&6)!==0)throw Error(s(331));var A=st;if(st|=4,kw(y.current),Rw(y,y.current,T,o),st=A,$c(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Tt,y)}catch{}return!0}finally{re.p=p,ne.T=d,Qw(r,i)}}function Ww(r,i,o){i=us(o,i),i=zp(r.stateNode,i,2),r=Ni(r,i,2),r!==null&&(_r(r,2),ir(r))}function ut(r,i,o){if(r.tag===3)Ww(r,r,o);else for(;i!==null;){if(i.tag===3){Ww(i,r,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Oi===null||!Oi.has(d))){r=us(o,r),o=ew(2),d=Ni(i,o,2),d!==null&&(tw(o,d,i,r),_r(d,2),ir(d));break}}i=i.return}}function hg(r,i,o){var d=r.pingCache;if(d===null){d=r.pingCache=new mj;var p=new Set;d.set(i,p)}else p=d.get(i),p===void 0&&(p=new Set,d.set(i,p));p.has(o)||(ng=!0,p.add(o),r=xj.bind(null,r,i,o),i.then(r,r))}function xj(r,i,o){var d=r.pingCache;d!==null&&d.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(Ke&o)===o&&(At===4||At===3&&(Ke&62914560)===Ke&&300>_t()-ig?(st&2)===0&&nl(r,0):sg|=o,Jo===Ke&&(Jo=0)),ir(r)}function Xw(r,i){i===0&&(i=tc()),r=Lo(r,i),r!==null&&(_r(r,i),ir(r))}function bj(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Xw(r,o)}function wj(r,i){var o=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(i),Xw(r,o)}function _j(r,i){return Pe(r,i)}var Ch=null,rl=null,fg=!1,Rh=!1,mg=!1,Qa=0;function ir(r){r!==rl&&r.next===null&&(rl===null?Ch=rl=r:rl=rl.next=r),Rh=!0,fg||(fg=!0,Ej())}function $c(r,i){if(!mg&&Rh){mg=!0;do for(var o=!1,d=Ch;d!==null;){if(r!==0){var p=d.pendingLanes;if(p===0)var y=0;else{var T=d.suspendedLanes,A=d.pingedLanes;y=(1<<31-xn(42|r)+1)-1,y&=p&~(T&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,t_(d,y))}else y=Ke,y=xo(d,d===dt?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(y&3)===0||xa(d,y)||(o=!0,t_(d,y));d=d.next}while(o);mg=!1}}function Tj(){Zw()}function Zw(){Rh=fg=!1;var r=0;Qa!==0&&(kj()&&(r=Qa),Qa=0);for(var i=_t(),o=null,d=Ch;d!==null;){var p=d.next,y=Jw(d,i);y===0?(d.next=null,o===null?Ch=p:o.next=p,p===null&&(rl=o)):(o=d,(r!==0||(y&3)!==0)&&(Rh=!0)),d=p}$c(r)}function Jw(r,i){for(var o=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-xn(y),A=1<<T,V=p[T];V===-1?((A&o)===0||(A&d)!==0)&&(p[T]=Jl(A,i)):V<=i&&(r.expiredLanes|=A),y&=~A}if(i=dt,o=Ke,o=xo(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,o===0||r===i&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Me(d),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||xa(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(d!==null&&Me(d),bo(o)){case 2:case 8:o=gi;break;case 32:o=jt;break;case 268435456:o=vo;break;default:o=jt}return d=e_.bind(null,r),o=Pe(o,d),r.callbackPriority=i,r.callbackNode=o,i}return d!==null&&d!==null&&Me(d),r.callbackPriority=2,r.callbackNode=null,2}function e_(r,i){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Nh()&&r.callbackNode!==o)return null;var d=Ke;return d=xo(r,r===dt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(Ow(r,d,i),Jw(r,_t()),r.callbackNode!=null&&r.callbackNode===o?e_.bind(null,r):null)}function t_(r,i){if(Nh())return null;Ow(r,i,!0)}function Ej(){Pj(function(){(st&6)!==0?Pe(br,Tj):Zw()})}function pg(){return Qa===0&&(Qa=ec()),Qa}function n_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:So(""+r)}function s_(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function Aj(r,i,o,d,p){if(i==="submit"&&o&&o.stateNode===p){var y=n_((p[Ot]||null).action),T=d.submitter;T&&(i=(i=T[Ot]||null)?n_(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var A=new No("action","action",null,d,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Qa!==0){var V=T?s_(p,T):new FormData(p);Mp(o,{pending:!0,data:V,method:p.method,action:y},null,V)}}else typeof y=="function"&&(A.preventDefault(),V=T?s_(p,T):new FormData(p),Mp(o,{pending:!0,data:V,method:p.method,action:y},y,V))},currentTarget:p}]})}}for(var gg=0;gg<ep.length;gg++){var yg=ep[gg],Sj=yg.toLowerCase(),Nj=yg[0].toUpperCase()+yg.slice(1);Rs(Sj,"on"+Nj)}Rs(Ox,"onAnimationEnd"),Rs(Vx,"onAnimationIteration"),Rs(Lx,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(HR,"onTransitionRun"),Rs(GR,"onTransitionStart"),Rs($R,"onTransitionCancel"),Rs(Ux,"onTransitionEnd"),Er("onMouseEnter",["mouseout","mouseover"]),Er("onMouseLeave",["mouseout","mouseover"]),Er("onPointerEnter",["pointerout","pointerover"]),Er("onPointerLeave",["pointerout","pointerover"]),Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function r_(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],p=d.event;d=d.listeners;e:{var y=void 0;if(i)for(var T=d.length-1;0<=T;T--){var A=d[T],V=A.instance,X=A.currentTarget;if(A=A.listener,V!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=X;try{y(p)}catch(se){gh(se)}p.currentTarget=null,y=V}else for(T=0;T<d.length;T++){if(A=d[T],V=A.instance,X=A.currentTarget,A=A.listener,V!==y&&p.isPropagationStopped())break e;y=A,p.currentTarget=X;try{y(p)}catch(se){gh(se)}p.currentTarget=null,y=V}}}}function Be(r,i){var o=i[rc];o===void 0&&(o=i[rc]=new Set);var d=r+"__bubble";o.has(d)||(i_(i,r,2,!1),o.add(d))}function vg(r,i,o){var d=0;i&&(d|=4),i_(o,r,d,i)}var jh="_reactListening"+Math.random().toString(36).slice(2);function xg(r){if(!r[jh]){r[jh]=!0,ic.forEach(function(o){o!=="selectionchange"&&(Cj.has(o)||vg(o,!1,r),vg(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[jh]||(i[jh]=!0,vg("selectionchange",!1,i))}}function i_(r,i,o,d){switch(R_(i)){case 2:var p=tI;break;case 8:p=nI;break;default:p=Dg}o=p.bind(null,i,o,r),p=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(i,o,{capture:!0,passive:p}):r.addEventListener(i,o,!0):p!==void 0?r.addEventListener(i,o,{passive:p}):r.addEventListener(i,o,!1)}function bg(r,i,o,d,p){var y=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var A=d.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=d.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=Tr(A),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){d=y=T;continue e}A=A.parentNode}}d=d.return}kd(function(){var X=y,se=os(o),le=[];e:{var Z=zx.get(r);if(Z!==void 0){var J=No,Ce=r;switch(r){case"keypress":if(Ws(o)===0)break e;case"keydown":case"keyup":J=Do;break;case"focusin":Ce="focus",J=jo;break;case"focusout":Ce="blur",J=jo;break;case"beforeblur":case"afterblur":J=jo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=$m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=zd;break;case Ox:case Vx:case Lx:J=Io;break;case Ux:J=Fd;break;case"scroll":case"scrollend":J=Dd;break;case"wheel":J=Po;break;case"copy":case"cut":case"paste":J=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=yc;break;case"toggle":case"beforetoggle":J=Hd}var _e=(i&4)!==0,ct=!_e&&(r==="scroll"||r==="scrollend"),K=_e?Z!==null?Z+"Capture":null:Z;_e=[];for(var q=X,W;q!==null;){var ae=q;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||K===null||(ae=Na(q,K),ae!=null&&_e.push(Qc(q,ae,W))),ct)break;q=q.return}0<_e.length&&(Z=new J(Z,Ce,null,o,se),le.push({event:Z,listeners:_e}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",Z&&o!==Nr&&(Ce=o.relatedTarget||o.fromElement)&&(Tr(Ce)||Ce[is]))break e;if((J||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ce=o.relatedTarget||o.toElement,J=X,Ce=Ce?Tr(Ce):null,Ce!==null&&(ct=l(Ce),_e=Ce.tag,Ce!==ct||_e!==5&&_e!==27&&_e!==6)&&(Ce=null)):(J=null,Ce=X),J!==Ce)){if(_e=cs,ae="onMouseLeave",K="onMouseEnter",q="mouse",(r==="pointerout"||r==="pointerover")&&(_e=yc,ae="onPointerLeave",K="onPointerEnter",q="pointer"),ct=J==null?Z:$s(J),W=Ce==null?Z:$s(Ce),Z=new _e(ae,q+"leave",J,o,se),Z.target=ct,Z.relatedTarget=W,ae=null,Tr(se)===X&&(_e=new _e(K,q+"enter",Ce,o,se),_e.target=W,_e.relatedTarget=ct,ae=_e),ct=ae,J&&Ce)t:{for(_e=J,K=Ce,q=0,W=_e;W;W=il(W))q++;for(W=0,ae=K;ae;ae=il(ae))W++;for(;0<q-W;)_e=il(_e),q--;for(;0<W-q;)K=il(K),W--;for(;q--;){if(_e===K||K!==null&&_e===K.alternate)break t;_e=il(_e),K=il(K)}_e=null}else _e=null;J!==null&&a_(le,Z,J,_e,!1),Ce!==null&&ct!==null&&a_(le,ct,Ce,_e,!0)}}e:{if(Z=X?$s(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ve=Ax;else if($t(Z))if(Sx)ve=BR;else{ve=UR;var Ue=LR}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&uc(X.elementType)&&(ve=Ax):ve=zR;if(ve&&(ve=ve(r,X))){kr(le,ve,o,se);break e}Ue&&Ue(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&_i(Z,"number",Z.value)}switch(Ue=X?$s(X):window,r){case"focusin":($t(Ue)||Ue.contentEditable==="true")&&(Mo=Ue,Xm=X,bc=null);break;case"focusout":bc=Xm=Mo=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,Px(le,o,se);break;case"selectionchange":if(qR)break;case"keydown":case"keyup":Px(le,o,se)}var be;if(Js)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ge?ee(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&o.locale!=="ko"&&(Ge||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ge&&(be=hc()):(Ys=se,Ti="value"in Ys?Ys.value:Ys.textContent,Ge=!0)),Ue=Ih(X,Ae),0<Ue.length&&(Ae=new pc(Ae,r,null,o,se),le.push({event:Ae,listeners:Ue}),be?Ae.data=be:(be=me(o),be!==null&&(Ae.data=be)))),(be=x?Gt(r,o):$e(r,o))&&(Ae=Ih(X,"onBeforeInput"),0<Ae.length&&(Ue=new pc("onBeforeInput","beforeinput",null,o,se),le.push({event:Ue,listeners:Ae}),Ue.data=be)),Aj(le,r,X,o,se)}r_(le,i)})}function Qc(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Ih(r,i){for(var o=i+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Na(r,o),p!=null&&d.unshift(Qc(r,p,y)),p=Na(r,i),p!=null&&d.push(Qc(r,p,y))),r.tag===3)return d;r=r.return}return[]}function il(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function a_(r,i,o,d,p){for(var y=i._reactName,T=[];o!==null&&o!==d;){var A=o,V=A.alternate,X=A.stateNode;if(A=A.tag,V!==null&&V===d)break;A!==5&&A!==26&&A!==27||X===null||(V=X,p?(X=Na(o,y),X!=null&&T.unshift(Qc(o,X,V))):p||(X=Na(o,y),X!=null&&T.push(Qc(o,X,V)))),o=o.return}T.length!==0&&r.push({event:i,listeners:T})}var Rj=/\r\n?/g,jj=/\u0000|\uFFFD/g;function o_(r){return(typeof r=="string"?r:""+r).replace(Rj,`
`).replace(jj,"")}function l_(r,i){return i=o_(i),o_(r)===i}function kh(){}function lt(r,i,o,d,p,y){switch(o){case"children":typeof d=="string"?i==="body"||i==="textarea"&&d===""||as(r,d):(typeof d=="number"||typeof d=="bigint")&&i!=="body"&&as(r,""+d);break;case"className":Ks(r,"class",d);break;case"tabIndex":Ks(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(r,o,d);break;case"style":cc(r,d,y);break;case"data":if(i!=="object"){Ks(r,"data",d);break}case"src":case"href":if(d===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=So(""+d),r.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&lt(r,i,"name",p.name,p,null),lt(r,i,"formEncType",p.formEncType,p,null),lt(r,i,"formMethod",p.formMethod,p,null),lt(r,i,"formTarget",p.formTarget,p,null)):(lt(r,i,"encType",p.encType,p,null),lt(r,i,"method",p.method,p,null),lt(r,i,"target",p.target,p,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(o);break}d=So(""+d),r.setAttribute(o,d);break;case"onClick":d!=null&&(r.onclick=kh);break;case"onScroll":d!=null&&Be("scroll",r);break;case"onScrollEnd":d!=null&&Be("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}o=So(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""+d):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":d===!0?r.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(o,d):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(o,d):r.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(o):r.setAttribute(o,d);break;case"popover":Be("beforetoggle",r),Be("toggle",r),wi(r,"popover",d);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wi(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hm.get(o)||o,wi(r,o,d))}}function wg(r,i,o,d,p,y){switch(o){case"style":cc(r,d,y);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(o=d.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof d=="string"?as(r,d):(typeof d=="number"||typeof d=="bigint")&&as(r,""+d);break;case"onScroll":d!=null&&Be("scroll",r);break;case"onScrollEnd":d!=null&&Be("scrollend",r);break;case"onClick":d!=null&&(r.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),y=r[Ot]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(i,y,p),typeof d=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,d,p);break e}o in r?r[o]=d:d===!0?r.setAttribute(o,""):wi(r,o,d)}}}function hn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",r),Be("load",r);var d=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":d=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(r,i,y,T,o,null)}}p&&lt(r,i,"srcSet",o.srcSet,o,null),d&&lt(r,i,"src",o.src,o,null);return;case"input":Be("invalid",r);var A=y=T=p=null,V=null,X=null;for(d in o)if(o.hasOwnProperty(d)){var se=o[d];if(se!=null)switch(d){case"name":p=se;break;case"type":T=se;break;case"checked":V=se;break;case"defaultChecked":X=se;break;case"value":y=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:lt(r,i,d,se,o,null)}}Ea(r,y,A,V,X,T,p,!1),Ao(r);return;case"select":Be("invalid",r),d=T=y=null;for(p in o)if(o.hasOwnProperty(p)&&(A=o[p],A!=null))switch(p){case"value":y=A;break;case"defaultValue":T=A;break;case"multiple":d=A;default:lt(r,i,p,A,o,null)}i=y,o=T,r.multiple=!!d,i!=null?Sr(r,!!d,i,!1):o!=null&&Sr(r,!!d,o,!0);return;case"textarea":Be("invalid",r),y=p=d=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":d=A;break;case"defaultValue":p=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:lt(r,i,T,A,o,null)}Aa(r,d,p,y),Ao(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(d=o[V],d!=null))switch(V){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:lt(r,i,V,d,o,null)}return;case"dialog":Be("beforetoggle",r),Be("toggle",r),Be("cancel",r),Be("close",r);break;case"iframe":case"object":Be("load",r);break;case"video":case"audio":for(d=0;d<Kc.length;d++)Be(Kc[d],r);break;case"image":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"embed":case"source":case"link":Be("error",r),Be("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(d=o[X],d!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(r,i,X,d,o,null)}return;default:if(uc(i)){for(se in o)o.hasOwnProperty(se)&&(d=o[se],d!==void 0&&wg(r,i,se,d,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(d=o[A],d!=null&&lt(r,i,A,d,o,null))}function Ij(r,i,o,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,T=null,A=null,V=null,X=null,se=null;for(J in o){var le=o[J];if(o.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":V=le;default:d.hasOwnProperty(J)||lt(r,i,J,null,d,le)}}for(var Z in d){var J=d[Z];if(le=o[Z],d.hasOwnProperty(Z)&&(J!=null||le!=null))switch(Z){case"type":y=J;break;case"name":p=J;break;case"checked":X=J;break;case"defaultChecked":se=J;break;case"value":T=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==le&&lt(r,i,Z,J,d,le)}}$n(r,T,A,V,X,se,y,p);return;case"select":J=T=A=Z=null;for(y in o)if(V=o[y],o.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":J=V;default:d.hasOwnProperty(y)||lt(r,i,y,null,d,V)}for(p in d)if(y=d[p],V=o[p],d.hasOwnProperty(p)&&(y!=null||V!=null))switch(p){case"value":Z=y;break;case"defaultValue":A=y;break;case"multiple":T=y;default:y!==V&&lt(r,i,p,y,d,V)}i=A,o=T,d=J,Z!=null?Sr(r,!!o,Z,!1):!!d!=!!o&&(i!=null?Sr(r,!!o,i,!0):Sr(r,!!o,o?[]:"",!1));return;case"textarea":J=Z=null;for(A in o)if(p=o[A],o.hasOwnProperty(A)&&p!=null&&!d.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(r,i,A,null,d,p)}for(T in d)if(p=d[T],y=o[T],d.hasOwnProperty(T)&&(p!=null||y!=null))switch(T){case"value":Z=p;break;case"defaultValue":J=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&lt(r,i,T,p,d,y)}at(r,Z,J);return;case"option":for(var Ce in o)if(Z=o[Ce],o.hasOwnProperty(Ce)&&Z!=null&&!d.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:lt(r,i,Ce,null,d,Z)}for(V in d)if(Z=d[V],J=o[V],d.hasOwnProperty(V)&&Z!==J&&(Z!=null||J!=null))switch(V){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:lt(r,i,V,Z,d,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Z=o[_e],o.hasOwnProperty(_e)&&Z!=null&&!d.hasOwnProperty(_e)&&lt(r,i,_e,null,d,Z);for(X in d)if(Z=d[X],J=o[X],d.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:lt(r,i,X,Z,d,J)}return;default:if(uc(i)){for(var ct in o)Z=o[ct],o.hasOwnProperty(ct)&&Z!==void 0&&!d.hasOwnProperty(ct)&&wg(r,i,ct,void 0,d,Z);for(se in d)Z=d[se],J=o[se],!d.hasOwnProperty(se)||Z===J||Z===void 0&&J===void 0||wg(r,i,se,Z,d,J);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!d.hasOwnProperty(K)&&lt(r,i,K,null,d,Z);for(le in d)Z=d[le],J=o[le],!d.hasOwnProperty(le)||Z===J||Z==null&&J==null||lt(r,i,le,Z,d,J)}var _g=null,Tg=null;function Dh(r){return r.nodeType===9?r:r.ownerDocument}function c_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Eg(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ag=null;function kj(){var r=window.event;return r&&r.type==="popstate"?r===Ag?!1:(Ag=r,!0):(Ag=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,Dj=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Pj=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(r){return h_.resolve(null).then(r).catch(Mj)}:d_;function Mj(r){setTimeout(function(){throw r})}function Ui(r){return r==="head"}function f_(r,i){var o=i,d=0,p=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<d&&8>d){o=d;var T=r.ownerDocument;if(o&1&&Yc(T.documentElement),o&2&&Yc(T.body),o&4)for(o=T.head,Yc(o),T=o.firstChild;T;){var A=T.nextSibling,V=T.nodeName;T[ba]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=A}}if(p===0){r.removeChild(y),su(i);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:d=o.charCodeAt(0)-48;else d=0;o=y}while(o);su(i)}function Sg(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sg(o),bi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function Oj(r,i,o,d){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[ba])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Is(r.nextSibling),r===null)break}return null}function Vj(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Is(r.nextSibling),r===null))return null;return r}function Ng(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function Lj(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var d=function(){i(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function Is(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Cg=null;function m_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function p_(r,i,o){switch(i=Dh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Yc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);bi(r)}var gs=new Map,g_=new Set;function Ph(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gr=re.d;re.d={f:Uj,r:zj,D:Bj,C:Fj,L:qj,m:Hj,X:$j,S:Gj,M:Kj};function Uj(){var r=Gr.f(),i=Ah();return r||i}function zj(r){var i=Gs(r);i!==null&&i.tag===5&&i.type==="form"?Ob(i):Gr.r(r)}var al=typeof document>"u"?null:document;function y_(r,i,o){var d=al;if(d&&typeof i=="string"&&i){var p=Vt(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),g_.has(p)||(g_.add(p),r={rel:r,crossOrigin:o,href:i},d.querySelector(p)===null&&(i=d.createElement("link"),hn(i,"link",r),It(i),d.head.appendChild(i)))}}function Bj(r){Gr.D(r),y_("dns-prefetch",r,null)}function Fj(r,i){Gr.C(r,i),y_("preconnect",r,i)}function qj(r,i,o){Gr.L(r,i,o);var d=al;if(d&&r&&i){var p='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Vt(o.imageSizes)+'"]')):p+='[href="'+Vt(r)+'"]';var y=p;switch(i){case"style":y=ol(r);break;case"script":y=ll(r)}gs.has(y)||(r=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),gs.set(y,r),d.querySelector(p)!==null||i==="style"&&d.querySelector(Wc(y))||i==="script"&&d.querySelector(Xc(y))||(i=d.createElement("link"),hn(i,"link",r),It(i),d.head.appendChild(i)))}}function Hj(r,i){Gr.m(r,i);var o=al;if(o&&r){var d=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+Vt(d)+'"][href="'+Vt(r)+'"]',y=p;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(r)}if(!gs.has(y)&&(r=v({rel:"modulepreload",href:r},i),gs.set(y,r),o.querySelector(p)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xc(y)))return}d=o.createElement("link"),hn(d,"link",r),It(d),o.head.appendChild(d)}}}function Gj(r,i,o){Gr.S(r,i,o);var d=al;if(d&&r){var p=Nn(d).hoistableStyles,y=ol(r);i=i||"default";var T=p.get(y);if(!T){var A={loading:0,preload:null};if(T=d.querySelector(Wc(y)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},o),(o=gs.get(y))&&Rg(r,o);var V=T=d.createElement("link");It(V),hn(V,"link",r),V._p=new Promise(function(X,se){V.onload=X,V.onerror=se}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mh(T,i,d)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(y,T)}}}function $j(r,i){Gr.X(r,i);var o=al;if(o&&r){var d=Nn(o).hoistableScripts,p=ll(r),y=d.get(p);y||(y=o.querySelector(Xc(p)),y||(r=v({src:r,async:!0},i),(i=gs.get(p))&&jg(r,i),y=o.createElement("script"),It(y),hn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function Kj(r,i){Gr.M(r,i);var o=al;if(o&&r){var d=Nn(o).hoistableScripts,p=ll(r),y=d.get(p);y||(y=o.querySelector(Xc(p)),y||(r=v({src:r,async:!0,type:"module"},i),(i=gs.get(p))&&jg(r,i),y=o.createElement("script"),It(y),hn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},d.set(p,y))}}function v_(r,i,o,d){var p=(p=he.current)?Ph(p):null;if(!p)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ol(o.href),o=Nn(p).hoistableStyles,d=o.get(i),d||(d={type:"style",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ol(o.href);var y=Nn(p).hoistableStyles,T=y.get(r);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=p.querySelector(Wc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),gs.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gs.set(r,o),y||Qj(p,r,o,T.state))),i&&d===null)throw Error(s(528,""));return T}if(i&&d!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ll(o),o=Nn(p).hoistableScripts,d=o.get(i),d||(d={type:"script",instance:null,count:0,state:null},o.set(i,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ol(r){return'href="'+Vt(r)+'"'}function Wc(r){return'link[rel="stylesheet"]['+r+"]"}function x_(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Qj(r,i,o,d){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?d.loading=1:(i=r.createElement("link"),d.preload=i,i.addEventListener("load",function(){return d.loading|=1}),i.addEventListener("error",function(){return d.loading|=2}),hn(i,"link",o),It(i),r.head.appendChild(i))}function ll(r){return'[src="'+Vt(r)+'"]'}function Xc(r){return"script[async]"+r}function b_(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var d=r.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(d)return i.instance=d,It(d),d;var p=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),It(d),hn(d,"style",p),Mh(d,o.precedence,r),i.instance=d;case"stylesheet":p=ol(o.href);var y=r.querySelector(Wc(p));if(y)return i.state.loading|=4,i.instance=y,It(y),y;d=x_(o),(p=gs.get(p))&&Rg(d,p),y=(r.ownerDocument||r).createElement("link"),It(y);var T=y;return T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),hn(y,"link",d),i.state.loading|=4,Mh(y,o.precedence,r),i.instance=y;case"script":return y=ll(o.src),(p=r.querySelector(Xc(y)))?(i.instance=p,It(p),p):(d=o,(p=gs.get(y))&&(d=v({},o),jg(d,p)),r=r.ownerDocument||r,p=r.createElement("script"),It(p),hn(p,"link",d),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(d=i.instance,i.state.loading|=4,Mh(d,o.precedence,r));return i.instance}function Mh(r,i,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=d.length?d[d.length-1]:null,y=p,T=0;T<d.length;T++){var A=d[T];if(A.dataset.precedence===i)y=A;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Rg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function jg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Oh=null;function w_(r,i,o){if(Oh===null){var d=new Map,p=Oh=new Map;p.set(o,d)}else p=Oh,d=p.get(o),d||(d=new Map,p.set(o,d));if(d.has(r))return d;for(d.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[ba]||y[Ht]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var A=d.get(T);A?A.push(y):d.set(T,[y])}}return d}function __(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function Yj(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Zc=null;function Wj(){}function Xj(r,i,o){if(Zc===null)throw Error(s(475));var d=Zc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var p=ol(o.href),y=r.querySelector(Wc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(d.count++,d=Vh.bind(d),r.then(d,d)),i.state.loading|=4,i.instance=y,It(y);return}y=r.ownerDocument||r,o=x_(o),(p=gs.get(p))&&Rg(o,p),y=y.createElement("link"),It(y);var T=y;T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),hn(y,"link",o),i.instance=y}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(d.count++,i=Vh.bind(d),r.addEventListener("load",i),r.addEventListener("error",i))}}function Zj(){if(Zc===null)throw Error(s(475));var r=Zc;return r.stylesheets&&r.count===0&&Ig(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Ig(r,r.stylesheets),r.unsuspend){var d=r.unsuspend;r.unsuspend=null,d()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Vh(){if(this.count--,this.count===0){if(this.stylesheets)Ig(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lh=null;function Ig(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lh=new Map,i.forEach(Jj,r),Lh=null,Vh.call(r))}function Jj(r,i){if(!(i.state.loading&4)){var o=Lh.get(r);if(o)var d=o.get(null);else{o=new Map,Lh.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var T=p[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),d=T)}d&&o.set(null,d)}p=i.instance,T=p.getAttribute("data-precedence"),y=o.get(T)||d,y===d&&o.set(null,p),o.set(T,p),this.count++,d=Vh.bind(this),p.addEventListener("load",d),p.addEventListener("error",d),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var Jc={$$typeof:$,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function eI(r,i,o,d,p,y,T,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=d,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function E_(r,i,o,d,p,y,T,A,V,X,se,le){return r=new eI(r,i,o,T,A,V,X,le),i=1,y===!0&&(i|=24),y=Qn(3,null,null,i),r.current=y,y.stateNode=r,i=hp(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:d,isDehydrated:o,cache:i},gp(y),r}function A_(r){return r?(r=Uo,r):Uo}function S_(r,i,o,d,p,y){p=A_(p),d.context===null?d.context=p:d.pendingContext=p,d=Si(i),d.payload={element:o},y=y===void 0?null:y,y!==null&&(d.callback=y),o=Ni(r,d,i),o!==null&&(Jn(o,r,i),Rc(o,r,i))}function N_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function kg(r,i){N_(r,i),(r=r.alternate)&&N_(r,i)}function C_(r){if(r.tag===13){var i=Lo(r,67108864);i!==null&&Jn(i,r,67108864),kg(r,67108864)}}var Uh=!0;function tI(r,i,o,d){var p=ne.T;ne.T=null;var y=re.p;try{re.p=2,Dg(r,i,o,d)}finally{re.p=y,ne.T=p}}function nI(r,i,o,d){var p=ne.T;ne.T=null;var y=re.p;try{re.p=8,Dg(r,i,o,d)}finally{re.p=y,ne.T=p}}function Dg(r,i,o,d){if(Uh){var p=Pg(d);if(p===null)bg(r,i,d,zh,o),j_(r,d);else if(rI(p,r,i,o,d))d.stopPropagation();else if(j_(r,d),i&4&&-1<sI.indexOf(r)){for(;p!==null;){var y=Gs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Ss(y.pendingLanes);if(T!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var V=1<<31-xn(T);A.entanglements[1]|=V,T&=~V}ir(y),(st&6)===0&&(Th=_t()+500,$c(0))}}break;case 13:A=Lo(y,2),A!==null&&Jn(A,y,2),Ah(),kg(y,2)}if(y=Pg(d),y===null&&bg(r,i,d,zh,o),y===p)break;p=y}p!==null&&d.stopPropagation()}else bg(r,i,d,null,o)}}function Pg(r){return r=os(r),Mg(r)}var zh=null;function Mg(r){if(zh=null,r=Tr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return zh=r,null}function R_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case br:return 2;case gi:return 8;case jt:case Um:return 32;case vo:return 268435456;default:return 32}default:return 32}}var Og=!1,zi=null,Bi=null,Fi=null,eu=new Map,tu=new Map,qi=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(r,i){switch(r){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function nu(r,i,o,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Gs(i),i!==null&&C_(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function rI(r,i,o,d,p){switch(i){case"focusin":return zi=nu(zi,r,i,o,d,p),!0;case"dragenter":return Bi=nu(Bi,r,i,o,d,p),!0;case"mouseover":return Fi=nu(Fi,r,i,o,d,p),!0;case"pointerover":var y=p.pointerId;return eu.set(y,nu(eu.get(y)||null,r,i,o,d,p)),!0;case"gotpointercapture":return y=p.pointerId,tu.set(y,nu(tu.get(y)||null,r,i,o,d,p)),!0}return!1}function I_(r){var i=Tr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,Ad(r.priority,function(){if(o.tag===13){var d=Zn();d=yi(d);var p=Lo(o,d);p!==null&&Jn(p,o,d),kg(o,d)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Bh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Pg(r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);Nr=d,o.target.dispatchEvent(d),Nr=null}else return i=Gs(o),i!==null&&C_(i),r.blockedOn=o,!1;i.shift()}return!0}function k_(r,i,o){Bh(r)&&o.delete(i)}function iI(){Og=!1,zi!==null&&Bh(zi)&&(zi=null),Bi!==null&&Bh(Bi)&&(Bi=null),Fi!==null&&Bh(Fi)&&(Fi=null),eu.forEach(k_),tu.forEach(k_)}function Fh(r,i){r.blockedOn===i&&(r.blockedOn=null,Og||(Og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iI)))}var qh=null;function D_(r){qh!==r&&(qh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qh===r&&(qh=null);for(var i=0;i<r.length;i+=3){var o=r[i],d=r[i+1],p=r[i+2];if(typeof d!="function"){if(Mg(d||o)===null)continue;break}var y=Gs(o);y!==null&&(r.splice(i,3),i-=3,Mp(y,{pending:!0,data:p,method:o.method,action:d},d,p))}}))}function su(r){function i(V){return Fh(V,r)}zi!==null&&Fh(zi,r),Bi!==null&&Fh(Bi,r),Fi!==null&&Fh(Fi,r),eu.forEach(i),tu.forEach(i);for(var o=0;o<qi.length;o++){var d=qi[o];d.blockedOn===r&&(d.blockedOn=null)}for(;0<qi.length&&(o=qi[0],o.blockedOn===null);)I_(o),o.blockedOn===null&&qi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var p=o[d],y=o[d+1],T=p[Ot]||null;if(typeof y=="function")T||D_(o);else if(T){var A=null;if(y&&y.hasAttribute("formAction")){if(p=y,T=y[Ot]||null)A=T.formAction;else if(Mg(p)!==null)continue}else A=T.action;typeof A=="function"?o[d+1]=A:(o.splice(d,3),d-=3),D_(o)}}}function Vg(r){this._internalRoot=r}Hh.prototype.render=Vg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,d=Zn();S_(o,d,r,i,null,null)},Hh.prototype.unmount=Vg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;S_(r.current,2,null,r,null,null),Ah(),i[is]=null}};function Hh(r){this._internalRoot=r}Hh.prototype.unstable_scheduleHydration=function(r){if(r){var i=vi();r={blockedOn:null,target:r,priority:i};for(var o=0;o<qi.length&&i!==0&&i<qi[o].priority;o++);qi.splice(o,0,r),o===0&&I_(r)}};var P_=e.version;if(P_!=="19.1.1")throw Error(s(527,P_,"19.1.1"));re.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var aI={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{Tt=Gh.inject(aI),nt=Gh}catch{}}return iu.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,d="",p=Wb,y=Xb,T=Zb,A=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=E_(r,1,!1,null,null,o,d,p,y,T,A,null),r[is]=i.current,xg(r),new Vg(i)},iu.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var d=!1,p="",y=Wb,T=Xb,A=Zb,V=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),i=E_(r,1,!0,i,o??null,d,p,y,T,A,V,X),i.context=A_(null),o=i.current,d=Zn(),d=yi(d),p=Si(d),p.callback=null,Ni(o,p,d),o=d,i.current.lanes=o,_r(i,o),ir(i),r[is]=i.current,xg(r),new Hh(i)},iu.version="19.1.1",iu}var H_;function gI(){if(H_)return zg.exports;H_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zg.exports=pI(),zg.exports}var yI=gI();const vI=uA(yI);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var G_="popstate";function xI(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return Ay("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Iu(a)}return wI(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Us(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bI(){return Math.random().toString(36).substring(2,10)}function $_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ay(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ll(e):e,state:n,key:e&&e.key||s||bI()}}function Iu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function wI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",m=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){h="POP";let P=v(),U=P==null?null:P-g;g=P,m&&m({action:h,location:M.location,delta:U})}function w(P,U){h="PUSH";let G=Ay(M.location,P,U);g=v()+1;let $=$_(G,g),te=M.createHref(G);try{u.pushState($,"",te)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(te)}l&&m&&m({action:h,location:M.location,delta:1})}function S(P,U){h="REPLACE";let G=Ay(M.location,P,U);g=v();let $=$_(G,g),te=M.createHref(G);u.replaceState($,"",te),l&&m&&m({action:h,location:M.location,delta:0})}function N(P){return _I(P)}let M={get action(){return h},get location(){return t(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(G_,b),m=P,()=>{a.removeEventListener(G_,b),m=null}},createHref(P){return e(a,P)},createURL:N,encodeLocation(P){let U=N(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:S,go(P){return u.go(P)}};return M}function _I(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Iu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dA(t,e,n="/"){return TI(t,e,n,!1)}function TI(t,e,n,s){let a=typeof e=="string"?Ll(e):e,l=ni(a.pathname||"/",n);if(l==null)return null;let u=hA(t);EI(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let g=MI(l);h=DI(u[m],g,s)}return h}function hA(t,e=[],n=[],s="",a=!1){let l=(u,h,m=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;vt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Zr([s,v.relativePath]),w=n.concat(v);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),hA(u.children,e,w,b,m)),!(u.path==null&&!u.index)&&e.push({path:b,score:II(b,u.index),routesMeta:w})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let m of fA(u.path))l(u,h,!0,m)}),e}function fA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=fA(s.join("/")),h=[];return h.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...u),h.map(m=>t.startsWith("/")&&m===""?"/":m)}function EI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var AI=/^:[\w-]+$/,SI=3,NI=2,CI=1,RI=10,jI=-2,K_=t=>t==="*";function II(t,e){let n=t.split("/"),s=n.length;return n.some(K_)&&(s+=jI),e&&(s+=NI),n.filter(a=>!K_(a)).reduce((a,l)=>a+(AI.test(l)?SI:l===""?CI:RI),s)}function kI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function DI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let m=s[h],g=h===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Ef({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Zr([l,b.pathname]),pathnameBase:UI(Zr([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Zr([l,b.pathnameBase]))}return u}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let N=h[w]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=h[w];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:t}}function PI(t,e=!1,n=!0){Us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(s.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function MI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function OI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ll(t):t;return{pathname:n?n.startsWith("/")?n:VI(n,e):e,search:zI(s),hash:BI(a)}}function VI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Hg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function C0(t){let e=LI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function R0(t,e,n,s=!1){let a;typeof t=="string"?a=Ll(t):(a={...t},vt(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),vt(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),vt(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}h=b>=0?e[b]:"/"}let m=OI(a,h),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),UI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mA=["POST","PUT","PATCH","DELETE"];new Set(mA);var qI=["GET",...mA];new Set(qI);var Ul=I.createContext(null);Ul.displayName="DataRouter";var tm=I.createContext(null);tm.displayName="DataRouterState";I.createContext(!1);var pA=I.createContext({isTransitioning:!1});pA.displayName="ViewTransition";var HI=I.createContext(new Map);HI.displayName="Fetchers";var GI=I.createContext(null);GI.displayName="Await";var Bs=I.createContext(null);Bs.displayName="Navigation";var Xu=I.createContext(null);Xu.displayName="Location";var Fs=I.createContext({outlet:null,matches:[],isDataRoute:!1});Fs.displayName="Route";var j0=I.createContext(null);j0.displayName="RouteError";function $I(t,{relative:e}={}){vt(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=I.useContext(Bs),{hash:a,pathname:l,search:u}=Zu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Zr([n,l])),s.createHref({pathname:h,search:u,hash:a})}function zl(){return I.useContext(Xu)!=null}function hi(){return vt(zl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Xu).location}var gA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yA(t){I.useContext(Bs).static||I.useLayoutEffect(t)}function Hn(){let{isDataRoute:t}=I.useContext(Fs);return t?ak():KI()}function KI(){vt(zl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Ul),{basename:e,navigator:n}=I.useContext(Bs),{matches:s}=I.useContext(Fs),{pathname:a}=hi(),l=JSON.stringify(C0(s)),u=I.useRef(!1);return yA(()=>{u.current=!0}),I.useCallback((m,g={})=>{if(Us(u.current,gA),!u.current)return;if(typeof m=="number"){n.go(m);return}let v=R0(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Zr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}I.createContext(null);function QI(){let{matches:t}=I.useContext(Fs),e=t[t.length-1];return e?e.params:{}}function Zu(t,{relative:e}={}){let{matches:n}=I.useContext(Fs),{pathname:s}=hi(),a=JSON.stringify(C0(n));return I.useMemo(()=>R0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function YI(t,e){return vA(t,e)}function vA(t,e,n,s,a){vt(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Bs),{matches:u}=I.useContext(Fs),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let G=b&&b.path||"";xA(g,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=hi(),S;if(e){let G=typeof e=="string"?Ll(e):e;vt(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),S=G}else S=w;let N=S.pathname||"/",M=N;if(v!=="/"){let G=v.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=dA(t,{pathname:M});Us(b||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Us(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=ek(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:Zr([v,l.encodeLocation?l.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:Zr([v,l.encodeLocation?l.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s,a);return e&&U?I.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function WI(){let t=ik(),e=FI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,u)}var XI=I.createElement(WI,null),ZI=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(Fs.Provider,{value:this.props.routeContext},I.createElement(j0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JI({routeContext:t,match:e,children:n}){let s=I.useContext(Ul);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Fs.Provider,{value:t},n)}function ek(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:b,errors:w}=n,S=v.route.loader&&!b.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||S){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,b)=>{let w,S=!1,N=null,M=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||XI,h&&(m<0&&b===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):m===b&&(S=!0,M=v.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,b+1)),U=()=>{let G;return w?G=N:S?G=M:v.route.Component?G=I.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,I.createElement(JI,{match:v,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?I.createElement(ZI,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:U(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):U()},null)}function I0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(t){let e=I.useContext(Ul);return vt(e,I0(t)),e}function nk(t){let e=I.useContext(tm);return vt(e,I0(t)),e}function sk(t){let e=I.useContext(Fs);return vt(e,I0(t)),e}function k0(t){let e=sk(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function rk(){return k0("useRouteId")}function ik(){let t=I.useContext(j0),e=nk("useRouteError"),n=k0("useRouteError");return t!==void 0?t:e.errors?.[n]}function ak(){let{router:t}=tk("useNavigate"),e=k0("useNavigate"),n=I.useRef(!1);return yA(()=>{n.current=!0}),I.useCallback(async(a,l={})=>{Us(n.current,gA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Q_={};function xA(t,e,n){!e&&!Q_[t]&&(Q_[t]=!0,Us(!1,n))}I.memo(ok);function ok({routes:t,future:e,state:n,unstable_onError:s}){return vA(t,void 0,n,s,e)}function lk({to:t,replace:e,state:n,relative:s}){vt(zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(Bs);Us(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(Fs),{pathname:u}=hi(),h=Hn(),m=R0(t,C0(l),u,s==="path"),g=JSON.stringify(m);return I.useEffect(()=>{h(JSON.parse(g),{replace:e,state:n,relative:s})},[h,g,s,e,n]),null}function Tn(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ck({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){vt(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Ll(n));let{pathname:m="/",search:g="",hash:v="",state:b=null,key:w="default"}=n,S=I.useMemo(()=>{let N=ni(m,u);return N==null?null:{location:{pathname:N,search:g,hash:v,state:b,key:w},navigationType:s}},[u,m,g,v,b,w,s]);return Us(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Bs.Provider,{value:h},I.createElement(Xu.Provider,{children:e,value:S}))}function uk({children:t,location:e}){return YI(Sy(t),e)}function Sy(t,e=[]){let n=[];return I.Children.forEach(t,(s,a)=>{if(!I.isValidElement(s))return;let l=[...e,a];if(s.type===I.Fragment){n.push.apply(n,Sy(s.props.children,l));return}vt(s.type===Tn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Sy(s.props.children,l)),n.push(u)}),n}var of="get",lf="application/x-www-form-urlencoded";function nm(t){return t!=null&&typeof t.tagName=="string"}function dk(t){return nm(t)&&t.tagName.toLowerCase()==="button"}function hk(t){return nm(t)&&t.tagName.toLowerCase()==="form"}function fk(t){return nm(t)&&t.tagName.toLowerCase()==="input"}function mk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pk(t,e){return t.button===0&&(!e||e==="_self")&&!mk(t)}var $h=null;function gk(){if($h===null)try{new FormData(document.createElement("form"),0),$h=!1}catch{$h=!0}return $h}var yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gg(t){return t!=null&&!yk.has(t)?(Us(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lf}"`),null):t}function vk(t,e){let n,s,a,l,u;if(hk(t)){let h=t.getAttribute("action");s=h?ni(h,e):null,n=t.getAttribute("method")||of,a=Gg(t.getAttribute("enctype"))||lf,l=new FormData(t)}else if(dk(t)||fk(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||h.getAttribute("action");if(s=m?ni(m,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||of,a=Gg(t.getAttribute("formenctype"))||Gg(h.getAttribute("enctype"))||lf,l=new FormData(h,t),!gk()){let{name:g,type:v,value:b}=t;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(nm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=of,s=null,a=lf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function D0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xk(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ni(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function bk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _k(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await bk(l,n);return u.links?u.links():[]}return[]}));return Sk(s.flat(1).filter(wk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Y_(t,e,n,s,a,l){let u=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,h=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>u(m,g)||h(m,g)):l==="data"?e.filter((m,g)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Tk(t,e,{includeHydrateFallback:n}={}){return Ek(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Ek(t){return[...new Set(t)]}function Ak(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function Sk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(Ak(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function bA(){let t=I.useContext(Ul);return D0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nk(){let t=I.useContext(tm);return D0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var P0=I.createContext(void 0);P0.displayName="FrameworkContext";function wA(){let t=I.useContext(P0);return D0(t,"You must render this element inside a <HydratedRouter> element"),t}function Ck(t,e){let n=I.useContext(P0),[s,a]=I.useState(!1),[l,u]=I.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=U=>{U.forEach(G=>{u(G.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[t]),I.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:au(h,S),onBlur:au(m,N),onMouseEnter:au(g,S),onMouseLeave:au(v,N),onTouchStart:au(b,S)}]:[!1,w,{}]}function au(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Rk({page:t,...e}){let{router:n}=bA(),s=I.useMemo(()=>dA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?I.createElement(Ik,{page:t,matches:s,...e}):null}function jk(t){let{manifest:e,routeModules:n}=wA(),[s,a]=I.useState([]);return I.useEffect(()=>{let l=!1;return _k(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function Ik({page:t,matches:e,...n}){let s=hi(),{manifest:a,routeModules:l}=wA(),{basename:u}=bA(),{loaderData:h,matches:m}=Nk(),g=I.useMemo(()=>Y_(t,e,m,a,s,"data"),[t,e,m,a,s]),v=I.useMemo(()=>Y_(t,e,m,a,s,"assets"),[t,e,m,a,s]),b=I.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,M=!1;if(e.forEach(U=>{let G=a.routes[U.route.id];!G||!G.hasLoader||(!g.some($=>$.route.id===U.route.id)&&U.route.id in h&&l[U.route.id]?.shouldRevalidate||G.hasClientLoader?M=!0:N.add(U.route.id))}),N.size===0)return[];let P=xk(t,u,"data");return M&&N.size>0&&P.searchParams.set("_routes",e.filter(U=>N.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[u,h,s,a,g,e,t,l]),w=I.useMemo(()=>Tk(v,a),[v,a]),S=jk(v);return I.createElement(I.Fragment,null,b.map(N=>I.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>I.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),S.map(({key:N,link:M})=>I.createElement("link",{key:N,nonce:n.nonce,...M})))}function kk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.8.2")}catch{}function Dk({basename:t,children:e,window:n}){let s=I.useRef();s.current==null&&(s.current=xI({window:n,v5Compat:!0}));let a=s.current,[l,u]=I.useState({action:a.action,location:a.location}),h=I.useCallback(m=>{I.startTransition(()=>u(m))},[u]);return I.useLayoutEffect(()=>a.listen(h),[a,h]),I.createElement(ck,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=I.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:m,to:g,preventScrollReset:v,viewTransition:b,...w},S){let{basename:N}=I.useContext(Bs),M=typeof g=="string"&&TA.test(g),P,U=!1;if(typeof g=="string"&&M&&(P=g,_A))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),z=ni(O.pathname,N);O.origin===C.origin&&z!=null?g=z+O.search+O.hash:U=!0}catch{Us(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=$I(g,{relative:a}),[$,te,B]=Ck(s,w),Q=Vk(g,{replace:u,state:h,target:m,preventScrollReset:v,relative:a,viewTransition:b});function k(C){e&&e(C),C.defaultPrevented||Q(C)}let E=I.createElement("a",{...w,...B,href:P||G,onClick:U||l?e:k,ref:kk(S,te),target:m,"data-discover":!M&&n==="render"?"true":void 0});return $&&!M?I.createElement(I.Fragment,null,E,I.createElement(Rk,{page:G})):E});Jr.displayName="Link";var Pk=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:m,...g},v){let b=Zu(u,{relative:g.relative}),w=hi(),S=I.useContext(tm),{navigator:N,basename:M}=I.useContext(Bs),P=S!=null&&Fk(b)&&h===!0,U=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,G=w.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(G=G.toLowerCase(),$=$?$.toLowerCase():null,U=U.toLowerCase()),$&&M&&($=ni($,M)||$);const te=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let B=G===U||!a&&G.startsWith(U)&&G.charAt(te)==="/",Q=$!=null&&($===U||!a&&$.startsWith(U)&&$.charAt(U.length)==="/"),k={isActive:B,isPending:Q,isTransitioning:P},E=B?e:void 0,C;typeof s=="function"?C=s(k):C=[s,B?"active":null,Q?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(k):l;return I.createElement(Jr,{...g,"aria-current":E,className:C,ref:v,style:O,to:u,viewTransition:h},typeof m=="function"?m(k):m)});Pk.displayName="NavLink";var Mk=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=of,action:h,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,...w},S)=>{let N=zk(),M=Bk(h,{relative:g}),P=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&TA.test(h),G=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let te=$.nativeEvent.submitter,B=te?.getAttribute("formmethod")||u;N(te||$.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return I.createElement("form",{ref:S,method:P,action:M,onSubmit:s?m:G,...w,"data-discover":!U&&t==="render"?"true":void 0})});Mk.displayName="Form";function Ok(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(t){let e=I.useContext(Ul);return vt(e,Ok(t)),e}function Vk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Hn(),m=hi(),g=Zu(t,{relative:l});return I.useCallback(v=>{if(pk(v,e)){v.preventDefault();let b=n!==void 0?n:Iu(m)===Iu(g);h(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,g,n,s,e,t,a,l,u])}var Lk=0,Uk=()=>`__${String(++Lk)}__`;function zk(){let{router:t}=EA("useSubmit"),{basename:e}=I.useContext(Bs),n=rk();return I.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:m,body:g}=vk(s,e);if(a.navigate===!1){let v=a.fetcherKey||Uk();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Bk(t,{relative:e}={}){let{basename:n}=I.useContext(Bs),s=I.useContext(Fs);vt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Zu(t||".",{relative:e})},u=hi();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Zr([n,l.pathname])),Iu(l)}function Fk(t,{relative:e}={}){let n=I.useContext(pA);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=EA("useViewTransitionState"),a=Zu(t,{relative:e});if(!n.isTransitioning)return!1;let l=ni(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=ni(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ef(a.pathname,u)!=null||Ef(a.pathname,l)!=null}const qk=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Hk=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},SA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let w=(h&15)<<2|g>>6,S=g&63;m||(S=64,u||(w=64)),s.push(n[v],n[b],n[w],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||g==null||b==null)throw new Gk;const w=l<<2|h>>4;if(s.push(w),g!==64){const S=h<<4&240|g>>2;if(s.push(S),b!==64){const N=g<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $k=function(t){const e=AA(t);return SA.encodeByteArray(e,!0)},Af=function(t){return $k(t).replace(/\./g,"")},NA=function(t){try{return SA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=()=>Kk().__FIREBASE_DEFAULTS__,Yk=()=>{if(typeof process>"u"||typeof W_>"u")return;const t=W_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NA(t[1]);return e&&JSON.parse(e)},sm=()=>{try{return qk()||Qk()||Yk()||Wk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CA=t=>sm()?.emulatorHosts?.[t],M0=t=>{const e=CA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},RA=()=>sm()?.config,jA=t=>sm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Af(JSON.stringify(n)),Af(JSON.stringify(u)),""].join(".")}const yu={};function Zk(){const t={prod:[],emulator:[]};for(const e of Object.keys(yu))yu[e]?t.emulator.push(e):t.prod.push(e);return t}function Jk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X_=!1;function im(t,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||yu[t]===e||yu[t]||X_)return;yu[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=Zk().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{X_=!0,u()},w}function v(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Jk(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),P=document.getElementById(M)||document.createElement("a"),U=n("preprendIcon"),G=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;h($),v(P,M);const te=g();m(G,U),$.append(G,N,P,te),document.body.appendChild($)}l?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function t4(){const t=sm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i4(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function a4(){return!t4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function o4(){try{return typeof indexedDB=="object"}catch{return!1}}function l4(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="FirebaseError";class qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=c4,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?u4(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new qs(a,h,s)}}function u4(t,e){return t.replace(d4,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const d4=/\{\$([^}]+)}/g;function h4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ao(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Z_(l)&&Z_(u)){if(!ao(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function uu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function du(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f4(t,e){const n=new m4(t,e);return n.subscribe.bind(n)}class m4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");p4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=$g),a.error===void 0&&(a.error=$g),a.complete===void 0&&(a.complete=$g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function p4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Xk;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y4(t){return t===Wa?void 0:t}function v4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const b4={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},w4=Fe.INFO,_4={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},T4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=_4[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O0{constructor(e){this.name=e,this._logLevel=w4,this._logHandler=T4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const E4=(t,e)=>e.some(n=>t instanceof n);let J_,e1;function A4(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S4(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,Ny=new WeakMap,DA=new WeakMap,Kg=new WeakMap,V0=new WeakMap;function N4(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Zi(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&kA.set(n,t)}).catch(()=>{}),V0.set(e,t),e}function C4(t){if(Ny.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ny.set(t,e)}let Cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R4(t){Cy=t(Cy)}function j4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Qg(this),e,...n);return DA.set(s,e.sort?e.sort():[e]),Zi(s)}:S4().includes(t)?function(...e){return t.apply(Qg(this),e),Zi(kA.get(this))}:function(...e){return Zi(t.apply(Qg(this),e))}}function I4(t){return typeof t=="function"?j4(t):(t instanceof IDBTransaction&&C4(t),E4(t,A4())?new Proxy(t,Cy):t)}function Zi(t){if(t instanceof IDBRequest)return N4(t);if(Kg.has(t))return Kg.get(t);const e=I4(t);return e!==t&&(Kg.set(t,e),V0.set(e,t)),e}const Qg=t=>V0.get(t);function k4(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Zi(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Zi(u.result),m.oldVersion,m.newVersion,Zi(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const D4=["get","getKey","getAll","getAllKeys","count"],P4=["put","add","delete","clear"],Yg=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=P4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||D4.includes(n)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),a&&m.done]))[0]};return Yg.set(e,l),l}R4(t=>({...t,get:(e,n,s)=>t1(e,n)||t.get(e,n,s),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function O4(t){return t.getComponent()?.type==="VERSION"}const Ry="@firebase/app",n1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new O0("@firebase/app"),V4="@firebase/app-compat",L4="@firebase/analytics-compat",U4="@firebase/analytics",z4="@firebase/app-check-compat",B4="@firebase/app-check",F4="@firebase/auth",q4="@firebase/auth-compat",H4="@firebase/database",G4="@firebase/data-connect",$4="@firebase/database-compat",K4="@firebase/functions",Q4="@firebase/functions-compat",Y4="@firebase/installations",W4="@firebase/installations-compat",X4="@firebase/messaging",Z4="@firebase/messaging-compat",J4="@firebase/performance",eD="@firebase/performance-compat",tD="@firebase/remote-config",nD="@firebase/remote-config-compat",sD="@firebase/storage",rD="@firebase/storage-compat",iD="@firebase/firestore",aD="@firebase/ai",oD="@firebase/firestore-compat",lD="firebase",cD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="[DEFAULT]",uD={[Ry]:"fire-core",[V4]:"fire-core-compat",[U4]:"fire-analytics",[L4]:"fire-analytics-compat",[B4]:"fire-app-check",[z4]:"fire-app-check-compat",[F4]:"fire-auth",[q4]:"fire-auth-compat",[H4]:"fire-rtdb",[G4]:"fire-data-connect",[$4]:"fire-rtdb-compat",[K4]:"fire-fn",[Q4]:"fire-fn-compat",[Y4]:"fire-iid",[W4]:"fire-iid-compat",[X4]:"fire-fcm",[Z4]:"fire-fcm-compat",[J4]:"fire-perf",[eD]:"fire-perf-compat",[tD]:"fire-rc",[nD]:"fire-rc-compat",[sD]:"fire-gcs",[rD]:"fire-gcs-compat",[iD]:"fire-fst",[oD]:"fire-fst-compat",[aD]:"fire-vertex","fire-js":"fire-js",[lD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,dD=new Map,Iy=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ra(t){const e=t.name;if(Iy.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of Sf.values())s1(n,t);for(const n of dD.values())s1(n,t);return!0}function td(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Ju("app","Firebase",hD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=cD;function PA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:jy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ji.create("bad-app-name",{appName:String(a)});if(n||(n=RA()),!n)throw Ji.create("no-options");const l=Sf.get(a);if(l){if(ao(n,l.options)&&ao(s,l.config))return l;throw Ji.create("duplicate-app",{appName:a})}const u=new x4(a);for(const m of Iy.values())u.addComponent(m);const h=new fD(n,s,u);return Sf.set(a,h),h}function am(t=jy){const e=Sf.get(t);if(!e&&t===jy&&RA())return PA();if(!e)throw Ji.create("no-app",{appName:t});return e}function xs(t,e,n){let s=uD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(u.join(" "));return}ra(new si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="firebase-heartbeat-database",pD=1,ku="firebase-heartbeat-store";let Wg=null;function MA(){return Wg||(Wg=k4(mD,pD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ji.create("idb-open",{originalErrorMessage:t.message})})),Wg}async function gD(t){try{const n=(await MA()).transaction(ku),s=await n.objectStore(ku).get(OA(t));return await n.done,s}catch(e){if(e instanceof qs)ri.warn(e.message);else{const n=Ji.create("idb-get",{originalErrorMessage:e?.message});ri.warn(n.message)}}}async function r1(t,e){try{const s=(await MA()).transaction(ku,"readwrite");await s.objectStore(ku).put(e,OA(t)),await s.done}catch(n){if(n instanceof qs)ri.warn(n.message);else{const s=Ji.create("idb-set",{originalErrorMessage:n?.message});ri.warn(s.message)}}}function OA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1024,vD=30;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=i1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>vD){const a=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ri.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=i1(),{heartbeatsToSend:n,unsentEntries:s}=bD(this._heartbeatsCache.heartbeats),a=Af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return ri.warn(e),""}}}function i1(){return new Date().toISOString().substring(0,10)}function bD(t,e=yD){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),a1(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),a1(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o4()?l4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a1(t){return Af(JSON.stringify({version:2,heartbeats:t})).length}function _D(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){ra(new si("platform-logger",e=>new M4(e),"PRIVATE")),ra(new si("heartbeat",e=>new xD(e),"PRIVATE")),xs(Ry,n1,t),xs(Ry,n1,"esm2020"),xs("fire-js","")}TD("");function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=VA,LA=new Ju("auth","Firebase",VA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new O0("@firebase/auth");function AD(t,...e){Nf.logLevel<=Fe.WARN&&Nf.warn(`Auth (${mo}): ${t}`,...e)}function cf(t,...e){Nf.logLevel<=Fe.ERROR&&Nf.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,...e){throw U0(t,...e)}function Ps(t,...e){return U0(t,...e)}function L0(t,e,n){const s={...ED(),[e]:n};return new Ju("auth","Firebase",s).create(e,{appName:t.name})}function Ms(t){return L0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SD(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ts(t,"argument-error"),L0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return LA.create(t,...e)}function Se(t,e,...n){if(!t)throw U0(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cf(e),new Error(e)}function ii(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){return typeof self<"u"&&self.location?.href||""}function ND(){return o1()==="http:"||o1()==="https:"}function o1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ND()||s4()||"connection"in navigator)?navigator.onLine:!0}function RD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=e4()||r4()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kD=new nd(3e4,6e4);function mi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yr(t,e,n,s,a={}){return zA(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=ed({key:t.config.apiKey,...u}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:m,...l};return n4()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&fi(t.emulatorConfig.host)&&(g.credentials="include"),UA.fetch()(await BA(t,t.config.apiHost,n,h),g)})}async function zA(t,e,n){t._canInitEmulator=!1;const s={...jD,...e};try{const a=new PD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Kh(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Kh(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Kh(t,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw L0(t,v,g);Ts(t,v)}}catch(a){if(a instanceof qs)throw a;Ts(t,"network-request-failed",{message:String(a)})}}async function sd(t,e,n,s,a={}){const l=await yr(t,e,n,s,a);return"mfaPendingCredential"in l&&Ts(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function BA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?z0(t.config,a):`${t.config.apiScheme}://${a}`;return ID.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function DD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ps(this.auth,"network-request-failed")),kD.get())})}}function Kh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Ps(t,e,s);return a.customData._tokenResponse=n,a}function l1(t){return t!==void 0&&t.enterprise!==void 0}class MD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function OD(t,e){return yr(t,"GET","/v2/recaptchaConfig",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){return yr(t,"POST","/v1/accounts:delete",e)}async function Cf(t,e){return yr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LD(t,e=!1){const n=et(t),s=await n.getIdToken(e),a=B0(s);Se(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:vu(Xg(a.auth_time)),issuedAtTime:vu(Xg(a.iat)),expirationTime:vu(Xg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Xg(t){return Number(t)*1e3}function B0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const a=NA(n);return a?JSON.parse(a):(cf("Failed to decode base64 JWT payload"),null)}catch(a){return cf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function c1(t){const e=B0(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qs&&UD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(t){const e=t.auth,n=await t.getIdToken(),s=await Cl(t,Cf(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?FA(a.providerUserInfo):[],u=FD(t.providerData,l),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!u?.length,g=h?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function BD(t){const e=et(t);await Rf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FD(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function FA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e){const n=await zA(t,{},async()=>{const s=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await BA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:s};return t.emulatorConfig&&fi(t.emulatorConfig.host)&&(m.credentials="include"),UA.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HD(t,e){return yr(t,"POST","/v2/accounts:revokeToken",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):c1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=c1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await qD(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new wl;return s&&(Se(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Se(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ds{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LD(this,e)}reload(){return BD(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ds({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await Cl(this,VD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,g=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:N,stsTokenManager:M}=n;Se(b&&M,e,"internal-error");const P=wl.fromJSON(this.name,M);Se(typeof b=="string",e,"internal-error"),Gi(s,e.name),Gi(a,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof S=="boolean",e,"internal-error"),Gi(l,e.name),Gi(u,e.name),Gi(h,e.name),Gi(m,e.name),Gi(g,e.name),Gi(v,e.name);const U=new Ds({uid:b,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:g,lastLoginAt:v});return N&&Array.isArray(N)&&(U.providerData=N.map(G=>({...G}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(e,n,s=!1){const a=new wl;a.updateFromServerResponse(n);const l=new Ds({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Rf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new wl;h.updateFromIdToken(s);const m=new Ds({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function Yr(t){ii(t instanceof Function,"Expected a class definition");let e=u1.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qA.type="NONE";const d1=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=uf(this.userKey,a.apiKey,l),this.fullPersistenceKey=uf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cf(this.auth,{idToken:e}).catch(()=>{});return n?Ds._fromGetAccountInfoResponse(this.auth,n,e):null}return Ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _l(Yr(d1),e,s);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Yr(d1);const u=uf(s,e.config.apiKey,e.name);let h=null;for(const g of n)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const w=await Cf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Ds._fromGetAccountInfoResponse(e,w,v)}else b=Ds._fromJSON(e,v);g!==l&&(h=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new _l(l,e,s):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new _l(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(WA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function HA(t=Sn()){return/firefox\//i.test(t)}function GA(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=Sn()){return/crios\//i.test(t)}function KA(t=Sn()){return/iemobile/i.test(t)}function QA(t=Sn()){return/android/i.test(t)}function YA(t=Sn()){return/blackberry/i.test(t)}function WA(t=Sn()){return/webos/i.test(t)}function F0(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GD(t=Sn()){return F0(t)&&!!window.navigator?.standalone}function $D(){return i4()&&document.documentMode===10}function XA(t=Sn()){return F0(t)||QA(t)||WA(t)||YA(t)||/windows phone/i.test(t)||KA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e=[]){let n;switch(t){case"Browser":n=h1(Sn());break;case"Worker":n=`${h1(Sn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e={}){return yr(t,"GET","/v2/passwordPolicy",mi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=6;class WD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f1(this),this.idTokenSubscription=new f1(this),this.beforeStateQueue=new KD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cf(this,{idToken:e}),s=await Ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Ms(this));const n=e?et(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QD(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&AD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vr(t){return et(t)}class f1{constructor(e){this.auth=e,this.observer=null,this.addObserver=f4(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZD(t){om=t}function JA(t){return om.loadJS(t)}function JD(){return om.recaptchaEnterpriseScript}function eP(){return om.gapiScript}function tP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nP{constructor(){this.enterprise=new sP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rP="recaptcha-enterprise",eS="NO_RECAPTCHA";class iP{constructor(e){this.type=rP,this.auth=vr(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{OD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new MD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{h(m)})})}function a(l,u,h){const m=window.grecaptcha;l1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(eS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nP().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&l1(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=JD();m.length!==0&&(m+=h),JA(m).then(()=>{a(h,l,u)}).catch(g=>{u(g)})}}).catch(h=>{u(h)})})}}async function m1(t,e,n,s=!1,a=!1){const l=new iP(t);let u;if(a)u=eS;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function jf(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await m1(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await m1(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){const n=td(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ao(l,e??{}))return a;Ts(a,"already-initialized")}return n.initialize({options:e})}function oP(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function lP(t,e,n){const s=vr(t);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=tS(e),{host:u,port:h}=cP(e),m=h===null?"":`:${h}`,g={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ao(g,s.config.emulator)&&ao(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,fi(u)?(rm(`${l}//${u}${m}`),im("Auth",!0)):uP()}function tS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cP(t){const e=tS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:p1(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:p1(u)}}}function p1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}async function dP(t,e){return yr(t,"POST","/v1/accounts:update",e)}async function hP(t,e){return yr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){return sd(t,"POST","/v1/accounts:signInWithPassword",mi(t,e))}async function nS(t,e){return yr(t,"POST","/v1/accounts:sendOobCode",mi(t,e))}async function mP(t,e){return nS(t,e)}async function pP(t,e){return nS(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e){return sd(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}async function yP(t,e){return sd(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends q0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Du(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,n,"signInWithPassword",fP);case"emailLink":return gP(e,{email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jf(e,s,"signUpPassword",hP);case"emailLink":return yP(e,{idToken:n,email:this._email,oobCode:this._password});default:Ts(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e){return sd(t,"POST","/v1/accounts:signInWithIdp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="http://localhost";class oo extends q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new oo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:vP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ed(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bP(t){const e=uu(du(t)).link,n=e?uu(du(e)).deep_link_id:null,s=uu(du(t)).deep_link_id;return(s?uu(du(s)).link:null)||s||n||e||t}class H0{constructor(e){const n=uu(du(e)),s=n.apiKey??null,a=n.oobCode??null,l=xP(n.mode??null);Se(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=bP(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=H0.parseLink(n);return Se(s,"argument-error"),Du._fromEmailAndCode(e,s.code,s.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends rd{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oo._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends rd{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends rd{constructor(){super("twitter.com")}static credential(e,n){return oo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sS(t,e){return sd(t,"POST","/v1/accounts:signUp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ds._fromIdTokenResponse(e,s,a),u=g1(s);return new ai({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=g1(s);return new ai({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function g1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t){if(pn(t.app))return Promise.reject(Ms(t));const e=vr(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ai({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await sS(e,{returnSecureToken:!0}),s=await ai._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends qs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new If(e,n,s,a)}}function rS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(t,l,e,s):l})}async function _P(t,e,n=!1){const s=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ai._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e,n=!1){const{auth:s}=t;if(pn(s.app))return Promise.reject(Ms(s));const a="reauthenticate";try{const l=await Cl(t,rS(s,a,e,t),n);Se(l.idToken,s,"internal-error");const u=B0(l.idToken);Se(u,s,"internal-error");const{sub:h}=u;return Se(t.uid===h,s,"user-mismatch"),ai._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ts(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iS(t,e,n=!1){if(pn(t.app))return Promise.reject(Ms(t));const s="signIn",a=await rS(t,s,e),l=await ai._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function EP(t,e){return iS(vr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t){const e=vr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AP(t,e,n){const s=vr(t);await jf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pP)}async function SP(t,e,n){if(pn(t.app))return Promise.reject(Ms(t));const s=vr(t),u=await jf(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sS).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&aS(t),m}),h=await ai._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function NP(t,e,n){return pn(t.app)?Promise.reject(Ms(t)):EP(et(t),Bl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&aS(t),s})}async function y1(t,e){const n=et(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await mP(n.auth,a);l!==t.email&&await t.reload()}function CP(t,e){const n=et(t);return pn(n.auth.app)?Promise.reject(Ms(n.auth)):oS(n,e,null)}function RP(t,e){return oS(et(t),null,e)}async function oS(t,e,n){const{auth:s}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const u=await Cl(t,dP(s,l));await t._updateTokensIfNecessary(u,!0)}function jP(t,e,n,s){return et(t).onIdTokenChanged(e,n,s)}function IP(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function kP(t,e,n,s){return et(t).onAuthStateChanged(e,n,s)}function DP(t){return et(t).signOut()}async function PP(t){return et(t).delete()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=1e3,OP=10;class cS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);$D()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,OP):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cS.type="LOCAL";const VP=cS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uS.type="SESSION";const dS=uS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new lm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async g=>g(n.origin,l)),m=await LP(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const g=$0("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function zP(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function BP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FP(){return navigator?.serviceWorker?.controller||null}function qP(){return hS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",HP=1,Df="firebaseLocalStorage",mS="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Df],e?"readwrite":"readonly").objectStore(Df)}function GP(){const t=indexedDB.deleteDatabase(fS);return new id(t).toPromise()}function Py(){const t=indexedDB.open(fS,HP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Df,{keyPath:mS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Df)?e(s):(s.close(),await GP(),e(await Py()))})})}async function v1(t,e,n){const s=cm(t,!0).put({[mS]:e,value:n});return new id(s).toPromise()}async function $P(t,e){const n=cm(t,!1).get(e),s=await new id(n).toPromise();return s===void 0?null:s.value}function x1(t,e){const n=cm(t,!0).delete(e);return new id(n).toPromise()}const KP=800,QP=3;class pS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>QP)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(qP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BP(),!this.activeServiceWorker)return;this.sender=new UP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await v1(e,kf,"1"),await x1(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>v1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$P(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=cm(a,!1).getAll();return new id(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pS.type="LOCAL";const YP=pS;new nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){return e?Yr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WP(t){return iS(t.auth,new K0(t),t.bypassAuthState)}function XP(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),TP(n,new K0(t),t.bypassAuthState)}async function ZP(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),_P(n,new K0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WP;case"linkViaPopup":case"linkViaRedirect":return ZP;case"reauthViaPopup":case"reauthViaRedirect":return XP;default:Ts(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new nd(2e3,1e4);async function e6(t,e,n){if(pn(t.app))return Promise.reject(Ps(t,"operation-not-supported-in-this-environment"));const s=vr(t);SD(t,e,G0);const a=gS(s,n);return new Ja(s,"signInViaPopup",e,a).executeNotNull()}class Ja extends yS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=$0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JP.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="pendingRedirect",df=new Map;class n6 extends yS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=df.get(this.auth._key());if(!e){try{const s=await s6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}df.set(this.auth._key(),e)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s6(t,e){const n=a6(e),s=i6(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function r6(t,e){df.set(t._key(),e)}function i6(t){return Yr(t._redirectPersistence)}function a6(t){return uf(t6,t.config.apiKey,t.name)}async function o6(t,e,n=!1){if(pn(t.app))return Promise.reject(Ms(t));const s=vr(t),a=gS(s,e),u=await new n6(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=600*1e3;class c6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!vS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ps(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l6&&this.cachedEventUids.clear(),this.cachedEventUids.has(b1(e))}saveEventToCache(e){this.cachedEventUids.add(b1(e)),this.lastProcessedEventTime=Date.now()}}function b1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function u6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d6(t,e={}){return yr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f6=/^https?/;async function m6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await d6(t);for(const n of e)try{if(p6(n))return}catch{}Ts(t,"unauthorized-domain")}function p6(t){const e=ky(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!f6.test(n))return!1;if(h6.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new nd(3e4,6e4);function w1(){const t=cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y6(t){return new Promise((e,n)=>{function s(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(Ps(t,"network-request-failed"))},timeout:g6.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)s();else{const a=tP("iframefcb");return cr()[a]=()=>{gapi.load?s():n(Ps(t,"network-request-failed"))},JA(`${eP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function v6(t){return hf=hf||y6(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new nd(5e3,15e3),b6="__/auth/iframe",w6="emulator/auth/iframe",_6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E6(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z0(e,w6):`https://${t.config.authDomain}/${b6}`,s={apiKey:e.apiKey,appName:t.name,v:mo},a=T6.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ed(s).slice(1)}`}async function A6(t){const e=await v6(t),n=cr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:E6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Ps(t,"network-request-failed"),h=cr().setTimeout(()=>{l(u)},x6.get());function m(){cr().clearTimeout(h),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N6=500,C6=600,R6="_blank",j6="http://localhost";class _1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I6(t,e,n,s=N6,a=C6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const m={...S6,width:s.toString(),height:a.toString(),top:l,left:u},g=Sn().toLowerCase();n&&(h=$A(g)?R6:n),HA(g)&&(e=e||j6,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[S,N])=>`${w}${S}=${N},`,"");if(GD(g)&&h!=="_self")return k6(e||"",h),new _1(null);const b=window.open(e||"",h,v);Se(b,t,"popup-blocked");try{b.focus()}catch{}return new _1(b)}function k6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6="__/auth/handler",P6="emulator/auth/handler",M6=encodeURIComponent("fac");async function T1(t,e,n,s,a,l){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:mo,eventId:a};if(e instanceof G0){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",h4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof rd){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await t._getAppCheckToken(),g=m?`#${M6}=${encodeURIComponent(m)}`:"";return`${O6(t)}?${ed(h).slice(1)}${g}`}function O6({config:t}){return t.emulator?z0(t,P6):`https://${t.authDomain}/${D6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class V6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dS,this._completeRedirectFn=o6,this._overrideRedirectResult=r6}async _openPopup(e,n,s,a){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await T1(e,n,s,ky(),a);return I6(e,l,$0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await T1(e,n,s,ky(),a);return zP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ii(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await A6(e),s=new c6(e);return n.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zg,{type:Zg},a=>{const l=a?.[0]?.[Zg];l!==void 0&&n(!!l),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=m6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||GA()||F0()}}const L6=V6;var E1="@firebase/auth",A1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B6(t){ra(new si("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(t)},g=new XD(s,a,l,m);return oP(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ra(new si("auth-internal",e=>{const n=vr(e.getProvider("auth").getImmediate());return(s=>new U6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xs(E1,A1,z6(t)),xs(E1,A1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=300,q6=jA("authIdTokenMaxAge")||F6;let S1=null;const H6=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>q6)return;const a=n?.token;S1!==a&&(S1=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function G6(t=am()){const e=td(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aP(t,{popupRedirectResolver:L6,persistence:[YP,VP,dS]}),s=jA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=H6(l.toString());IP(n,u,()=>u(n.currentUser)),jP(n,h=>u(h))}}const a=CA("auth");return a&&lP(n,`http://${a}`),n}function $6(){return document.getElementsByTagName("head")?.[0]??document}ZD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Ps("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",$6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B6("Browser");var K6="firebase",Q6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(K6,Q6,"app");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,xS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,E){function C(){}C.prototype=E.prototype,k.D=E.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(O,z,F){for(var D=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)D[Te-2]=arguments[Te];return E.prototype[z].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,E,C){C||(C=0);var O=Array(16);if(typeof E=="string")for(var z=0;16>z;++z)O[z]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(z=0;16>z;++z)O[z]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=k.g[0],C=k.g[1],z=k.g[2];var F=k.g[3],D=E+(F^C&(z^F))+O[0]+3614090360&4294967295;E=C+(D<<7&4294967295|D>>>25),D=F+(z^E&(C^z))+O[1]+3905402710&4294967295,F=E+(D<<12&4294967295|D>>>20),D=z+(C^F&(E^C))+O[2]+606105819&4294967295,z=F+(D<<17&4294967295|D>>>15),D=C+(E^z&(F^E))+O[3]+3250441966&4294967295,C=z+(D<<22&4294967295|D>>>10),D=E+(F^C&(z^F))+O[4]+4118548399&4294967295,E=C+(D<<7&4294967295|D>>>25),D=F+(z^E&(C^z))+O[5]+1200080426&4294967295,F=E+(D<<12&4294967295|D>>>20),D=z+(C^F&(E^C))+O[6]+2821735955&4294967295,z=F+(D<<17&4294967295|D>>>15),D=C+(E^z&(F^E))+O[7]+4249261313&4294967295,C=z+(D<<22&4294967295|D>>>10),D=E+(F^C&(z^F))+O[8]+1770035416&4294967295,E=C+(D<<7&4294967295|D>>>25),D=F+(z^E&(C^z))+O[9]+2336552879&4294967295,F=E+(D<<12&4294967295|D>>>20),D=z+(C^F&(E^C))+O[10]+4294925233&4294967295,z=F+(D<<17&4294967295|D>>>15),D=C+(E^z&(F^E))+O[11]+2304563134&4294967295,C=z+(D<<22&4294967295|D>>>10),D=E+(F^C&(z^F))+O[12]+1804603682&4294967295,E=C+(D<<7&4294967295|D>>>25),D=F+(z^E&(C^z))+O[13]+4254626195&4294967295,F=E+(D<<12&4294967295|D>>>20),D=z+(C^F&(E^C))+O[14]+2792965006&4294967295,z=F+(D<<17&4294967295|D>>>15),D=C+(E^z&(F^E))+O[15]+1236535329&4294967295,C=z+(D<<22&4294967295|D>>>10),D=E+(z^F&(C^z))+O[1]+4129170786&4294967295,E=C+(D<<5&4294967295|D>>>27),D=F+(C^z&(E^C))+O[6]+3225465664&4294967295,F=E+(D<<9&4294967295|D>>>23),D=z+(E^C&(F^E))+O[11]+643717713&4294967295,z=F+(D<<14&4294967295|D>>>18),D=C+(F^E&(z^F))+O[0]+3921069994&4294967295,C=z+(D<<20&4294967295|D>>>12),D=E+(z^F&(C^z))+O[5]+3593408605&4294967295,E=C+(D<<5&4294967295|D>>>27),D=F+(C^z&(E^C))+O[10]+38016083&4294967295,F=E+(D<<9&4294967295|D>>>23),D=z+(E^C&(F^E))+O[15]+3634488961&4294967295,z=F+(D<<14&4294967295|D>>>18),D=C+(F^E&(z^F))+O[4]+3889429448&4294967295,C=z+(D<<20&4294967295|D>>>12),D=E+(z^F&(C^z))+O[9]+568446438&4294967295,E=C+(D<<5&4294967295|D>>>27),D=F+(C^z&(E^C))+O[14]+3275163606&4294967295,F=E+(D<<9&4294967295|D>>>23),D=z+(E^C&(F^E))+O[3]+4107603335&4294967295,z=F+(D<<14&4294967295|D>>>18),D=C+(F^E&(z^F))+O[8]+1163531501&4294967295,C=z+(D<<20&4294967295|D>>>12),D=E+(z^F&(C^z))+O[13]+2850285829&4294967295,E=C+(D<<5&4294967295|D>>>27),D=F+(C^z&(E^C))+O[2]+4243563512&4294967295,F=E+(D<<9&4294967295|D>>>23),D=z+(E^C&(F^E))+O[7]+1735328473&4294967295,z=F+(D<<14&4294967295|D>>>18),D=C+(F^E&(z^F))+O[12]+2368359562&4294967295,C=z+(D<<20&4294967295|D>>>12),D=E+(C^z^F)+O[5]+4294588738&4294967295,E=C+(D<<4&4294967295|D>>>28),D=F+(E^C^z)+O[8]+2272392833&4294967295,F=E+(D<<11&4294967295|D>>>21),D=z+(F^E^C)+O[11]+1839030562&4294967295,z=F+(D<<16&4294967295|D>>>16),D=C+(z^F^E)+O[14]+4259657740&4294967295,C=z+(D<<23&4294967295|D>>>9),D=E+(C^z^F)+O[1]+2763975236&4294967295,E=C+(D<<4&4294967295|D>>>28),D=F+(E^C^z)+O[4]+1272893353&4294967295,F=E+(D<<11&4294967295|D>>>21),D=z+(F^E^C)+O[7]+4139469664&4294967295,z=F+(D<<16&4294967295|D>>>16),D=C+(z^F^E)+O[10]+3200236656&4294967295,C=z+(D<<23&4294967295|D>>>9),D=E+(C^z^F)+O[13]+681279174&4294967295,E=C+(D<<4&4294967295|D>>>28),D=F+(E^C^z)+O[0]+3936430074&4294967295,F=E+(D<<11&4294967295|D>>>21),D=z+(F^E^C)+O[3]+3572445317&4294967295,z=F+(D<<16&4294967295|D>>>16),D=C+(z^F^E)+O[6]+76029189&4294967295,C=z+(D<<23&4294967295|D>>>9),D=E+(C^z^F)+O[9]+3654602809&4294967295,E=C+(D<<4&4294967295|D>>>28),D=F+(E^C^z)+O[12]+3873151461&4294967295,F=E+(D<<11&4294967295|D>>>21),D=z+(F^E^C)+O[15]+530742520&4294967295,z=F+(D<<16&4294967295|D>>>16),D=C+(z^F^E)+O[2]+3299628645&4294967295,C=z+(D<<23&4294967295|D>>>9),D=E+(z^(C|~F))+O[0]+4096336452&4294967295,E=C+(D<<6&4294967295|D>>>26),D=F+(C^(E|~z))+O[7]+1126891415&4294967295,F=E+(D<<10&4294967295|D>>>22),D=z+(E^(F|~C))+O[14]+2878612391&4294967295,z=F+(D<<15&4294967295|D>>>17),D=C+(F^(z|~E))+O[5]+4237533241&4294967295,C=z+(D<<21&4294967295|D>>>11),D=E+(z^(C|~F))+O[12]+1700485571&4294967295,E=C+(D<<6&4294967295|D>>>26),D=F+(C^(E|~z))+O[3]+2399980690&4294967295,F=E+(D<<10&4294967295|D>>>22),D=z+(E^(F|~C))+O[10]+4293915773&4294967295,z=F+(D<<15&4294967295|D>>>17),D=C+(F^(z|~E))+O[1]+2240044497&4294967295,C=z+(D<<21&4294967295|D>>>11),D=E+(z^(C|~F))+O[8]+1873313359&4294967295,E=C+(D<<6&4294967295|D>>>26),D=F+(C^(E|~z))+O[15]+4264355552&4294967295,F=E+(D<<10&4294967295|D>>>22),D=z+(E^(F|~C))+O[6]+2734768916&4294967295,z=F+(D<<15&4294967295|D>>>17),D=C+(F^(z|~E))+O[13]+1309151649&4294967295,C=z+(D<<21&4294967295|D>>>11),D=E+(z^(C|~F))+O[4]+4149444226&4294967295,E=C+(D<<6&4294967295|D>>>26),D=F+(C^(E|~z))+O[11]+3174756917&4294967295,F=E+(D<<10&4294967295|D>>>22),D=z+(E^(F|~C))+O[2]+718787259&4294967295,z=F+(D<<15&4294967295|D>>>17),D=C+(F^(z|~E))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(z+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+F&4294967295}s.prototype.u=function(k,E){E===void 0&&(E=k.length);for(var C=E-this.blockSize,O=this.B,z=this.h,F=0;F<E;){if(z==0)for(;F<=C;)a(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<E;)if(O[z++]=k.charCodeAt(F++),z==this.blockSize){a(this,O),z=0;break}}else for(;F<E;)if(O[z++]=k[F++],z==this.blockSize){a(this,O),z=0;break}}this.h=z,this.o+=E},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;var C=8*this.o;for(E=k.length-8;E<k.length;++E)k[E]=C&255,C/=256;for(this.u(k),k=Array(16),E=C=0;4>E;++E)for(var O=0;32>O;O+=8)k[C++]=this.g[E]>>>O&255;return k};function l(k,E){var C=h;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=E(k)}function u(k,E){this.h=E;for(var C=[],O=!0,z=k.length-1;0<=z;z--){var F=k[z]|0;O&&F==E||(C[z]=F,O=!1)}this.g=C}var h={};function m(k){return-128<=k&&128>k?l(k,function(E){return new u([E|0],0>E?-1:0)}):new u([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return P(g(-k));for(var E=[],C=1,O=0;k>=C;O++)E[O]=k/C|0,C*=4294967296;return new u(E,0)}function v(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return P(v(k.substring(1),E));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(E,8)),O=b,z=0;z<k.length;z+=8){var F=Math.min(8,k.length-z),D=parseInt(k.substring(z,z+F),E);8>F?(F=g(Math.pow(E,F)),O=O.j(F).add(g(D))):(O=O.j(C),O=O.add(g(D)))}return O}var b=m(0),w=m(1),S=m(16777216);t=u.prototype,t.m=function(){if(M(this))return-P(this).m();for(var k=0,E=1,C=0;C<this.g.length;C++){var O=this.i(C);k+=(0<=O?O:4294967296+O)*E,E*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N(this))return"0";if(M(this))return"-"+P(this).toString(k);for(var E=g(Math.pow(k,6)),C=this,O="";;){var z=te(C,E).g;C=U(C,z.j(E));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=z,N(C))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function N(k){if(k.h!=0)return!1;for(var E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function M(k){return k.h==-1}t.l=function(k){return k=U(this,k),M(k)?-1:N(k)?0:1};function P(k){for(var E=k.g.length,C=[],O=0;O<E;O++)C[O]=~k.g[O];return new u(C,~k.h).add(w)}t.abs=function(){return M(this)?P(this):this},t.add=function(k){for(var E=Math.max(this.g.length,k.g.length),C=[],O=0,z=0;z<=E;z++){var F=O+(this.i(z)&65535)+(k.i(z)&65535),D=(F>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);O=D>>>16,F&=65535,D&=65535,C[z]=D<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function U(k,E){return k.add(P(E))}t.j=function(k){if(N(this)||N(k))return b;if(M(this))return M(k)?P(this).j(P(k)):P(P(this).j(k));if(M(k))return P(this.j(P(k)));if(0>this.l(S)&&0>k.l(S))return g(this.m()*k.m());for(var E=this.g.length+k.g.length,C=[],O=0;O<2*E;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var z=0;z<k.g.length;z++){var F=this.i(O)>>>16,D=this.i(O)&65535,Te=k.i(z)>>>16,Ve=k.i(z)&65535;C[2*O+2*z]+=D*Ve,G(C,2*O+2*z),C[2*O+2*z+1]+=F*Ve,G(C,2*O+2*z+1),C[2*O+2*z+1]+=D*Te,G(C,2*O+2*z+1),C[2*O+2*z+2]+=F*Te,G(C,2*O+2*z+2)}for(O=0;O<E;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=E;O<2*E;O++)C[O]=0;return new u(C,0)};function G(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function $(k,E){this.g=k,this.h=E}function te(k,E){if(N(E))throw Error("division by zero");if(N(k))return new $(b,b);if(M(k))return E=te(P(k),E),new $(P(E.g),P(E.h));if(M(E))return E=te(k,P(E)),new $(P(E.g),E.h);if(30<k.g.length){if(M(k)||M(E))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=E;0>=O.l(k);)C=B(C),O=B(O);var z=Q(C,1),F=Q(O,1);for(O=Q(O,2),C=Q(C,2);!N(O);){var D=F.add(O);0>=D.l(k)&&(z=z.add(C),F=D),O=Q(O,1),C=Q(C,1)}return E=U(k,z.j(E)),new $(z,E)}for(z=b;0<=k.l(E);){for(C=Math.max(1,Math.floor(k.m()/E.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=g(C),D=F.j(E);M(D)||0<D.l(k);)C-=O,F=g(C),D=F.j(E);N(F)&&(F=w),z=z.add(F),k=U(k,D)}return new $(z,k)}t.A=function(k){return te(this,k).h},t.and=function(k){for(var E=Math.max(this.g.length,k.g.length),C=[],O=0;O<E;O++)C[O]=this.i(O)&k.i(O);return new u(C,this.h&k.h)},t.or=function(k){for(var E=Math.max(this.g.length,k.g.length),C=[],O=0;O<E;O++)C[O]=this.i(O)|k.i(O);return new u(C,this.h|k.h)},t.xor=function(k){for(var E=Math.max(this.g.length,k.g.length),C=[],O=0;O<E;O++)C[O]=this.i(O)^k.i(O);return new u(C,this.h^k.h)};function B(k){for(var E=k.g.length+1,C=[],O=0;O<E;O++)C[O]=k.i(O)<<1|k.i(O-1)>>>31;return new u(C,k.h)}function Q(k,E){var C=E>>5;E%=32;for(var O=k.g.length-C,z=[],F=0;F<O;F++)z[F]=0<E?k.i(F+C)>>>E|k.i(F+C+1)<<32-E:k.i(F+C);return new u(z,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,xS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,ea=u}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bS,hu,wS,ff,My,_S,TS,ES;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,_){return f==Array.prototype||f==Object.prototype||(f[x]=_.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var x=0;x<f.length;++x){var _=f[x];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function a(f,x){if(x)e:{var _=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var Y=f[j];if(!(Y in _))break e;_=_[Y]}f=f[f.length-1],j=_[f],x=x(j),x!=j&&x!=null&&e(_,f,{configurable:!0,writable:!0,value:x})}}function l(f,x){f instanceof String&&(f+="");var _=0,j=!1,Y={next:function(){if(!j&&_<f.length){var ee=_++;return{value:x(ee,f[ee]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(f){return f||function(){return l(this,function(x,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function g(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function v(f,x,_){return f.call.apply(f.bind,arguments)}function b(f,x,_){if(!f)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,j),f.apply(x,Y)}}return function(){return f.apply(x,arguments)}}function w(f,x,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function S(f,x){var _=Array.prototype.slice.call(arguments,1);return function(){var j=_.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function N(f,x){function _(){}_.prototype=x.prototype,f.aa=x.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(j,Y,ee){for(var me=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)me[Ge-2]=arguments[Ge];return x.prototype[Y].apply(j,me)}}function M(f){const x=f.length;if(0<x){const _=Array(x);for(let j=0;j<x;j++)_[j]=f[j];return _}return[]}function P(f,x){for(let _=1;_<arguments.length;_++){const j=arguments[_];if(m(j)){const Y=f.length||0,ee=j.length||0;f.length=Y+ee;for(let me=0;me<ee;me++)f[Y+me]=j[me]}else f.push(j)}}class U{constructor(x,_){this.i=x,this.j=_,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function G(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var B=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(f,x,_){for(const j in f)x.call(_,f[j],j,f)}function k(f,x){for(const _ in f)x.call(void 0,f[_],_,f)}function E(f){const x={};for(const _ in f)x[_]=f[_];return x}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,x){let _,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(_ in j)f[_]=j[_];for(let ee=0;ee<C.length;ee++)_=C[ee],Object.prototype.hasOwnProperty.call(j,_)&&(f[_]=j[_])}}function z(f){var x=1;f=f.split(":");const _=[];for(;0<x&&f.length;)_.push(f.shift()),x--;return f.length&&_.push(f.join(":")),_}function F(f){h.setTimeout(()=>{throw f},0)}function D(){var f=Ee;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class Te{constructor(){this.h=this.g=null}add(x,_){const j=Ve.get();j.set(x,_),this.h?this.h.next=j:this.g=j,this.h=j}}var Ve=new U(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(x,_){this.h=x,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,Ee=new Te,L=()=>{const f=h.Promise.resolve(void 0);re=()=>{f.then(ie)}};var ie=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(_){F(_)}var x=Ve;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}fe=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};h.addEventListener("test",_,x),h.removeEventListener("test",_,x)}catch{}return f})();function pe(f,x){if(H.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(B){e:{try{te(x.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(x=null)}}else _=="mouseover"?x=f.fromElement:_=="mouseout"&&(x=f.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:he[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&pe.aa.h.call(this)}}N(pe,H);var he={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function We(f,x,_,j,Y){this.listener=f,this.proxy=null,this.src=x,this.type=_,this.capture=!!j,this.ha=Y,this.key=++Ie,this.da=this.fa=!1}function As(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function yn(f){this.src=f,this.g={},this.h=0}yn.prototype.add=function(f,x,_,j,Y){var ee=f.toString();f=this.g[ee],f||(f=this.g[ee]=[],this.h++);var me=Pe(f,x,j,Y);return-1<me?(x=f[me],_||(x.fa=!1)):(x=new We(x,this.src,ee,!!j,Y),x.fa=_,f.push(x)),x};function ce(f,x){var _=x.type;if(_ in f.g){var j=f.g[_],Y=Array.prototype.indexOf.call(j,x,void 0),ee;(ee=0<=Y)&&Array.prototype.splice.call(j,Y,1),ee&&(As(x),f.g[_].length==0&&(delete f.g[_],f.h--))}}function Pe(f,x,_,j){for(var Y=0;Y<f.length;++Y){var ee=f[Y];if(!ee.da&&ee.listener==x&&ee.capture==!!_&&ee.ha==j)return Y}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),on={};function vn(f,x,_,j,Y){if(Array.isArray(x)){for(var ee=0;ee<x.length;ee++)vn(f,x[ee],_,j,Y);return null}return _=Td(_),f&&f[De]?f.K(x,_,g(j)?!!j.capture:!1,Y):_t(f,x,_,!1,j,Y)}function _t(f,x,_,j,Y,ee){if(!x)throw Error("Invalid event type");var me=g(Y)?!!Y.capture:!!Y,Ge=vo(f);if(Ge||(f[Me]=Ge=new yn(f)),_=Ge.add(x,_,j,me,ee),_.proxy)return _;if(j=rs(),_.proxy=j,j.src=f,j.listener=_,f.addEventListener)de||(Y=me),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),j,Y);else if(f.attachEvent)f.attachEvent(jt(x.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rs(){function f(_){return x.call(f.src,f.listener,_)}const x=Um;return f}function br(f,x,_,j,Y){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)br(f,x[ee],_,j,Y);else j=g(j)?!!j.capture:!!j,_=Td(_),f&&f[De]?(f=f.i,x=String(x).toString(),x in f.g&&(ee=f.g[x],_=Pe(ee,_,j,Y),-1<_&&(As(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete f.g[x],f.h--)))):f&&(f=vo(f))&&(x=f.g[x.toString()],f=-1,x&&(f=Pe(x,_,j,Y)),(_=-1<f?x[f]:null)&&gi(_))}function gi(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[De])ce(x.i,f);else{var _=f.type,j=f.proxy;x.removeEventListener?x.removeEventListener(_,j,f.capture):x.detachEvent?x.detachEvent(jt(_),j):x.addListener&&x.removeListener&&x.removeListener(j),(_=vo(x))?(ce(_,f),_.h==0&&(_.src=null,x[Me]=null)):As(f)}}}function jt(f){return f in on?on[f]:on[f]="on"+f}function Um(f,x){if(f.da)f=!0;else{x=new pe(x,this);var _=f.listener,j=f.ha||f.src;f.fa&&gi(f),f=_.call(j,x)}return f}function vo(f){return f=f[Me],f instanceof yn?f:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Td(f){return typeof f=="function"?f:(f[Zl]||(f[Zl]=function(x){return f.handleEvent(x)}),f[Zl])}function Tt(){R.call(this),this.i=new yn(this),this.M=this,this.F=null}N(Tt,R),Tt.prototype[De]=!0,Tt.prototype.removeEventListener=function(f,x,_,j){br(this,f,x,_,j)};function nt(f,x){var _,j=f.F;if(j)for(_=[];j;j=j.F)_.push(j);if(f=f.M,j=x.type||x,typeof x=="string")x=new H(x,f);else if(x instanceof H)x.target=x.target||f;else{var Y=x;x=new H(j,f),O(x,Y)}if(Y=!0,_)for(var ee=_.length-1;0<=ee;ee--){var me=x.g=_[ee];Y=Gn(me,j,!0,x)&&Y}if(me=x.g=f,Y=Gn(me,j,!0,x)&&Y,Y=Gn(me,j,!1,x)&&Y,_)for(ee=0;ee<_.length;ee++)me=x.g=_[ee],Y=Gn(me,j,!1,x)&&Y}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var _=f.g[x],j=0;j<_.length;j++)As(_[j]);delete f.g[x],f.h--}}this.F=null},Tt.prototype.K=function(f,x,_,j){return this.i.add(String(f),x,!1,_,j)},Tt.prototype.L=function(f,x,_,j){return this.i.add(String(f),x,!0,_,j)};function Gn(f,x,_,j){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,ee=0;ee<x.length;++ee){var me=x[ee];if(me&&!me.da&&me.capture==_){var Ge=me.listener,Gt=me.ha||me.src;me.fa&&ce(f.i,me),Y=Ge.call(Gt,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function xn(f,x,_){if(typeof f=="function")_&&(f=w(f,_));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:h.setTimeout(f,x||0)}function Ed(f){f.g=xn(()=>{f.g=null,f.i&&(f.i=!1,Ed(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class zm extends R{constructor(x,_){super(),this.m=x,this.l=_,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ed(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(f){R.call(this),this.h=f,this.g={}}N(ga,R);var ya=[];function va(f){Q(f.g,function(x,_){this.g.hasOwnProperty(_)&&gi(x)},f),f.g={}}ga.prototype.N=function(){ga.aa.N.call(this),va(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=h.JSON.stringify,xo=h.JSON.parse,xa=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Jl(){}Jl.prototype.h=null;function ec(f){return f.h||(f.h=f.i())}function tc(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){H.call(this,"d")}N(_r,H);function nc(){H.call(this,"c")}N(nc,H);var Hs={},sc=null;function yi(){return sc=sc||new Tt}Hs.La="serverreachability";function bo(f){H.call(this,Hs.La,f)}N(bo,H);function vi(f){const x=yi();nt(x,new bo(x))}Hs.STAT_EVENT="statevent";function Ad(f,x){H.call(this,Hs.STAT_EVENT,f),this.stat=x}N(Ad,H);function pt(f){const x=yi();nt(x,new Ad(x,f))}Hs.Ma="timingevent";function Ht(f,x){H.call(this,Hs.Ma,f),this.size=x}N(Ht,H);function Ot(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},x)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function rc(f,x,_,j,Y,ee){f.info(function(){if(f.g)if(ee)for(var me="",Ge=ee.split("&"),Gt=0;Gt<Ge.length;Gt++){var $e=Ge[Gt].split("=");if(1<$e.length){var Xt=$e[0];$e=$e[1];var $t=Xt.split("_");me=2<=$t.length&&$t[1]=="type"?me+(Xt+"="+$e+"&"):me+(Xt+"=redacted&")}}else me=null;else me=ee;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+x+`
`+_+`
`+me})}function Bm(f,x,_,j,Y,ee,me){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+x+`
`+_+`
`+ee+" "+me})}function xi(f,x,_,j){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+ba(f,_)+(j?" "+j:"")})}function Sd(f,x){f.info(function(){return"TIMEOUT: "+x})}is.prototype.info=function(){};function ba(f,x){if(!f.g)return x;if(!x)return null;try{var _=JSON.parse(x);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var j=_[f];if(!(2>j.length)){var Y=j[1];if(Array.isArray(Y)&&!(1>Y.length)){var ee=Y[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var me=1;me<Y.length;me++)Y[me]=""}}}}return Ss(_)}catch{return x}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gs;function $s(){}N($s,Jl),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},Gs=new $s;function Nn(f,x,_,j){this.j=f,this.i=x,this.l=_,this.R=j||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var ic={},wo={};function Ns(f,x,_){f.L=1,f.v=Aa($n(x)),f.m=_,f.P=!0,Er(f,null)}function Er(f,x){f.F=Date.now(),wa(f),f.A=$n(f.v);var _=f.A,j=f.R;Array.isArray(j)||(j=[String(j)]),dc(_.i,"t",j),f.C=0,_=f.j.J,f.h=new It,f.g=Fd(f.j,_?x:null,!f.m),0<f.O&&(f.M=new zm(w(f.Y,f,f.g),f.O)),x=f.U,_=f.g,j=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ya[0]=Y.toString()),Y=ya);for(var ee=0;ee<Y.length;ee++){var me=vn(_,Y[ee],j||x.handleEvent,!1,x.h||x);if(!me)break;x.g[me.key]=me}x=f.H?E(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),vi(),rc(f.i,f.u,f.A,f.l,f.R,f.m)}Nn.prototype.ca=function(f){f=f.target;const x=this.M;x&&cs(f)==3?x.j():this.Y(f)},Nn.prototype.Y=function(f){try{if(f==this.g)e:{const $t=cs(this.g);var x=this.g.Ba();const kr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Pd(this.g)))){this.J||$t!=4||x==7||(x==8||0>=kr?vi(3):vi(2)),wi(this);var _=this.g.Z();this.X=_;t:if(Nd(this)){var j=Pd(this.g);f="";var Y=j.length,ee=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Ks(this);var me="";break t}this.h.i=new h.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,f+=this.h.i.decode(j[x],{stream:!(ee&&x==Y-1)});j.length=0,this.h.g+=f,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,Bm(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Gt=this.g;if((Ge=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ge)){var $e=Ge;break t}}$e=null}if(_=$e)xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,_);else{this.o=!1,this.s=3,pt(12),ln(this),Ks(this);break e}}if(this.P){_=!0;let cn;for(;!this.J&&this.C<me.length;)if(cn=Cd(this,me),cn==wo){$t==4&&(this.s=4,pt(14),_=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==ic){this.s=4,pt(15),xi(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else xi(this.i,this.l,cn,null),_a(this,cn);if(Nd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||me.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)xi(this.i,this.l,me,"[Invalid Chunked Response]"),ln(this),Ks(this);else if(0<me.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Da(Xt),Xt.M=!0,pt(11))}}else xi(this.i,this.l,me,null),_a(this,me);$t==4&&ln(this),this.o&&!this.J&&($t==4?Ud(this.j,this):(this.o=!1,wa(this)))}else $m(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),ln(this),Ks(this)}}}catch{}finally{}};function Nd(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Cd(f,x){var _=f.C,j=x.indexOf(`
`,_);return j==-1?wo:(_=Number(x.substring(_,j)),isNaN(_)?ic:(j+=1,j+_>x.length?wo:(x=x.slice(j,j+_),f.C=j+_,x)))}Nn.prototype.cancel=function(){this.J=!0,ln(this)};function wa(f){f.S=Date.now()+f.I,Rd(f,f.I)}function Rd(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ot(w(f.ba,f),x)}function wi(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Nn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Sd(this.i,this.A),this.L!=2&&(vi(),pt(17)),ln(this),this.s=2,Ks(this)):Rd(this,this.S-f)};function Ks(f){f.j.G==0||f.J||Ud(f.j,f)}function ln(f){wi(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,va(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function _a(f,x){try{var _=f.j;if(_.G!=0&&(_.g==f||ac(_.h,f))){if(!f.K&&ac(_.h,f)&&_.G==3){try{var j=_.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Do(_),Io(_);else break e;gc(_),pt(18)}}else _.za=Y[1],0<_.za-_.T&&37500>Y[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ot(w(_.Za,_),6e3));if(1>=To(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ir(_,11)}else if((f.K||_.g==f)&&Do(_),!G(x))for(Y=_.Da.g.parse(x),x=0;x<Y.length;x++){let $e=Y[x];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const Xt=$e[3];Xt!=null&&(_.la=Xt,_.j.info("VER="+_.la));const $t=$e[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const kr=$e[5];kr!=null&&typeof kr=="number"&&0<kr&&(j=1.5*kr,_.L=j,_.j.info("backChannelRequestTimeoutMs_="+j)),j=_;const cn=f.g;if(cn){const er=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var ee=j.h;ee.g||er.indexOf("spdy")==-1&&er.indexOf("quic")==-1&&er.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Eo(ee,ee.h),ee.h=null))}if(j.D){const vc=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(j.ya=vc,at(j.I,j.D,vc))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),j=_;var me=f;if(j.qa=Bd(j,j.J?j.ia:null,j.W),me.K){Cn(j.h,me);var Ge=me,Gt=j.L;Gt&&(Ge.I=Gt),Ge.B&&(wi(Ge),wa(Ge)),j.g=me}else Vd(j);0<_.i.length&&ko(_)}else $e[0]!="stop"&&$e[0]!="close"||Ir(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ir(_,7):mc(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}vi(4)}catch{}}var jd=class{constructor(f,x){this.g=f,this.map=x}};function Ar(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _o(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function To(f){return f.h?1:f.g?f.g.size:0}function ac(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Eo(f,x){f.g?f.g.add(x):f.h=x}function Cn(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}Ar.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function oc(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const _ of f.g.values())x=x.concat(_.D);return x}return M(f.i)}function Fm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var x=[],_=f.length,j=0;j<_;j++)x.push(f[j]);return x}x=[],_=0;for(j in f)x[_++]=f[j];return x}function Ao(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var x=[];f=f.length;for(var _=0;_<f;_++)x.push(_);return x}x=[],_=0;for(const j in f)x[_++]=j;return x}}}function lc(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var _=Ao(f),j=Fm(f),Y=j.length,ee=0;ee<Y;ee++)x.call(void 0,j[ee],_&&_[ee],f)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qm(f,x){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var j=f[_].indexOf("="),Y=null;if(0<=j){var ee=f[_].substring(0,j);Y=f[_].substring(j+1)}else ee=f[_];x(ee,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Vt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vt){this.h=f.h,Ea(this,f.j),this.o=f.o,this.g=f.g,_i(this,f.s),this.l=f.l;var x=f.i,_=new Nr;_.i=x.i,x.g&&(_.g=new Map(x.g),_.h=x.h),Sr(this,_),this.m=f.m}else f&&(x=String(f).match(Ta))?(this.h=!1,Ea(this,x[1]||"",!0),this.o=as(x[2]||""),this.g=as(x[3]||"",!0),_i(this,x[4]),this.l=as(x[5]||"",!0),Sr(this,x[6]||"",!0),this.m=as(x[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Vt.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Sa(x,cc,!0),":");var _=this.g;return(_||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Sa(x,cc,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Sa(_,_.charAt(0)=="/"?Hm:uc,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Sa(_,So)),f.join("")};function $n(f){return new Vt(f)}function Ea(f,x,_){f.j=_?as(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function _i(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function Sr(f,x,_){x instanceof Nr?(f.i=x,kd(f.i,f.h)):(_||(x=Sa(x,Gm)),f.i=new Nr(x,f.h))}function at(f,x,_){f.i.set(x,_)}function Aa(f){return at(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function as(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Sa(f,x,_){return typeof f=="string"?(f=encodeURI(f).replace(x,Id),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Id(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var cc=/[#\/\?@]/g,uc=/[#\?:]/g,Hm=/[#\?]/g,Gm=/[#\?@]/g,So=/#/g;function Nr(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function os(f){f.g||(f.g=new Map,f.h=0,f.i&&qm(f.i,function(x,_){f.add(decodeURIComponent(x.replace(/\+/g," ")),_)}))}t=Nr.prototype,t.add=function(f,x){os(this),this.i=null,f=Qs(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(x),this.h+=1,this};function Cr(f,x){os(f),x=Qs(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function Rr(f,x){return os(f),x=Qs(f,x),f.g.has(x)}t.forEach=function(f,x){os(this),this.g.forEach(function(_,j){_.forEach(function(Y){f.call(x,Y,j,this)},this)},this)},t.na=function(){os(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),_=[];for(let j=0;j<x.length;j++){const Y=f[j];for(let ee=0;ee<Y.length;ee++)_.push(x[j])}return _},t.V=function(f){os(this);let x=[];if(typeof f=="string")Rr(this,f)&&(x=x.concat(this.g.get(Qs(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)x=x.concat(f[_])}return x},t.set=function(f,x){return os(this),this.i=null,f=Qs(this,f),Rr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function dc(f,x,_){Cr(f,x),0<_.length&&(f.i=null,f.g.set(Qs(f,x),M(_)),f.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var _=0;_<x.length;_++){var j=x[_];const ee=encodeURIComponent(String(j)),me=this.V(j);for(j=0;j<me.length;j++){var Y=ee;me[j]!==""&&(Y+="="+encodeURIComponent(String(me[j]))),f.push(Y)}}return this.i=f.join("&")};function Qs(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function kd(f,x){x&&!f.j&&(os(f),f.i=null,f.g.forEach(function(_,j){var Y=j.toLowerCase();j!=Y&&(Cr(this,j),dc(this,Y,_))},f)),f.j=x}function Na(f,x){const _=new is;if(h.Image){const j=new Image;j.onload=S(ls,_,"TestLoadImage: loaded",!0,x,j),j.onerror=S(ls,_,"TestLoadImage: error",!1,x,j),j.onabort=S(ls,_,"TestLoadImage: abort",!1,x,j),j.ontimeout=S(ls,_,"TestLoadImage: timeout",!1,x,j),h.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else x(!1)}function Cs(f,x){const _=new is,j=new AbortController,Y=setTimeout(()=>{j.abort(),ls(_,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:j.signal}).then(ee=>{clearTimeout(Y),ee.ok?ls(_,"TestPingServer: ok",!0,x):ls(_,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),ls(_,"TestPingServer: error",!1,x)})}function ls(f,x,_,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(_)}catch{}}function Ca(){this.g=new xa}function Ys(f,x,_){const j=_||"";try{lc(f,function(Y,ee){let me=Y;g(Y)&&(me=Ss(Y)),x.push(j+ee+"="+encodeURIComponent(me))})}catch(Y){throw x.push(j+"type="+encodeURIComponent("_badmap")),Y}}function Ti(f){this.l=f.Ub||null,this.j=f.eb||!1}N(Ti,Jl),Ti.prototype.g=function(){return new jr(this.l,this.j)},Ti.prototype.i=(function(f){return function(){return f}})({});function jr(f,x){Tt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(jr,Tt),t=jr.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,Xs(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||h).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function hc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?Ws(this):Xs(this),this.readyState==3&&hc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Ws(this))},t.Qa=function(f){this.g&&(this.response=f,Ws(this))},t.ga=function(){this.g&&Ws(this)};function Ws(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xs(f)}t.setRequestHeader=function(f,x){this.u.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var _=x.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=x.next();return f.join(`\r
`)};function Xs(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function fc(f){let x="";return Q(f,function(_,j){x+=j,x+=":",x+=_,x+=`\r
`}),x}function Wt(f,x,_){e:{for(j in _){var j=!1;break e}j=!0}j||(_=fc(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):at(f,x,_))}function Ze(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ze,Tt);var No=/^https?$/i,Ra=["POST","PUT"];t=Ze.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,x,_,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gs.g(),this.v=this.o?ec(this.o):ec(Gs),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(ee){Dd(this,ee);return}if(f=_||"",_=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)_.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ee of j.keys())_.set(ee,j.get(ee));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),Y=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ra,x,void 0))||j||Y||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,me]of _)this.g.setRequestHeader(ee,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(f),this.u=!1}catch(ee){Dd(this,ee)}};function Dd(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,Co(f),Zs(f)}function Co(f){f.A||(f.A=!0,nt(f,"complete"),nt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,nt(this,"complete"),nt(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},t.bb=function(){Ro(this)};function Ro(f){if(f.h&&typeof u<"u"&&(!f.v[1]||cs(f)!=4||f.Z()!=2)){if(f.u&&cs(f)==4)xn(f.Ea,0,f);else if(nt(f,"readystatechange"),cs(f)==4){f.h=!1;try{const me=f.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var _;if(!(_=x)){var j;if(j=me===0){var Y=String(f.D).match(Ta)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),j=!No.test(Y?Y.toLowerCase():"")}_=j}if(_)nt(f,"complete"),nt(f,"success");else{f.m=6;try{var ee=2<cs(f)?f.g.statusText:""}catch{ee=""}f.l=ee+" ["+f.Z()+"]",Co(f)}}finally{Zs(f)}}}}function Zs(f,x){if(f.g){ja(f);const _=f.g,j=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||nt(f,"ready");try{_.onreadystatechange=j}catch{}}}function ja(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function cs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),xo(x)}};function Pd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function $m(f){const x={};f=(f.g&&2<=cs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(G(f[j]))continue;var _=z(f[j]);const Y=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=x[Y]||[];x[Y]=ee,ee.push(_)}k(x,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(f,x,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||x}function jo(f){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,f),this.cb=Ia("retryDelaySeedMs",1e4,f),this.Wa=Ia("forwardChannelMaxRetries",2,f),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ar(f&&f.concurrentRequestLimit),this.Da=new Ca,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jo.prototype,t.la=8,t.G=1,t.connect=function(f,x,_,j){pt(0),this.W=f,this.H=x||{},_&&j!==void 0&&(this.H.OSID=_,this.H.OAID=j),this.F=this.X,this.I=Bd(this,null,this.W),ko(this)};function mc(f){if(Md(f),f.G==3){var x=f.U++,_=$n(f.I);if(at(_,"SID",f.K),at(_,"RID",x),at(_,"TYPE","terminate"),ka(f,_),x=new Nn(f,f.j,x),x.L=2,x.v=Aa($n(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(x.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=x.v,_=!0),_||(x.g=Fd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),wa(x)}zd(f)}function Io(f){f.g&&(Da(f),f.g.cancel(),f.g=null)}function Md(f){Io(f),f.u&&(h.clearTimeout(f.u),f.u=null),Do(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function ko(f){if(!_o(f.h)&&!f.s){f.s=!0;var x=f.Ga;re||L(),fe||(re(),fe=!0),Ee.add(x,f),f.B=0}}function Km(f,x){return To(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ot(w(f.Ga,f,x),yc(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new Nn(this,this.j,f);let ee=this.o;if(this.S&&(ee?(ee=E(ee),O(ee,this.S)):ee=this.S),this.m!==null||this.O||(Y.H=ee,ee=null),this.P)e:{for(var x=0,_=0;_<this.i.length;_++){t:{var j=this.i[_];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=_;break e}if(x===4096||_===this.i.length-1){x=_+1;break e}}x=1e3}else x=1e3;x=Od(this,Y,x),_=$n(this.I),at(_,"RID",f),at(_,"CVER",22),this.D&&at(_,"X-HTTP-Session-Id",this.D),ka(this,_),ee&&(this.O?x="headers="+encodeURIComponent(String(fc(ee)))+"&"+x:this.m&&Wt(_,this.m,ee)),Eo(this.h,Y),this.Ua&&at(_,"TYPE","init"),this.P?(at(_,"$req",x),at(_,"SID","null"),Y.T=!0,Ns(Y,_,null)):Ns(Y,_,x),this.G=2}}else this.G==3&&(f?pc(this,f):this.i.length==0||_o(this.h)||pc(this))};function pc(f,x){var _;x?_=x.l:_=f.U++;const j=$n(f.I);at(j,"SID",f.K),at(j,"RID",_),at(j,"AID",f.T),ka(f,j),f.m&&f.o&&Wt(j,f.m,f.o),_=new Nn(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),x&&(f.i=x.D.concat(f.i)),x=Od(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Eo(f.h,_),Ns(_,j,x)}function ka(f,x){f.H&&Q(f.H,function(_,j){at(x,j,_)}),f.l&&lc({},function(_,j){at(x,j,_)})}function Od(f,x,_){_=Math.min(f.i.length,_);var j=f.l?w(f.l.Na,f.l,f):null;e:{var Y=f.i;let ee=-1;for(;;){const me=["count="+_];ee==-1?0<_?(ee=Y[0].g,me.push("ofs="+ee)):ee=0:me.push("ofs="+ee);let Ge=!0;for(let Gt=0;Gt<_;Gt++){let $e=Y[Gt].g;const Xt=Y[Gt].map;if($e-=ee,0>$e)ee=Math.max(0,Y[Gt].g-100),Ge=!1;else try{Ys(Xt,me,"req"+$e+"_")}catch{j&&j(Xt)}}if(Ge){j=me.join("&");break e}}}return f=f.i.splice(0,_),x.D=f,j}function Vd(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;re||L(),fe||(re(),fe=!0),Ee.add(x,f),f.v=0}}function gc(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ot(w(f.Fa,f),yc(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ld(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ot(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Io(this),Ld(this))};function Da(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Ld(f){f.g=new Nn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=$n(f.qa);at(x,"RID","rpc"),at(x,"SID",f.K),at(x,"AID",f.T),at(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&at(x,"TO",f.ja),at(x,"TYPE","xmlhttp"),ka(f,x),f.m&&f.o&&Wt(x,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Aa($n(x)),_.m=null,_.P=!0,Er(_,f)}t.Za=function(){this.C!=null&&(this.C=null,Io(this),gc(this),pt(19))};function Do(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Ud(f,x){var _=null;if(f.g==x){Do(f),Da(f),f.g=null;var j=2}else if(ac(f.h,x))_=x.D,Cn(f.h,x),j=1;else return;if(f.G!=0){if(x.o)if(j==1){_=x.m?x.m.length:0,x=Date.now()-x.F;var Y=f.B;j=yi(),nt(j,new Ht(j,_)),ko(f)}else Vd(f);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(j==1&&Km(f,x)||j==2&&gc(f)))switch(_&&0<_.length&&(x=f.h,x.i=x.i.concat(_)),Y){case 1:Ir(f,5);break;case 4:Ir(f,10);break;case 3:Ir(f,6);break;default:Ir(f,2)}}}function yc(f,x){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*x}function Ir(f,x){if(f.j.info("Error code "+x),x==2){var _=w(f.fb,f),j=f.Xa;const Y=!j;j=new Vt(j||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ea(j,"https"),Aa(j),Y?Na(j.toString(),_):Cs(j.toString(),_)}else pt(2);f.G=0,f.l&&f.l.sa(x),zd(f),Md(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function zd(f){if(f.G=0,f.ka=[],f.l){const x=oc(f.h);(x.length!=0||f.i.length!=0)&&(P(f.ka,x),P(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function Bd(f,x,_){var j=_ instanceof Vt?$n(_):new Vt(_);if(j.g!="")x&&(j.g=x+"."+j.g),_i(j,j.s);else{var Y=h.location;j=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var ee=new Vt(null);j&&Ea(ee,j),x&&(ee.g=x),Y&&_i(ee,Y),_&&(ee.l=_),j=ee}return _=f.D,x=f.ya,_&&x&&at(j,_,x),at(j,"VER",f.la),ka(f,j),j}function Fd(f,x,_){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new Ze(new Ti({eb:_})):new Ze(f.pa),x.Ha(f.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qd(){}t=qd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Po(){}Po.prototype.g=function(f,x){return new Rn(f,x)};function Rn(f,x){Tt.call(this),this.g=new jo(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!G(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!G(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Js(this)}N(Rn,Tt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){mc(this.g)},Rn.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=Ss(f),f=_);x.i.push(new jd(x.Ya++,f)),x.G==3&&ko(x)},Rn.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,Rn.aa.N.call(this)};function Hd(f){_r.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const _ in x){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}N(Hd,_r);function Gd(){nc.call(this),this.status=1}N(Gd,nc);function Js(f){this.g=f}N(Js,qd),Js.prototype.ua=function(){nt(this.g,"a")},Js.prototype.ta=function(f){nt(this.g,new Hd(f))},Js.prototype.sa=function(f){nt(this.g,new Gd)},Js.prototype.ra=function(){nt(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,ES=function(){return new Po},TS=function(){return yi()},_S=Hs,My={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,ff=bi,Tr.COMPLETE="complete",wS=Tr,tc.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,hu=tc,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,bS=Ze}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const C1="@firebase/firestore",R1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new O0("@firebase/firestore");function ul(){return lo.logLevel}function ye(t,...e){if(lo.logLevel<=Fe.DEBUG){const n=e.map(Q0);lo.debug(`Firestore (${Fl}): ${t}`,...n)}}function oi(t,...e){if(lo.logLevel<=Fe.ERROR){const n=e.map(Q0);lo.error(`Firestore (${Fl}): ${t}`,...n)}}function co(t,...e){if(lo.logLevel<=Fe.WARN){const n=e.map(Q0);lo.warn(`Firestore (${Fl}): ${t}`,...n)}}function Q0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AS(t,s,n)}function AS(t,e,n){let s=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw oi(s),new Error(s)}function Je(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||AS(e,a,s)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(En.UNAUTHENTICATED)))}shutdown(){}}class Y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ei,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ei)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new SS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class X6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new X6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=e5(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function qe(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Jg(a)===Jg(l)?qe(a,l):Jg(a)?1:-1}return qe(t.length,e.length)}const t5=55296,n5=57343;function Jg(t){const e=t.charCodeAt(0);return e>=t5&&e<=n5}function Rl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="__name__";class ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ar.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return qe(e.length,n.length)}static compareSegments(e,n){const s=ar.isNumericId(e),a=ar.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class ht extends ar{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const s5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ar{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return s5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I1}static keyField(){return new sn([I1])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e,n){if(!n)throw new ge(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RS(t,e,n,s){if(e===!0&&s===!0)throw new ge(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k1(t){if(!we.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D1(t){if(we.isDocumentKey(t))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dm(t);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ad(t,e){if(!jS(t))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new ge(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=-62135596800,M1=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*M1);return new ft(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P1)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M1}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ad(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-P1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:qt("string",ft._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new ft(0,0))}static max(){return new je(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function r5(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=je.fromTimestamp(s===1e9?new ft(n+1,0):new ft(n,s));return new ia(a,we.empty(),e)}function i5(t){return new ia(t.readTime,t.key,Pu)}class ia{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ia(je.min(),we.empty(),Pu)}static max(){return new ia(je.max(),we.empty(),Pu)}}function a5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==o5)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,s)=>{n(e)}))}static reject(e){return new ue(((n,s)=>{s(e)}))}static waitFor(e){return new ue(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(m=>s(m)))})),u=!0,l===a&&n()}))}static or(e){let n=ue.resolve(!1);for(const s of e)n=n.next((a=>a?ue.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ue(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{u[g]=v,++h,h===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,n){return new ue(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function c5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-1;function fm(t){return t==null}function Pf(t){return t===0&&1/t==-1/0}function u5(t){return typeof t=="number"&&Number.isInteger(t)&&!Pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="";function d5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O1(e)),e=h5(t.get(n),e);return O1(e)}function h5(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case IS:n+="";break;default:n+=l}}return n}function O1(t){return t+IS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new mn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new ts([])}unionWith(e){let n=new Yt(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new DS("Invalid base64 string: "+l):l}})(e);return new an(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(t){if(Je(!!t,39018),typeof t=="string"){let e=0;const n=f5.exec(t);if(Je(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oa(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="server_timestamp",MS="__type__",OS="__previous_value__",VS="__local_write_time__";function W0(t){return(t?.mapValue?.fields||{})[MS]?.stringValue===PS}function mm(t){const e=t.mapValue.fields[OS];return W0(e)?mm(e):e}function Mu(t){const e=aa(t.mapValue.fields[VS].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,s,a,l,u,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Mf="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||Mf}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="__type__",p5="__max__",Wh={mapValue:{}},US="__vector__",Of="value";function la(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?W0(t)?4:y5(t)?9007199254740991:g5(t)?10:11:Ne(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=la(t);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=aa(a.timestampValue),h=aa(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return oa(a.bytesValue).isEqual(oa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Pt(a.doubleValue),h=Pt(l.doubleValue);return u===h?Pf(u)===Pf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(V1(u)!==V1(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!mr(u[m],h[m])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Ou(t,e){return(t.values||[]).find((n=>mr(n,e)))!==void 0}function Il(t,e){if(t===e)return 0;const n=la(t),s=la(e);if(n!==s)return qe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Pt(l.integerValue||l.doubleValue),m=Pt(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(t,e);case 3:return U1(t.timestampValue,e.timestampValue);case 4:return U1(Mu(t),Mu(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=oa(l),m=oa(u);return h.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const v=qe(h[g],m[g]);if(v!==0)return v}return qe(h.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=qe(Pt(l.latitude),Pt(u.latitude));return h!==0?h:qe(Pt(l.longitude),Pt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return z1(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},g=h[Of]?.arrayValue,v=m[Of]?.arrayValue,b=qe(g?.values?.length||0,v?.values?.length||0);return b!==0?b:z1(g,v)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Wh.mapValue&&u===Wh.mapValue)return 0;if(l===Wh.mapValue)return 1;if(u===Wh.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=u.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const w=Oy(m[b],v[b]);if(w!==0)return w;const S=Il(h[m[b]],g[v[b]]);if(S!==0)return S}return qe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function U1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=aa(t),s=aa(e),a=qe(n.seconds,s.seconds);return a!==0?a:qe(n.nanos,s.nanos)}function z1(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Il(n[a],s[a]);if(l)return l}return qe(n.length,s.length)}function kl(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=aa(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return oa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Vy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Vy(n.fields[u])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function mf(t){switch(la(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(t);return e?16+mf(e):16;case 5:return 2*t.stringValue.length;case 6:return oa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+mf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return ha(s.fields,((l,u)=>{a+=l.length+mf(u)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function B1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ly(t){return!!t&&"integerValue"in t}function X0(t){return!!t&&"arrayValue"in t}function F1(t){return!!t&&"nullValue"in t}function q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function g5(t){return(t?.mapValue?.fields||{})[LS]?.stringValue===US}function xu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return{...t}}function y5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=sn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=xu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ha(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Bn(xu(this.value))}}function zS(t){const e=[];return ha(t.fields,((n,s)=>{const a=new sn([n]);if(pf(s)){const l=zS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ts(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new An(e,0,je.min(),je.min(),je.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,a){return new An(e,1,n,je.min(),s,a,0)}static newNoDocument(e,n){return new An(e,2,n,je.min(),je.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,je.min(),je.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.position=e,this.inclusive=n}}function H1(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=we.comparator(we.fromName(u.referenceValue),n.key):s=Il(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function G1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function v5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{}class Ft extends BS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new b5(e,n,s):n==="array-contains"?new T5(e,s):n==="in"?new E5(e,s):n==="not-in"?new A5(e,s):n==="array-contains-any"?new S5(e,s):new Ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new w5(e,s):new _5(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Il(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(Il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends BS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new zs(e,n)}matches(e){return FS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FS(t){return t.op==="and"}function qS(t){return x5(t)&&FS(t)}function x5(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function Uy(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(qS(t))return t.filters.map((e=>Uy(e))).join(",");{const e=t.filters.map((n=>Uy(n))).join(",");return`${t.op}(${e})`}}function HS(t,e){return t instanceof Ft?(function(s,a){return a instanceof Ft&&s.op===a.op&&s.field.isEqual(a.field)&&mr(s.value,a.value)})(t,e):t instanceof zs?(function(s,a){return a instanceof zs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&HS(u,a.filters[h])),!0):!1})(t,e):void Ne(19439)}function GS(t){return t instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof zs?(function(n){return n.op.toString()+" {"+n.getFilters().map(GS).join(" ,")+"}"})(t):"Filter"}class b5 extends Ft{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class w5 extends Ft{constructor(e,n){super(e,"in",n),this.keys=$S("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _5 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=$S("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $S(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class T5 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return X0(n)&&Ou(n.arrayValue,this.value)}}class E5 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class A5 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class S5 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!X0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function $1(t,e=null,n=[],s=[],a=null,l=null,u=null){return new N5(t,e,n,s,a,l,u)}function Z0(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Uy(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>kl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>kl(s))).join(",")),e.Te=n}return e.Te}function J0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G1(t.startAt,e.startAt)&&G1(t.endAt,e.endAt)}function zy(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C5(t,e,n,s,a,l,u,h){return new Gl(t,e,n,s,a,l,u,h)}function pm(t){return new Gl(t)}function K1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KS(t){return t.collectionGroup!==null}function bu(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Yt(sn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vu(l,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Vu(sn.keyField(),s))}return e.Ie}function ur(t){const e=ke(t);return e.Ee||(e.Ee=R5(e,bu(t))),e.Ee}function R5(t,e){if(t.limitType==="F")return $1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vu(a.field,l)}));const n=t.endAt?new Vf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Vf(t.startAt.position,t.startAt.inclusive):null;return $1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function By(t,e){const n=t.filters.concat([e]);return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lf(t,e,n){return new Gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gm(t,e){return J0(ur(t),ur(e))&&t.limitType===e.limitType}function QS(t){return`${Z0(ur(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>GS(a))).join(", ")}]`),fm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>kl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>kl(a))).join(",")),`Target(${s})`})(ur(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):we.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of bu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,m){const g=H1(u,h,m);return u.inclusive?g<=0:g<0})(s.startAt,bu(s),a)||s.endAt&&!(function(u,h,m){const g=H1(u,h,m);return u.inclusive?g>=0:g>0})(s.endAt,bu(s),a))})(t,e)}function j5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YS(t){return(e,n)=>{let s=!1;for(const a of bu(t)){const l=I5(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function I5(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(l,u,h){const m=u.data.field(l),g=h.data.field(l);return m!==null&&g!==null?Il(m,g):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=new wt(we.comparator);function li(){return k5}const WS=new wt(we.comparator);function fu(...t){let e=WS;for(const n of t)e=e.insert(n.key,n);return e}function XS(t){let e=WS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function eo(){return wu()}function ZS(){return wu()}function wu(){return new po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const D5=new wt(we.comparator),P5=new Yt(we.comparator);function He(...t){let e=P5;for(const n of t)e=e.add(n);return e}const M5=new Yt(qe);function O5(){return M5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pf(e)?"-0":e}}function JS(t){return{integerValue:""+t}}function V5(t,e){return u5(e)?JS(e):ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this._=void 0}}function L5(t,e,n){return t instanceof Lu?(function(a,l){const u={fields:{[MS]:{stringValue:PS},[VS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&W0(l)&&(l=mm(l)),l&&(u.fields[OS]=l),{mapValue:u}})(n,e):t instanceof Uu?tN(t,e):t instanceof zu?nN(t,e):(function(a,l){const u=eN(a,l),h=Q1(u)+Q1(a.Ae);return Ly(u)&&Ly(a.Ae)?JS(h):ev(a.serializer,h)})(t,e)}function U5(t,e,n){return t instanceof Uu?tN(t,e):t instanceof zu?nN(t,e):n}function eN(t,e){return t instanceof Uf?(function(s){return Ly(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Lu extends vm{}class Uu extends vm{constructor(e){super(),this.elements=e}}function tN(t,e){const n=sN(e);for(const s of t.elements)n.some((a=>mr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class zu extends vm{constructor(e){super(),this.elements=e}}function nN(t,e){let n=sN(e);for(const s of t.elements)n=n.filter((a=>!mr(a,s)));return{arrayValue:{values:n}}}class Uf extends vm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q1(t){return Pt(t.integerValue||t.doubleValue)}function sN(t){return X0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.field=e,this.transform=n}}function B5(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Uu&&a instanceof Uu||s instanceof zu&&a instanceof zu?Rl(s.elements,a.elements,mr):s instanceof Uf&&a instanceof Uf?mr(s.Ae,a.Ae):s instanceof Lu&&a instanceof Lu})(t.transform,e.transform)}class F5{constructor(e,n){this.version=e,this.transformResults=n}}class bs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bs}static exists(e){return new bs(void 0,e)}static updateTime(e){return new bs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xm{}function rN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tv(t.key,bs.none()):new od(t.key,t.data,bs.none());{const n=t.data,s=Bn.empty();let a=new Yt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new fa(t.key,s,new ts(a.toArray()),bs.none())}}function q5(t,e,n){t instanceof od?(function(a,l,u){const h=a.value.clone(),m=W1(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof fa?(function(a,l,u){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=W1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(iN(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function _u(t,e,n,s){return t instanceof od?(function(l,u,h,m){if(!gf(l.precondition,u))return h;const g=l.value.clone(),v=X1(l.fieldTransforms,m,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof fa?(function(l,u,h,m){if(!gf(l.precondition,u))return h;const g=X1(l.fieldTransforms,m,u),v=u.data;return v.setAll(iN(l)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,h){return gf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function H5(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=eN(s.transform,a||null);l!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,l))}return n||null}function Y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Rl(s,a,((l,u)=>B5(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends xm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fa extends xm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function W1(t,e,n){const s=new Map;Je(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,U5(u,h,n[a]))}return s}function X1(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,L5(l,u,e))}return s}class tv extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G5 extends xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&q5(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=_u(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const m=rN(u,h);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(je.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,((n,s)=>Y1(n,s)))&&Rl(this.baseMutations,e.baseMutations,((n,s)=>Y1(n,s)))}}class nv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return D5})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new nv(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Qe;function Y5(t){switch(t){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function aN(t){if(t===void 0)return oi("GRPC error has no .code"),oe.UNKNOWN;switch(t){case zt.OK:return oe.OK;case zt.CANCELLED:return oe.CANCELLED;case zt.UNKNOWN:return oe.UNKNOWN;case zt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case zt.INTERNAL:return oe.INTERNAL;case zt.UNAVAILABLE:return oe.UNAVAILABLE;case zt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case zt.NOT_FOUND:return oe.NOT_FOUND;case zt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case zt.ABORTED:return oe.ABORTED;case zt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case zt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:t})}}(Qe=zt||(zt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new ea([4294967295,4294967295],0);function Z1(t){const e=W5().encode(t),n=new xS;return n.update(e),new Uint8Array(n.digest())}function J1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ea([n,s],0),new ea([a,l],0)]}class sv{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new mu(`Invalid padding: ${n}`);if(s<0)throw new mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ea.fromNumber(s)));return a.compare(X5)===1&&(a=new ea([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z1(e),[s,a]=J1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new sv(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Z1(e),[s,a]=J1(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ld.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new bm(je.min(),a,new wt(qe),li(),He())}}class ld{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ld(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class oN{constructor(e,n){this.targetId=e,this.Ce=n}}class lN{constructor(e,n,s=an.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new ld(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Z5{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=Xh(),this.He=Xh(),this.Ye=new wt(qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(zy(l))if(s===0){const u=new we(l.path);this.et(n,u,An.newNoDocument(u,je.min()))}else Je(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=oa(s).toUint8Array()}catch(m){if(m instanceof DS)return co("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new sv(u,a,l)}catch(m){return co(m instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&zy(h.target)){const m=new we(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,An.newNoDocument(m,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=He();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new bm(e,n,this.Ye,this.je,s);return this.je=li(),this.Je=Xh(),this.He=Xh(),this.Ye=new wt(qe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Yt(qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Yt(qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xh(){return new wt(we.comparator)}function tT(){return new wt(we.comparator)}const J5={asc:"ASCENDING",desc:"DESCENDING"},e3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t3={and:"AND",or:"OR"};class n3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fy(t,e){return t.useProto3Json||fm(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s3(t,e){return zf(t,e.toTimestamp())}function dr(t){return Je(!!t,49232),je.fromTimestamp((function(n){const s=aa(n);return new ft(s.seconds,s.nanos)})(t))}function rv(t,e){return qy(t,e).canonicalString()}function qy(t,e){const n=(function(a){return new ht(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uN(t){const e=ht.fromString(t);return Je(pN(e),10190,{key:e.toString()}),e}function Hy(t,e){return rv(t.databaseId,e.path)}function ey(t,e){const n=uN(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(hN(n))}function dN(t,e){return rv(t.databaseId,e)}function r3(t){const e=uN(t);return e.length===4?ht.emptyPath():hN(e)}function Gy(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hN(t){return Je(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nT(t,e,n){return{name:Hy(t,e),fields:n.value.mapValue.fields}}function i3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),an.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),an.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const v=g.code===void 0?oe.UNKNOWN:aN(g.code);return new ge(v,g.message||"")})(u);n=new lN(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ey(t,s.document.name),l=dr(s.document.updateTime),u=s.document.createTime?dr(s.document.createTime):je.min(),h=new Bn({mapValue:{fields:s.document.fields}}),m=An.newFoundDocument(a,l,u,h),g=s.targetIds||[],v=s.removedTargetIds||[];n=new yf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ey(t,s.document),l=s.readTime?dr(s.readTime):je.min(),u=An.newNoDocument(a,l),h=s.removedTargetIds||[];n=new yf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ey(t,s.document),l=s.removedTargetIds||[];n=new yf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new Q5(a,l),h=s.targetId;n=new oN(h,u)}}return n}function a3(t,e){let n;if(e instanceof od)n={update:nT(t,e.key,e.value)};else if(e instanceof tv)n={delete:Hy(t,e.key)};else if(e instanceof fa)n={update:nT(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof G5))return Ne(16599,{Vt:e.type});n={verify:Hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Lu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:s3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function o3(t,e){return t&&t.length>0?(Je(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?dr(a.updateTime):dr(l);return u.isEqual(je.min())&&(u=dr(l)),new F5(u,a.transformResults||[])})(n,e)))):[]}function l3(t,e){return{documents:[dN(t,e.path)]}}function c3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dN(t,a);const l=(function(g){if(g.length!==0)return mN(zs.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:hl(w.field),direction:h3(w.dir)}})(v)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Fy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:a}}function u3(t){let e=r3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const w=fN(b);return w instanceof zs&&qS(w)?w.getFilters():[w]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((w=>(function(N){return new Vu(fl(N.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let w;return w=typeof b=="object"?b.value:b,fm(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(b){const w=!!b.before,S=b.values||[];return new Vf(S,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,S=b.values||[];return new Vf(S,w)})(n.endAt)),C5(e,a,u,l,h,"F",m,g)}function d3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fN(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fl(n.unaryFilter.field);return Ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fl(n.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fl(n.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fl(n.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ft.create(fl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return zs.create(n.compositeFilter.filters.map((s=>fN(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function h3(t){return J5[t]}function f3(t){return e3[t]}function m3(t){return t3[t]}function hl(t){return{fieldPath:t.canonicalString()}}function fl(t){return sn.fromServerFormat(t.fieldPath)}function mN(t){return t instanceof Ft?(function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(F1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(F1(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:f3(n.op),value:n.value}}})(t):t instanceof zs?(function(n){const s=n.getFilters().map((a=>mN(a)));return s.length===1?s[0]:{compositeFilter:{op:m3(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function p3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,s,a,l=je.min(),u=je.min(),h=an.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.yt=e}}function y3(t){const e=u3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.Cn=new x3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ia.min())}updateCollectionGroup(e,n,s){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class x3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Yt(ht.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Yt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gN=41943040;class zn{static withCacheSize(e){return new zn(e,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn.DEFAULT_COLLECTION_PERCENTILE=10,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zn.DEFAULT=new zn(gN,zn.DEFAULT_COLLECTION_PERCENTILE,zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zn.DISABLED=new zn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LruGarbageCollector",b3=1048576;function iT([t,e],[n,s]){const a=qe(t,n);return a===0?qe(e,s):a}class w3{constructor(e){this.Ir=e,this.buffer=new Yt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(rT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hl(n)?ye(rT,"Ignoring IndexedDB error during garbage collection: ",n):await ql(n)}await this.Vr(3e5)}))}}class T3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ue.resolve(hm.ce);const s=new w3(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(sT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),ul()<=Fe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function E3(t,e){return new T3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.changes=new po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ue.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&_u(s.mutation,a,ts.empty(),ft.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const a=eo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=fu();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=eo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=li();const u=wu(),h=(function(){return wu()})();return n.forEach(((m,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof fa)?l=l.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),_u(v.mutation,g,v.mutation.getFieldMask(),ft.now())):u.set(g.key,ts.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>u.set(g,v))),n.forEach(((g,v)=>h.set(g,new S3(v,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=wu();let a=new wt(((u,h)=>u-h)),l=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||ts.empty();v=h.applyToLocalView(g,v),s.set(m,v);const b=(a.get(h.batchId)||He()).add(m);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,v=m.value,b=ZS();v.forEach((w=>{if(!l.has(w)){const S=rN(n.get(w),s.get(w));S!==null&&b.set(w,S),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ue.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ue.resolve(eo());let h=Pu,m=l;return u.next((g=>ue.forEach(g,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,He()))).next((v=>({batchId:h,changes:XS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let a=fu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=fu();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(m=>{const g=(function(b,w){return new Gl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next((v=>{v.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((m,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,An.newInvalidDocument(v)))}));let h=fu();return u.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&_u(v.mutation,g,ts.empty(),ft.now()),ym(n,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:dr(a.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:y3(a.bundledQuery),readTime:dr(a.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.overlays=new wt(we.comparator),this.qr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const s=eo();return ue.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ue.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ue.resolve()}getOverlaysForCollection(e,n,s){const a=eo(),l=n.length+1,u=new we(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new wt(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=eo(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=eo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=a)););return ue.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new K5(n,s));let l=this.qr.get(n);l===void 0&&(l=He(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.Qr=new Yt(tn.$r),this.Ur=new Yt(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new tn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new tn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new ht([])),s=new tn(n,e),a=new tn(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new ht([])),s=new tn(n,e),a=new tn(n,e+1);let l=He();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new tn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class tn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||qe(e.Yr,n.Yr)}static Kr(e,n){return qe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(tn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $5(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new tn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,n){return ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Y0:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new tn(n,0),a=new tn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Yt(qe);return n.forEach((a=>{const l=new tn(a,0),u=new tn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),ue.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;we.isDocumentKey(l)||(l=l.child(""));const u=new tn(new we(l),0);let h=new Yt(qe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ue.forEach(n.mutations,(a=>{const l=new tn(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new tn(n,0),a=this.Zr.firstAfterOrEqual(s);return ue.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this.ri=e,this.docs=(function(){return new wt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ue.resolve(s?s.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let s=li();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():An.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=li();const u=n.path,h=new we(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||a5(i5(v),s)<=0||(a.has(v.key)||ym(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ne(9500)}ii(e,n){return ue.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new D3(this)}getSize(e){return ue.resolve(this.size)}}class D3 extends A3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.persistence=e,this.si=new po((n=>Z0(n)),J0),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new iv,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Pr(n),ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ue.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ue.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ue.resolve(s)}containsKey(e,n){return ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new j3,this.referenceDelegate=e(this),this.Pi=new P3(this),this.indexManager=new v3,this.remoteDocumentCache=(function(a){return new k3(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new g3(n),this.Ii=new C3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new R3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new I3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const a=new M3(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ue.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class M3 extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Ri=new iv,this.Vi=null}static mi(e){return new av(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ue.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(s=>{const a=we.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ue.or([()=>ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bf{constructor(e,n){this.persistence=e,this.pi=new po((s=>d5(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=E3(this,n)}static mi(e,n){return new Bf(e,n)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ue.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ue.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,je.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mf(e.data.value)),n}br(e,n,s){return ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=He(),a=He();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ov(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return a4()?8:c5(Sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new O3;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(ul()<=Fe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(ul()<=Fe.DEBUG&&ye("QueryEngine","Query:",dl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(ul()<=Fe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):ue.resolve())}ys(e,n){if(K1(n))return ue.resolve(null);let s=ur(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Lf(n,null,"F"),s=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=He(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(n,h);return this.Cs(n,g,u,m.readTime)?this.ys(e,Lf(n,null,"F")):this.vs(e,g,n,m)}))))})))))}ws(e,n,s,a){return K1(n)||a.isEqual(je.min())?ue.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?ue.resolve(null):(ul()<=Fe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),dl(n)),this.vs(e,u,n,r5(a,Pu)).next((h=>h)))}))}Ds(e,n){let s=new Yt(YS(e));return n.forEach(((a,l)=>{ym(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return ul()<=Fe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",dl(n)),this.ps.getDocumentsMatchingQuery(e,n,ia.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="LocalStore",L3=3e8;class U3{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new wt(qe),this.xs=new po((l=>Z0(l)),J0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function z3(t,e,n,s){return new U3(t,e,n,s)}async function vN(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let m=He();for(const g of a){u.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){h.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function B3(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,v){const b=g.batch,w=b.keys();let S=ue.resolve();return w.forEach((N=>{S=S.next((()=>v.getEntry(m,N))).next((M=>{const P=g.docVersions.get(N);Je(P!==null,48541),M.version.compareTo(P)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(m,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let m=He();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function xN(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function F3(t,e){const n=ke(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((v,b)=>{const w=a.get(b);if(!w)return;h.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,b))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,s)),a=a.insert(b,S),(function(M,P,U){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=L3?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,S,v)&&h.push(n.Pi.updateTargetData(l,S))}));let m=li(),g=He();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(q3(l,u,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!s.isEqual(je.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(v)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function q3(t,e,n){let s=He(),a=He();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=li();return n.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(je.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):ye(lv,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function H3(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Y0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function G3(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Xi(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $y(t,e,n){const s=ke(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Hl(u))throw u;ye(lv,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function aT(t,e,n){const s=ke(t);let a=je.min(),l=He();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,v){const b=ke(m),w=b.xs.get(v);return w!==void 0?ue.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)})(s,u,ur(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:je.min(),n?l:He()))).next((h=>($3(s,j5(e),h),{documents:h,Qs:l})))))}function $3(t,e,n){let s=t.Os.get(e)||je.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class oT{constructor(){this.activeTargetIds=O5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K3{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh=null;function Ky(){return Zh===null?Zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zh++,"0x"+Zh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="RestConnection",Y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Mf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=Ky(),h=this.zo(e,n.toUriEncodedString());ye(ty,`Sending RPC '${e}' ${u}:`,h,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(h),v=fi(g);return this.Jo(e,h,m,s,v).then((b=>(ye(ty,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw co(ty,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=Y3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class Z3 extends W3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=Ky();return new Promise(((h,m)=>{const g=new bS;g.setWithCredentials(!0),g.listenOnce(wS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ff.NO_ERROR:const b=g.getResponseJson();ye(_n,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case ff.TIMEOUT:ye(_n,`RPC '${e}' ${u} timed out`),m(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const w=g.getStatus();if(ye(_n,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let S=g.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const M=(function(U){const G=U.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(G)>=0?G:oe.UNKNOWN})(N.status);m(new ge(M,N.message))}else m(new ge(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(_n,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);ye(_n,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Ky(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ES(),h=TS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ye(_n,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=u.createWebChannel(v,m);this.I_(b);let w=!1,S=!1;const N=new X3({Yo:P=>{S?ye(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(w||(ye(_n,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),ye(_n,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},Zo:()=>b.close()}),M=(P,U,G)=>{P.listen(U,($=>{try{G($)}catch(te){setTimeout((()=>{throw te}),0)}}))};return M(b,hu.EventType.OPEN,(()=>{S||(ye(_n,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),M(b,hu.EventType.CLOSE,(()=>{S||(S=!0,ye(_n,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(b))})),M(b,hu.EventType.ERROR,(P=>{S||(S=!0,co(_n,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),N.a_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))})),M(b,hu.EventType.MESSAGE,(P=>{if(!S){const U=P.data[0];Je(!!U,16349);const G=U,$=G?.error||G[0]?.error;if($){ye(_n,`RPC '${e}' stream ${a} received error:`,$);const te=$.status;let B=(function(E){const C=zt[E];if(C!==void 0)return aN(C)})(te),Q=$.message;B===void 0&&(B=oe.INTERNAL,Q="Unknown error status: "+te+" with message "+$.message),S=!0,N.a_(new ge(B,Q)),b.close()}else ye(_n,`RPC '${e}' stream ${a} received:`,U),N.u_(U)}})),M(h,_S.STAT_EVENT,(P=>{P.stat===My.PROXY?ye(_n,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===My.NOPROXY&&ye(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ny(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){return new n3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="PersistentStream";class wN{constructor(e,n,s,a,l,u,h,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new ge(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ye(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J3 extends wN{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=i3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return je.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?dr(u.readTime):je.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Gy(this.serializer),n.addTarget=(function(l,u){let h;const m=u.target;if(h=zy(m)?{documents:l3(l,m)}:{query:c3(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=cN(l,u.resumeToken);const g=Fy(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(je.min())>0){h.readTime=zf(l,u.snapshotVersion.toTimestamp());const g=Fy(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const s=d3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Gy(this.serializer),n.removeTarget=e,this.q_(n)}}class eM extends wN{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o3(e.writeResults,e.commitTime),s=dr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Gy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>a3(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{}class nM extends tM{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,qy(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(oe.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,qy(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(oe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(n),this.aa=!1):ye("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class rM{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{go(this)&&(ye(uo,"Restarting streams for network reachability change."),await(async function(m){const g=ke(m);g.Ea.add(4),await cd(g),g.Ra.set("Unknown"),g.Ea.delete(4),await _m(g)})(this))}))})),this.Ra=new sM(s,a)}}async function _m(t){if(go(t))for(const e of t.da)await e(!0)}async function cd(t){for(const e of t.da)await e(!1)}function _N(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hv(n)?dv(n):$l(n).O_()&&uv(n,e))}function cv(t,e){const n=ke(t),s=$l(n);n.Ia.delete(e),s.O_()&&TN(n,e),n.Ia.size===0&&(s.O_()?s.L_():go(n)&&n.Ra.set("Unknown"))}function uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$l(t).Y_(e)}function TN(t,e){t.Va.Ue(e),$l(t).Z_(e)}function dv(t){t.Va=new Z5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),$l(t).start(),t.Ra.ua()}function hv(t){return go(t)&&!$l(t).x_()&&t.Ia.size>0}function go(t){return ke(t).Ea.size===0}function EN(t){t.Va=void 0}async function iM(t){t.Ra.set("Online")}async function aM(t){t.Ia.forEach(((e,n)=>{uv(t,e)}))}async function oM(t,e){EN(t),hv(t)?(t.Ra.ha(e),dv(t)):t.Ra.set("Unknown")}async function lM(t,e,n){if(t.Ra.set("Online"),e instanceof lN&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){ye(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ff(t,s)}else if(e instanceof yf?t.Va.Ze(e):e instanceof oN?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const s=await xN(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(an.EMPTY_BYTE_STRING,v.snapshotVersion)),TN(l,m);const b=new Xi(v.target,m,g,v.sequenceNumber);uv(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){ye(uo,"Failed to raise snapshot:",s),await Ff(t,s)}}async function Ff(t,e,n){if(!Hl(e))throw e;t.Ea.add(1),await cd(t),t.Ra.set("Offline"),n||(n=()=>xN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ye(uo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _m(t)}))}function AN(t,e){return e().catch((n=>Ff(t,n,e)))}async function Tm(t){const e=ke(t),n=ca(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y0;for(;cM(e);)try{const a=await H3(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,uM(e,a)}catch(a){await Ff(e,a)}SN(e)&&NN(e)}function cM(t){return go(t)&&t.Ta.length<10}function uM(t,e){t.Ta.push(e);const n=ca(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SN(t){return go(t)&&!ca(t).x_()&&t.Ta.length>0}function NN(t){ca(t).start()}async function dM(t){ca(t).ra()}async function hM(t){const e=ca(t);for(const n of t.Ta)e.ea(n.mutations)}async function fM(t,e,n){const s=t.Ta.shift(),a=nv.from(s,e,n);await AN(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Tm(t)}async function mM(t,e){e&&ca(t).X_&&await(async function(s,a){if((function(u){return Y5(u)&&u!==oe.ABORTED})(a.code)){const l=s.Ta.shift();ca(s).B_(),await AN(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Tm(s)}})(t,e),SN(t)&&NN(t)}async function dT(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),ye(uo,"RemoteStore received new credentials");const s=go(n);n.Ea.add(3),await cd(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _m(n)}async function pM(t,e){const n=ke(t);e?(n.Ea.delete(2),await _m(n)):e||(n.Ea.add(2),await cd(n),n.Ra.set("Unknown"))}function $l(t){return t.ma||(t.ma=(function(n,s,a){const l=ke(n);return l.sa(),new J3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:iM.bind(null,t),t_:aM.bind(null,t),r_:oM.bind(null,t),H_:lM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),hv(t)?dv(t):t.Ra.set("Unknown")):(await t.ma.stop(),EN(t))}))),t.ma}function ca(t){return t.fa||(t.fa=(function(n,s,a){const l=ke(n);return l.sa(),new eM(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dM.bind(null,t),r_:mM.bind(null,t),ta:hM.bind(null,t),na:fM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Tm(t)):(await t.fa.stop(),t.Ta.length>0&&(ye(uo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new fv(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mv(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Hl(t))return new ge(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{static emptySet(e){return new El(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=fu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new El;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(){this.ga=new wt(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Pl{constructor(e,n,s,a,l,u,h,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Pl(e,n,El.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yM{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ke(n),l=a.queries;a.queries=fT(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(s)}))})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function fT(){return new po((t=>QS(t)),gm)}async function pv(t,e){const n=ke(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new gM,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=mv(u,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&yv(n)}async function gv(t,e){const n=ke(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vM(t,e){const n=ke(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&yv(n)}function xM(t,e,n){const s=ke(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function yv(t){t.Ca.forEach((e=>{e.next()}))}var Qy,mT;(mT=Qy||(Qy={})).Ma="default",mT.Cache="cache";class vv{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Pl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.key=e}}class RN{constructor(e){this.key=e}}class bM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=YS(e),this.tu=new El(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new hT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const w=a.get(v),S=ym(this.query,b)?b:null,N=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;w&&S?w.data.isEqual(S.data)?N!==M&&(s.track({type:3,doc:S}),P=!0):this.su(w,S)||(s.track({type:2,doc:S}),P=!0,(m&&this.eu(S,m)>0||g&&this.eu(S,g)<0)&&(h=!0)):!w&&S?(s.track({type:0,doc:S}),P=!0):w&&!S&&(s.track({type:1,doc:w}),P=!0,(m||g)&&(h=!0)),P&&(S?(u=u.add(S),l=M?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(S,N){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:P})}};return M(S)-M(N)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Pl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new RN(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new CN(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xv="SyncEngine";class wM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _M{constructor(e){this.key=e,this.hu=!1}}class TM{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new po((h=>QS(h)),gm),this.Iu=new Map,this.Eu=new Set,this.du=new wt(we.comparator),this.Au=new Map,this.Ru=new iv,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EM(t,e,n=!0){const s=MN(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await jN(s,e,n,!0),a}async function AM(t,e){const n=MN(t);await jN(n,e,!0,!1)}async function jN(t,e,n,s){const a=await G3(t.localStore,ur(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await SM(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&_N(t.remoteStore,a),h}async function SM(t,e,n,s,a){t.pu=(b,w,S)=>(async function(M,P,U,G){let $=P.view.ru(U);$.Cs&&($=await aT(M.localStore,P.query,!1).then((({documents:k})=>P.view.ru(k,$))));const te=G&&G.targetChanges.get(P.targetId),B=G&&G.targetMismatches.get(P.targetId)!=null,Q=P.view.applyChanges($,M.isPrimaryClient,te,B);return gT(M,P.targetId,Q.au),Q.snapshot})(t,b,w,S);const l=await aT(t.localStore,e,!0),u=new bM(e,l.Qs),h=u.ru(l.documents),m=ld.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),g=u.applyChanges(h,t.isPrimaryClient,m);gT(t,n,g.au);const v=new wM(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function NM(t,e,n){const s=ke(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!gm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await $y(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&cv(s.remoteStore,a.targetId),Yy(s,a.targetId)})).catch(ql)):(Yy(s,a.targetId),await $y(s.localStore,a.targetId,!0))}async function CM(t,e){const n=ke(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),cv(n.remoteStore,s.targetId))}async function RM(t,e,n){const s=OM(t);try{const a=await(function(u,h){const m=ke(u),g=ft.now(),v=h.reduce(((S,N)=>S.add(N.key)),He());let b,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=li(),M=He();return m.Ns.getEntries(S,v).next((P=>{N=P,N.forEach(((U,G)=>{G.isValidDocument()||(M=M.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,N))).next((P=>{b=P;const U=[];for(const G of h){const $=H5(G,b.get(G.key).overlayedDocument);$!=null&&U.push(new fa(G.key,$,zS($.value.mapValue),bs.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,U,h)})).next((P=>{w=P;const U=P.applyToLocalDocumentSet(b,M);return m.documentOverlayCache.saveOverlays(S,P.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:XS(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new wt(qe)),g=g.insert(h,m),u.Vu[u.currentUser.toKey()]=g})(s,a.batchId,n),await ud(s,a.changes),await Tm(s.remoteStore)}catch(a){const l=mv(a,"Failed to persist write");n.reject(l)}}async function IN(t,e){const n=ke(t);try{const s=await F3(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Je(u.hu,14607):a.removedDocuments.size>0&&(Je(u.hu,42227),u.hu=!1))})),await ud(n,s,e)}catch(s){await ql(s)}}function pT(t,e,n){const s=ke(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=ke(u);m.onlineState=h;let g=!1;m.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(h)&&(g=!0)})),g&&yv(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jM(t,e,n){const s=ke(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new wt(we.comparator);u=u.insert(l,An.newNoDocument(l,je.min()));const h=He().add(l),m=new bm(je.min(),new Map,new wt(qe),u,h);await IN(s,m),s.du=s.du.remove(l),s.Au.delete(e),bv(s)}else await $y(s.localStore,e,!1).then((()=>Yy(s,e,n))).catch(ql)}async function IM(t,e){const n=ke(t),s=e.batch.batchId;try{const a=await B3(n.localStore,e);DN(n,s,null),kN(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ud(n,a)}catch(a){await ql(a)}}async function kM(t,e,n){const s=ke(t);try{const a=await(function(u,h){const m=ke(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,h).next((b=>(Je(b!==null,37113),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);DN(s,e,n),kN(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ud(s,a)}catch(a){await ql(a)}}function kN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DN(t,e,n){const s=ke(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||PN(t,s)}))}function PN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bv(t))}function gT(t,e,n){for(const s of n)s instanceof CN?(t.Ru.addReference(s.key,e),DM(t,s)):s instanceof RN?(ye(xv,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||PN(t,s.key)):Ne(19791,{wu:s})}function DM(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(ye(xv,"New document in limbo: "+n),t.Eu.add(s),bv(t))}function bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(ht.fromString(e)),s=t.fu.next();t.Au.set(s,new _M(n)),t.du=t.du.insert(n,s),_N(t.remoteStore,new Xi(ur(pm(n.path)),s,"TargetPurposeLimboResolution",hm.ce))}}async function ud(t,e,n){const s=ke(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,m)=>{u.push(s.pu(m,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const v=g?!g.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=ov.As(m.targetId,g);l.push(v)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(m,g){const v=ke(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ue.forEach(g,(w=>ue.forEach(w.Es,(S=>v.persistence.referenceDelegate.addReference(b,w.targetId,S))).next((()=>ue.forEach(w.ds,(S=>v.persistence.referenceDelegate.removeReference(b,w.targetId,S)))))))))}catch(b){if(!Hl(b))throw b;ye(lv,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const S=v.Ms.get(w),N=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(w,M)}}})(s.localStore,l))}async function PM(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){ye(xv,"User change. New user:",e.toKey());const s=await vN(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ge(oe.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ud(n,s.Ls)}}function MM(t,e){const n=ke(t),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let a=He();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function MN(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jM.bind(null,e),e.Pu.H_=vM.bind(null,e.eventManager),e.Pu.yu=xM.bind(null,e.eventManager),e}function OM(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kM.bind(null,e),e}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z3(this.persistence,new V3,e.initialUser,this.serializer)}Cu(e){return new yN(av.mi,this.serializer)}Du(e){return new K3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class VM extends qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Bf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zn.withCacheSize(this.cacheSizeBytes):zn.DEFAULT;return new yN((s=>Bf.mi(s,n)),this.serializer)}}class Wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PM.bind(null,this.syncEngine),await pM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yM})()}createDatastore(e){const n=wm(e.databaseInfo.databaseId),s=(function(l){return new Z3(l)})(e.databaseInfo);return(function(l,u,h,m){return new nM(l,u,h,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new rM(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return cT.v()?new cT:new Q3})())}createSyncEngine(e,n){return(function(a,l,u,h,m,g,v){const b=new TM(a,l,u,h,m,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=ke(n);ye(uo,"RemoteStore shutting down."),s.Ea.add(5),await cd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wy.provider={build:()=>new Wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class LM{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{ye(ua,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ye(ua,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=mv(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sy(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ua,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await vN(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UM(t);ye(ua,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>dT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>dT(e.remoteStore,a))),t._onlineComponents=e}async function UM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ua,"Using user provided OfflineComponentProvider");try{await sy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await sy(t,new qf)}}else ye(ua,"Using default OfflineComponentProvider"),await sy(t,new VM(void 0));return t._offlineComponents}async function ON(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ua,"Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(ye(ua,"Using default OnlineComponentProvider"),await yT(t,new Wy))),t._onlineComponents}function zM(t){return ON(t).then((e=>e.syncEngine))}async function Hf(t){const e=await ON(t),n=e.eventManager;return n.onListen=EM.bind(null,e.syncEngine),n.onUnlisten=NM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CM.bind(null,e.syncEngine),n}function BM(t,e,n={}){const s=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,g){const v=new wv({next:w=>{v.Nu(),u.enqueueAndForget((()=>gv(l,b)));const S=w.docs.has(h);!S&&w.fromCache?g.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?g.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new vv(pm(h.path),v,{includeMetadataChanges:!0,qa:!0});return pv(l,b)})(await Hf(t),t.asyncQueue,e,n,s))),s.promise}function FM(t,e,n={}){const s=new ei;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,g){const v=new wv({next:w=>{v.Nu(),u.enqueueAndForget((()=>gv(l,b))),w.fromCache&&m.source==="server"?g.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new vv(h,v,{includeMetadataChanges:!0,qa:!0});return pv(l,b)})(await Hf(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="firestore.googleapis.com",xT=!0;class bT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LN,this.ssl=xT}else this.host=e.host,this.ssl=e.ssl??xT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<b3)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VN(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new NS;switch(s.type){case"firstParty":return new Z6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=vT.get(n);s&&(ye("ComponentProvider","Removing Datastore"),vT.delete(n),s.terminate())})(this),Promise.resolve()}}function UN(t,e,n,s={}){t=Pn(t,Em);const a=fi(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(rm(`https://${h}`),im("Firestore",!0)),l.host!==LN&&l.host!==h&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:s};if(!ao(m,u)&&(t._setSettings(m),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=En.MOCK_USER;else{g=IA(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(b)}t._authCredentials=new Y6(new SS(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ad(n,bt._jsonSchema))return new bt(e,s||null,new we(ht.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:qt("string",bt._jsonSchemaVersion),referencePath:qt("string")};class ti extends xr{constructor(e,n,s){super(e,n,pm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new we(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function ss(t,e,...n){if(t=et(t),CS("collection","path",e),t instanceof Em){const s=ht.fromString(e,...n);return D1(s),new ti(t,null,s)}{if(!(t instanceof bt||t instanceof ti))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return D1(s),new ti(t.firestore,null,s)}}function Mt(t,e,...n){if(t=et(t),arguments.length===1&&(e=um.newId()),CS("doc","path",e),t instanceof Em){const s=ht.fromString(e,...n);return k1(s),new bt(t,null,new we(s))}{if(!(t instanceof bt||t instanceof ti))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ht.fromString(e,...n));return k1(s),new bt(t.firestore,t instanceof ti?t.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class _T{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bN(this,"async_queue_retry"),this._c=()=>{const s=ny();s&&ye(wT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ny();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hl(e))throw e;ye(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",TT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=fv.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class pr extends Em{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _T,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _T(e),this._firestoreClient=void 0,await e}}}function zN(t,e){const n=typeof t=="object"?t:am(),s=typeof t=="string"?t:Mf,a=td(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=M0("firestore");l&&UN(a,...l)}return a}function dd(t){if(t._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qM(t),t._firestoreClient}function qM(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new m5(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,VN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new LM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new es(an.fromBase64String(e))}catch(n){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new es(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:es._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ad(e,es._jsonSchema))return es.fromBase64String(e.bytes)}}es._jsonSchemaVersion="firestore/bytes/1.0",es._jsonSchema={type:qt("string",es._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(ad(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:qt("string",Os._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ad(e,Vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vs(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vs._jsonSchemaVersion="firestore/vectorValue/1.0",Vs._jsonSchema={type:qt("string",Vs._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=/^__.*__$/;class GM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class BN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class _v{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _v({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(FN(this.Ac)&&HM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $M{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wm(e)}Cc(e,n,s,a=!1){return new _v({Ac:e,methodName:n,Dc:s,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Am(t){const e=t._freezeSettings(),n=wm(t._databaseId);return new $M(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qN(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Ev("Data must be an object, but it was:",u,s);const h=HN(s,u);let m,g;if(l.merge)m=new ts(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=Xy(e,b,n);if(!u.contains(w))throw new ge(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);$N(v,w)||v.push(w)}m=new ts(v),g=u.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=u.fieldTransforms;return new GM(new Bn(h),m,g)}class Sm extends fd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}class Tv extends fd{_toFieldTransform(e){return new z5(e.path,new Lu)}isEqual(e){return e instanceof Tv}}function KM(t,e,n,s){const a=t.Cc(1,e,n);Ev("Data must be an object, but it was:",a,s);const l=[],u=Bn.empty();ha(s,((m,g)=>{const v=Av(e,m,n);g=et(g);const b=a.yc(v);if(g instanceof Sm)l.push(v);else{const w=md(g,b);w!=null&&(l.push(v),u.set(v,w))}}));const h=new ts(l);return new BN(u,h,a.fieldTransforms)}function QM(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[Xy(e,s,n)],m=[a];if(l.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Xy(e,l[w])),m.push(l[w+1]);const g=[],v=Bn.empty();for(let w=h.length-1;w>=0;--w)if(!$N(g,h[w])){const S=h[w];let N=m[w];N=et(N);const M=u.yc(S);if(N instanceof Sm)g.push(S);else{const P=md(N,M);P!=null&&(g.push(S),v.set(S,P))}}const b=new ts(g);return new BN(v,b,u.fieldTransforms)}function YM(t,e,n,s=!1){return md(n,t.Cc(s?4:3,e))}function md(t,e){if(GN(t=et(t)))return Ev("Unsupported field value:",e,t),HN(t,e);if(t instanceof fd)return(function(s,a){if(!FN(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let m=md(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return V5(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:zf(a.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zf(a.serializer,l)}}if(s instanceof Os)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof es)return{bytesValue:cN(a.serializer,s._byteString)};if(s instanceof bt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rv(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Vs)return(function(u,h){return{mapValue:{fields:{[LS]:{stringValue:US},[Of]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return ev(h.serializer,g)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${dm(s)}`)})(t,e)}function HN(t,e){const n={};return kS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,((s,a)=>{const l=md(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function GN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Os||t instanceof es||t instanceof bt||t instanceof fd||t instanceof Vs)}function Ev(t,e,n){if(!GN(n)||!jS(n)){const s=dm(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Xy(t,e,n){if((e=et(e))instanceof hd)return e._internalPath;if(typeof e=="string")return Av(t,e);throw Gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const WM=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(WM)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ge(oe.INVALID_ARGUMENT,h+t+m)}function $N(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XM extends KN{data(){return super.data()}}function Nm(t,e){return typeof e=="string"?Av(t,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}class Cm extends Sv{}function ws(t,e,...n){let s=[];e instanceof Sv&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((m=>m instanceof Rm)).length,h=l.filter((m=>m instanceof pd)).length;if(u>1||u>0&&h>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class pd extends Cm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new pd(e,n,s)}_apply(e){const n=this._parse(e);return YN(e._query,n),new xr(e.firestore,e.converter,By(e._query,n))}_parse(e){const n=Am(e.firestore);return(function(l,u,h,m,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){ST(b,v);const N=[];for(const M of b)N.push(AT(m,l,M));w={arrayValue:{values:N}}}else w=AT(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||ST(b,v),w=YM(h,u,b,v==="in"||v==="not-in");return Ft.create(g,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pi(t,e,n){const s=e,a=Nm("where",t);return pd._create(a,s,n)}class Rm extends Sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:zs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)YN(u,m),u=By(u,m)})(e._query,n),new xr(e.firestore,e.converter,By(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jm extends Cm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jm(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(l,u)})(e._query,this._field,this._direction);return new xr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Gl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function gr(t,e="asc"){const n=e,s=Nm("orderBy",t);return jm._create(s,n)}class Im extends Cm{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Im(e,n,s)}_apply(e){return new xr(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}function Zy(t){return Im._create("limit",t,"F")}function AT(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KS(e)&&n.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!we.isDocumentKey(s))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B1(t,new we(s))}if(n instanceof bt)return B1(t,n._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(n)}.`)}function ST(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YN(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class WN{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ha(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Of].arrayValue?.values?.map((s=>Pt(s.doubleValue)));return new Vs(n)}convertGeoPoint(e){return new Os(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=mm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=aa(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);Je(pN(s),9688,{name:e});const a=new jl(s.get(1),s.get(3)),l=new we(s.popFirst(5));return a.isEqual(n)||oi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends KN{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Nm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:qt("string",ta._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Tu extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ml(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Tu(this._firestore,this._userDataWriter,s.key,s,new ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new Tu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ml(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Tu(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ml(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:ZM(h.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){t=Pn(t,bt);const e=Pn(t.firestore,pr);return BM(dd(e),t._key).then((n=>ZN(e,t,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:qt("string",na._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Nv extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new es(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function ma(t){t=Pn(t,xr);const e=Pn(t.firestore,pr),n=dd(e),s=new Nv(e);return QN(t._query),FM(n,t._query).then((a=>new na(e,s,t,a)))}function gd(t,e,n){t=Pn(t,bt);const s=Pn(t.firestore,pr),a=XN(t.converter,e,n);return yd(s,[qN(Am(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,bs.none())])}function Es(t,e,n,...s){t=Pn(t,bt);const a=Pn(t.firestore,pr),l=Am(a);let u;return u=typeof(e=et(e))=="string"||e instanceof hd?QM(l,"updateDoc",t._key,e,n,s):KM(l,"updateDoc",t._key,e),yd(a,[u.toMutation(t._key,bs.exists(!0))])}function JM(t){return yd(Pn(t.firestore,pr),[new tv(t._key,bs.none())])}function Cv(t,e){const n=Pn(t.firestore,pr),s=Mt(t),a=XN(t.converter,e);return yd(n,[qN(Am(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,bs.exists(!1))]).then((()=>s))}function Rv(t,...e){t=et(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ET(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ET(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,u,h;if(t instanceof bt)u=Pn(t.firestore,pr),h=pm(t._key.path),l={next:m=>{e[s]&&e[s](ZN(u,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Pn(t,xr);u=Pn(m.firestore,pr),h=m._query;const g=new Nv(u);l={next:v=>{e[s]&&e[s](new na(u,g,m,v))},error:e[s+1],complete:e[s+2]},QN(t._query)}return(function(g,v,b,w){const S=new wv(w),N=new vv(v,S,b);return g.asyncQueue.enqueueAndForget((async()=>pv(await Hf(g),N))),()=>{S.Nu(),g.asyncQueue.enqueueAndForget((async()=>gv(await Hf(g),N)))}})(dd(u),h,a,l)}function yd(t,e){return(function(s,a){const l=new ei;return s.asyncQueue.enqueueAndForget((async()=>RM(await zM(s),a,l))),l.promise})(dd(t),e)}function ZN(t,e,n){const s=n.docs.get(e._key),a=new Nv(t);return new ta(t,a,e._key,s,new ml(n.hasPendingWrites,n.fromCache),e.converter)}function gn(){return new Tv("serverTimestamp")}(function(e,n=!0){(function(a){Fl=a})(mo),ra(new si("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new pr(new W6(s.getProvider("auth-internal")),new J6(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(g.options.projectId,v)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),xs(C1,R1,e),xs(C1,R1,"esm2020")})();const eO=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:WN,Bytes:es,CollectionReference:ti,DocumentReference:bt,DocumentSnapshot:ta,FieldPath:hd,FieldValue:fd,Firestore:pr,FirestoreError:ge,GeoPoint:Os,Query:xr,QueryCompositeFilterConstraint:Rm,QueryConstraint:Cm,QueryDocumentSnapshot:Tu,QueryFieldFilterConstraint:pd,QueryLimitConstraint:Im,QueryOrderByConstraint:jm,QuerySnapshot:na,SnapshotMetadata:ml,Timestamp:ft,VectorValue:Vs,_AutoId:um,_ByteString:an,_DatabaseId:jl,_DocumentKey:we,_EmptyAuthCredentialsProvider:NS,_FieldPath:sn,_cast:Pn,_logWarn:co,_validateIsNotUsedTogether:RS,addDoc:Cv,collection:ss,connectFirestoreEmulator:UN,deleteDoc:JM,doc:Mt,ensureFirestoreConfigured:dd,executeWrite:yd,getDoc:Mn,getDocs:ma,getFirestore:zN,limit:Zy,onSnapshot:Rv,orderBy:gr,query:ws,serverTimestamp:gn,setDoc:gd,updateDoc:Es,where:pi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebasestorage.googleapis.com",e2="storageBucket",tO=120*1e3,nO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends qs{constructor(e,n,s=0){super(ry(e),`Firebase Storage: ${n} (${ry(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ry(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ct||(Ct={}));function ry(t){return"storage/"+t}function jv(){const t="An unknown error occurred, please check the error payload for server response.";return new Rt(Ct.UNKNOWN,t)}function sO(t){return new Rt(Ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rO(t){return new Rt(Ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(Ct.UNAUTHENTICATED,t)}function aO(){return new Rt(Ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oO(t){return new Rt(Ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lO(){return new Rt(Ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cO(){return new Rt(Ct.CANCELED,"User canceled the upload/download.")}function uO(t){return new Rt(Ct.INVALID_URL,"Invalid URL '"+t+"'.")}function dO(t){return new Rt(Ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hO(){return new Rt(Ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e2+"' property when initializing the app?")}function fO(){return new Rt(Ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mO(){return new Rt(Ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pO(t){return new Rt(Ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Jy(t){return new Rt(Ct.INVALID_ARGUMENT,t)}function t2(){return new Rt(Ct.APP_DELETED,"The Firebase app was deleted.")}function gO(t){return new Rt(Ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Eu(t,e){return new Rt(Ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ou(t){throw new Rt(Ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=ns.makeFromUrl(e,n)}catch{return new ns(e,"")}if(s.path==="")return s;throw dO(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),N={bucket:1,path:3},M=n===JN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",U=new RegExp(`^https?://${M}/${a}/${P}`,"i"),$=[{regex:h,indices:m,postModify:l},{regex:S,indices:N,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<$.length;te++){const B=$[te],Q=B.regex.exec(e);if(Q){const k=Q[B.indices.bucket];let E=Q[B.indices.path];E||(E=""),s=new ns(k,E),B.postModify(s);break}}if(s==null)throw uO(e);return s}}class yO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e,n){let s=1,a=null,l=null,u=!1,h=0;function m(){return h===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,t(S,m())},P)}function w(){l&&clearTimeout(l)}function S(P,...U){if(g){w();return}if(P){w(),v.call(null,P,...U);return}if(m()||u){w(),v.call(null,P,...U);return}s<64&&(s*=2);let $;h===1?(h=2,$=0):$=(s+Math.random())*1e3,b($)}let N=!1;function M(P){N||(N=!0,w(),!g&&(a!==null?(P||(h=2),clearTimeout(a),b(0)):P||(h=1)))}return b(0),l=setTimeout(()=>{u=!0,M(!0)},n),M}function xO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){return t!==void 0}function wO(t){return typeof t=="object"&&!Array.isArray(t)}function Iv(t){return typeof t=="string"||t instanceof String}function NT(t){return kv()&&t instanceof Blob}function kv(){return typeof Blob<"u"}function CT(t,e,n,s){if(s<e)throw Jy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Jy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function n2(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var so;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,s,a,l,u,h,m,g,v,b,w=!0,S=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Jh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===so.NO_ERROR,m=l.getStatus();if(!h||_O(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===so.ABORT;s(!1,new Jh(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;s(!0,new Jh(g,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());bO(m)?l(m):l()}catch(m){u(m)}else if(h!==null){const m=jv();m.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,m)):u(m)}else if(a.canceled){const m=this.appDelete_?t2():cO();u(m)}else{const m=lO();u(m)}};this.canceled_?n(!1,new Jh(!1,null,!0)):this.backoffId_=vO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function EO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function NO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CO(t,e,n,s,a,l,u=!0,h=!1){const m=n2(t.urlParams),g=t.url+m,v=Object.assign({},t.headers);return SO(v,e),EO(v,n),AO(v,l),NO(v,s),new TO(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jO(...t){const e=RO();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(kv())return new Blob(t);throw new Rt(Ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function IO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(typeof atob>"u")throw pO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iy{constructor(e,n){this.data=e,this.contentType=n||null}}function DO(t,e){switch(t){case lr.RAW:return new iy(s2(e));case lr.BASE64:case lr.BASE64URL:return new iy(r2(t,e));case lr.DATA_URL:return new iy(MO(e),OO(e))}throw jv()}function s2(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function PO(t){let e;try{e=decodeURIComponent(t)}catch{throw Eu(lr.DATA_URL,"Malformed data URL.")}return s2(e)}function r2(t,e){switch(t){case lr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Eu(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case lr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Eu(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kO(e)}catch(a){throw a.message.includes("polyfill")?a:Eu(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class i2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Eu(lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=VO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function MO(t){const e=new i2(t);return e.base64?r2(lr.BASE64,e.rest):PO(e.rest)}function OO(t){return new i2(t).contentType}function VO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){let s=0,a="";NT(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(NT(this.data_)){const s=this.data_,a=IO(s,e,n);return a===null?null:new Wi(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Wi(s,!0)}}static getBlob(...e){if(kv()){const n=e.map(s=>s instanceof Wi?s.data_:s);return new Wi(jO.apply(null,n))}else{const n=e.map(u=>Iv(u)?DO(lr.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)a[l++]=u[h]}),new Wi(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){let e;try{e=JSON.parse(t)}catch{return null}return wO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UO(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function o2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e){return e}class In{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||zO}}let ef=null;function BO(t){return!Iv(t)||t.length<2?t:o2(t)}function l2(){if(ef)return ef;const t=[];t.push(new In("bucket")),t.push(new In("generation")),t.push(new In("metageneration")),t.push(new In("name","fullPath",!0));function e(l,u){return BO(u)}const n=new In("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new In("size");return a.xform=s,t.push(a),t.push(new In("timeCreated")),t.push(new In("updated")),t.push(new In("md5Hash",null,!0)),t.push(new In("cacheControl",null,!0)),t.push(new In("contentDisposition",null,!0)),t.push(new In("contentEncoding",null,!0)),t.push(new In("contentLanguage",null,!0)),t.push(new In("contentType",null,!0)),t.push(new In("metadata","customMetadata",!0)),ef=t,ef}function FO(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new ns(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function qO(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return FO(s,t),s}function c2(t,e,n){const s=a2(e);return s===null?null:qO(t,s,n)}function HO(t,e,n,s){const a=a2(e);if(a===null||!Iv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const v=t.bucket,b=t.fullPath,w="/b/"+u(v)+"/o/"+u(b),S=Dv(w,n,s),N=n2({alt:"media",token:g});return S+N})[0]}function GO(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class u2{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){if(!t)throw jv()}function $O(t,e){function n(s,a){const l=c2(t,a,e);return d2(l!==null),l}return n}function KO(t,e){function n(s,a){const l=c2(t,a,e);return d2(l!==null),HO(l,a,t.host,t._protocol)}return n}function h2(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=aO():a=iO():n.getStatus()===402?a=rO(t.bucket):n.getStatus()===403?a=oO(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function QO(t){const e=h2(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=sO(t.path)),l.serverResponse=a.serverResponse,l}return n}function YO(t,e,n){const s=e.fullServerUrl(),a=Dv(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,h=new u2(a,l,KO(t,n),u);return h.errorHandler=QO(e),h}function WO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function XO(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=WO(null,e)),s}function ZO(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let $="";for(let te=0;te<2;te++)$=$+Math.random().toString().slice(2);return $}const m=h();u["Content-Type"]="multipart/related; boundary="+m;const g=XO(e,s,a),v=GO(g,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=Wi.getBlob(b,s,w);if(S===null)throw fO();const N={name:g.fullPath},M=Dv(l,t.host,t._protocol),P="POST",U=t.maxUploadRetryTime,G=new u2(M,P,$O(t,n),U);return G.urlParams=N,G.headers=u,G.body=S.uploadData(),G.errorHandler=h2(e),G}class JO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a,l){if(this.sent_)throw ou("cannot .send() more than once");if(fi(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ou("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ou("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ou("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ou("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eV extends JO{initXhr(){this.xhr_.responseType="text"}}function f2(){return new eV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this._service=e,n instanceof ns?this._location=n:this._location=ns.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ho(e,n)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o2(this._location.path)}get storage(){return this._service}get parent(){const e=LO(this._location.path);if(e===null)return null;const n=new ns(this._location.bucket,e);return new ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gO(e)}}function tV(t,e,n){t._throwIfRoot("uploadBytes");const s=ZO(t.storage,t._location,l2(),new Wi(e,!0),n);return t.storage.makeRequestWithTokens(s,f2).then(a=>({metadata:a,ref:t}))}function nV(t){t._throwIfRoot("getDownloadURL");const e=YO(t.storage,t._location,l2());return t.storage.makeRequestWithTokens(e,f2).then(n=>{if(n===null)throw mO();return n})}function sV(t,e){const n=UO(t._location.path,e),s=new ns(t._location.bucket,n);return new ho(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){return/^[A-Za-z]+:\/\//.test(t)}function iV(t,e){return new ho(t,e)}function m2(t,e){if(t instanceof Pv){const n=t;if(n._bucket==null)throw hO();const s=new ho(n,n._bucket);return e!=null?m2(s,e):s}else return e!==void 0?sV(t,e):t}function aV(t,e){if(e&&rV(e)){if(t instanceof Pv)return iV(t,e);throw Jy("To use ref(service, url), the first argument must be a Storage instance.")}else return m2(t,e)}function RT(t,e){const n=e?.[e2];return n==null?null:ns.makeFromBucketSpec(n,t)}function oV(t,e,n,s={}){t.host=`${e}:${n}`;const a=fi(e);a&&(rm(`https://${t.host}/b`),im("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:IA(l,t.app.options.projectId))}class Pv{constructor(e,n,s,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=JN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tO,this._maxUploadRetryTime=nO,this._requests=new Set,a!=null?this._bucket=ns.makeFromBucketSpec(a,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new yO(t2());{const u=CO(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const jT="@firebase/storage",IT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="storage";function lV(t,e,n){return t=et(t),tV(t,e,n)}function cV(t){return t=et(t),nV(t)}function uV(t,e){return t=et(t),aV(t,e)}function dV(t=am(),e){t=et(t);const s=td(t,p2).getImmediate({identifier:e}),a=M0("storage");return a&&hV(s,...a),s}function hV(t,e,n,s={}){oV(t,e,n,s)}function fV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Pv(n,s,a,e,mo)}function mV(){ra(new si(p2,fV,"PUBLIC").setMultipleInstances(!0)),xs(jT,IT,""),xs(jT,IT,"esm2020")}mV();const pu={apiKey:"AIzaSyAwlo9LtqZM2bhIYqVNcZxf3VjqUyTSNbc",authDomain:"accessedung.firebaseapp.com",projectId:"accessedung",storageBucket:"accessedung.firebasestorage.app",messagingSenderId:"913412512262",appId:"1:913412512262:web:2d800170ca90a88f7c4187",measurementId:"G-ZY8W1Z7P8T"},Mv=PA(pu),$r=G6(Mv),tt=zN(Mv),pV=dV(Mv),g2=new Kr;g2.setCustomParameters({prompt:"select_account"});const gV=[pu.apiKey,pu.authDomain,pu.projectId,pu.appId].every(Boolean),y2=I.createContext({user:null,loading:!0,signOut:async()=>{}});function yV({children:t}){const[e,n]=I.useState(null),[s,a]=I.useState(!0);I.useEffect(()=>{const u=kP($r,h=>{n(h),a(!1)});return()=>u()},[]);const l=I.useMemo(()=>({user:e,loading:s,signOut:()=>DP($r)}),[e,s]);return c.jsx(y2.Provider,{value:l,children:t})}function On(){return I.useContext(y2)}const ay=async(t,e)=>{try{const n=Mt(tt,"users",t),s=await Mn(n);return s.exists()||await gd(n,{email:e,createdAt:gn(),profile:{firstName:"",lastName:"",phone:"",state:"",gender:"",educationLevel:"",institution:"",courseOfStudy:"",graduationYear:"",gpa:"",completed:!1},dashboard:{totalScholarships:0,savedOpportunities:0,applicationsCompleted:0,savedScholarships:[],completedApplications:[]},preferences:{language:"ENG",notifications:!0,emailUpdates:!0},quizProgress:{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]}}),s.data()}catch(n){throw console.error("Error initializing user data:",n),n}},v2=async t=>{try{const e=Mt(tt,"users",t),n=await Mn(e);if(n.exists()){const s=n.data();return s.quizProgress||(console.log("Adding quizProgress to existing user"),await Es(e,{quizProgress:{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]}}),s.quizProgress={totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]}),{totalScholarships:s.dashboard?.totalScholarships||0,savedOpportunities:s.dashboard?.savedOpportunities||0,completedApplications:s.dashboard?.applicationsCompleted||0,savedScholarships:s.dashboard?.savedScholarships||[],completedApplications:s.dashboard?.completedApplications||[],savedPrograms:s.savedPrograms||[],profileCompleted:s.profile?.completed||!1,quizProgress:s.quizProgress}}return{totalScholarships:0,savedOpportunities:0,completedApplications:0,savedScholarships:[],completedApplications:[],savedPrograms:[],profileCompleted:!1,quizProgress:{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0}}}catch(e){throw console.error("Error getting user dashboard data:",e),e}},x2=async(t,e)=>{try{const n=Mt(tt,"users",t),s=await Mn(n);if(s.exists()){const l=s.data().dashboard?.savedScholarships||[];if(l.find(m=>m.id===e.id))return{success:!1,message:"Scholarship already saved"};const h=[...l,{...e,savedAt:gn()}];return await Es(n,{"dashboard.savedScholarships":h,"dashboard.savedOpportunities":h.length}),{success:!0,message:"Scholarship saved successfully"}}}catch(n){throw console.error("Error saving scholarship:",n),n}},b2=async(t,e)=>{try{const n=Mt(tt,"users",t),s=await Mn(n);if(s.exists()){const u=(s.data().dashboard?.savedScholarships||[]).filter(h=>h.id!==e);return await Es(n,{"dashboard.savedScholarships":u,"dashboard.savedOpportunities":u.length}),{success:!0,message:"Scholarship removed from saved list"}}}catch(n){throw console.error("Error removing scholarship:",n),n}},w2=async(t,e)=>{try{const n=Mt(tt,"users",t),s=await Mn(n);if(s.exists()){const l=s.data().dashboard?.completedApplications||[];if(l.find(m=>m.id===e.id))return{success:!1,message:"Application already marked as completed"};const h=[...l,{...e,completedAt:gn()}];return await Es(n,{"dashboard.completedApplications":h,"dashboard.applicationsCompleted":h.length}),{success:!0,message:"Application marked as completed"}}}catch(n){throw console.error("Error completing application:",n),n}};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),kT=t=>{const e=xV(t);return e.charAt(0).toUpperCase()+e.slice(1)},_2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bV=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},m)=>I.createElement("svg",{ref:m,...wV,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:_2("lucide",a),...!l&&!bV(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,v])=>I.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=I.forwardRef(({className:s,...a},l)=>I.createElement(_V,{ref:l,iconNode:e,className:_2(`lucide-${vV(kT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=kT(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yo=xe("arrow-left",TV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T2=xe("arrow-right",EV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Al=xe("bell",AV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],pl=xe("book-open",SV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Bu=xe("bookmark",NV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],RV=xe("camera",CV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],E2=xe("calendar",jV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DT=xe("check",IV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],DV=xe("chevron-down",kV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PT=xe("circle-alert",PV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nn=xe("circle-check-big",MV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oy=xe("circle-check",OV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vf=xe("circle-question-mark",VV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],or=xe("circle-x",LV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Sl=xe("clock",UV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],A2=xe("credit-card",zV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],kn=xe("crown",BV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qV=xe("dollar-sign",FV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],GV=xe("external-link",HV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],S2=xe("eye-off",$V);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],km=xe("eye",KV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MT=xe("file-text",QV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WV=xe("funnel",YV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ZV=xe("github",XV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fu=xe("globe",JV);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],vd=xe("graduation-cap",eL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],e0=xe("heart",tL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sL=xe("house",nL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OT=xe("info",rL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],aL=xe("linkedin",iL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ly=xe("loader-circle",oL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],N2=xe("log-out",lL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uL=xe("map-pin",cL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],hL=xe("menu",dL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ov=xe("message-square",fL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pL=xe("moon",mL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yL=xe("pen",gL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xL=xe("play",vL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],C2=xe("plus",bL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$f=xe("refresh-cw",wL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],TL=xe("rocket",_L);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AL=xe("save",EL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],NL=xe("scissors",SL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kf=xe("search",CL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jL=xe("send",RL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vv=xe("settings",IL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],R2=xe("shield",kL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],VT=xe("sparkles",DL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],t0=xe("star",PL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OL=xe("sun",ML);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],LL=xe("tag",VL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],j2=xe("target",UL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],I2=xe("thumbs-up",zL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],k2=xe("trash-2",BL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qL=xe("trending-up",FL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LT=xe("triangle-alert",HL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],$L=xe("trophy",GL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D2=xe("user",KL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dm=xe("users",QL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],UT=xe("wrench",YL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lu=xe("x",WL);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ZL=xe("zap",XL);function JL(){const t=Hn(),[e,n]=I.useState(!1),[s,a]=I.useState(!1),[l,u]=I.useState(!1),[h,m]=I.useState({email:"",password:"",confirmPassword:""}),[g,v]=I.useState(""),[b,w]=I.useState(""),[S,N]=I.useState(0),[M,P]=I.useState(null),[U,G]=I.useState(0),[$,te]=I.useState(!1),B=gV,Q=D=>{m({...h,[D.target.name]:D.target.value}),g&&v(""),b&&w("")},k=async D=>{D.preventDefault(),n(!0),v(""),w("");try{if(l){if(h.password!==h.confirmPassword){v("Passwords don't match"),n(!1);return}const Te=await SP($r,h.email,h.password);try{await y1(Te.user),w("Verification email sent. Please verify your email before logging in."),te(!0)}catch(Ve){v(F(Ve)||"Could not send verification email")}try{await ay(Te.user.uid,h.email)}catch(Ve){console.error("Error initializing user data:",Ve)}t("/dashboard")}else{const Te=await NP($r,h.email,h.password);!Te.user?.emailVerified&&!Te.user?.isAnonymous&&(w("Welcome back! Please verify your email for full access. Check your inbox."),te(!0)),t("/dashboard")}}catch(Te){v(F(Te))}finally{n(!1)}},E=async()=>{if(v(""),w(""),!(U>0)){if(!$r.currentUser){v("Log in first to resend verification email");return}n(!0);try{await y1($r.currentUser),w("Verification email re-sent. Check your inbox."),G(30);const D=setInterval(()=>{G(Te=>Te<=1?(clearInterval(D),0):Te-1)},1e3)}catch(D){v(F(D)||"Failed to resend verification email")}finally{n(!1)}}},C=async()=>{n(!0);try{const D=await e6($r,g2);try{await ay(D.user.uid,D.user.email)}catch(Te){console.error("Error initializing user data:",Te)}t("/dashboard")}catch(D){v(F(D)||"Google sign-in failed")}finally{n(!1)}},O=async()=>{n(!0);try{const D=await wP($r);try{await ay(D.user.uid,"anonymous@guest.com")}catch(Te){console.error("Error initializing user data:",Te)}t("/dashboard")}catch(D){v(F(D)||"Guest sign-in failed")}finally{n(!1)}},z=async()=>{if(v(""),w(""),!h.email){v("Enter your email above to reset your password");return}if(!(S>0)){n(!0);try{await AP($r,h.email),w("Password reset email sent. Check your inbox."),N(60);const D=setInterval(()=>{N(Te=>Te<=1?(clearInterval(D),0):Te-1)},1e3);P(D)}catch(D){v(F(D)||"Failed to send reset email")}finally{n(!1)}}};function F(D){switch(D?.code||""){case"auth/configuration-not-found":return"Email provider/config not set. Enable Email/Password and add your domain in Firebase Auth → Sign-in method and Authorized domains.";case"auth/admin-restricted-operation":return"Anonymous auth disabled. Enable Anonymous in Firebase → Authentication → Sign-in method → Anonymous → Enable.";case"auth/invalid-email":return"Invalid email address";case"auth/user-disabled":return"This user account is disabled";case"auth/user-not-found":return"No user found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"Email is already in use";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/popup-closed-by-user":return"Sign-in was canceled";default:return D?.message||"Something went wrong"}}return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:c.jsx("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden",children:c.jsxs("div",{className:"flex flex-col lg:flex-row",children:[c.jsx("div",{className:"lg:w-1/2 bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center p-8 lg:p-12",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsxs("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[c.jsx(pl,{className:"w-12 h-12 lg:w-16 lg:h-16 mr-3 lg:mr-4"}),c.jsx("h1",{className:"text-3xl lg:text-5xl font-bold",children:"AccessEdu NG"})]}),c.jsx("p",{className:"text-lg lg:text-xl opacity-90 max-w-md",children:"Democratizing access to scholarships and learning for Nigerian students"})]})}),c.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-6 lg:p-8",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-800 mb-6 lg:mb-8",children:l?"Sign up":"Log in"}),!B&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:"Firebase config missing/invalid. Check your .env values, then restart the dev server. Also enable providers in Firebase Console."}),g&&c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg mb-6",children:g})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:Q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:h.password,onChange:Q,required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:s?c.jsx(S2,{className:"w-5 h-5"}):c.jsx(km,{className:"w-5 h-5"})})]})]}),l&&c.jsxs("div",{className:"overflow-hidden transition-all duration-300",children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:Q,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors",placeholder:"Confirm your password"})]}),c.jsx("button",{type:"button",onClick:k,disabled:e||!B,className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-red-600 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Loading...":l?"Sign up":"Log in"})]}),c.jsxs("div",{className:"mt-5",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),c.jsxs("div",{className:"mt-5 space-y-3",children:[c.jsxs("button",{type:"button",onClick:C,disabled:e||!B,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg bg-white text-gray-700 hover:bg-gray-50 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?"Loading...":"Continue with Google"]}),c.jsxs("button",{type:"button",onClick:O,disabled:e||!B,className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 hover:bg-gray-100 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})}),e?"Loading...":"Continue as Guest"]})]})]}),!l&&c.jsx("div",{className:"text-center mt-5",children:c.jsx("button",{type:"button",onClick:z,disabled:e||S>0,className:"text-gray-600 hover:text-red-500 transition-colors disabled:opacity-50",children:S>0?`Resend in ${S}s`:"Forgot password?"})}),c.jsxs("div",{className:"text-center mt-5",children:[c.jsx("span",{className:"text-gray-500",children:"or"}),c.jsx("div",{className:"mt-2",children:c.jsx("button",{type:"button",onClick:()=>{u(!l),v(""),m({email:"",password:"",confirmPassword:""})},className:"text-gray-800 font-semibold hover:text-red-500 transition-colors",children:l?"Log in":"Sign up"})})]}),(g||b)&&c.jsx("div",{className:`mt-5 px-4 py-3 rounded-lg border ${g?"bg-red-50 border-red-200 text-red-600":"bg-green-50 border-green-200 text-green-700"}`,children:g||b}),$&&c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{type:"button",onClick:E,disabled:e||U>0,className:"text-gray-700 font-semibold hover:text-red-500 transition-colors disabled:opacity-50",children:U>0?`Resend verification in ${U}s`:"Resend verification email"})})]})})})]})})})}const P2="user_profiles",M2="notifications";async function e9(t){const e=await Mn(Mt(tt,P2,t));return e.exists()?{id:e.id,...e.data()}:null}async function Lv(t,e){const n=Mt(tt,P2,t),s={...e,updatedAt:gn()};return await gd(n,s,{merge:!0}),{success:!0}}async function t9(t,e){const n=uV(pV,`avatars/${t}`);await lV(n,e);const s=await cV(n);return await Lv(t,{photoURL:s}),s}async function Uv(t){try{const e=ss(tt,M2),n=ws(e,pi("userId","==",t),gr("createdAt","desc")),s=await ma(n),a=[];return s.forEach(l=>a.push({id:l.id,...l.data()})),a.length===0?(console.warn("No notifications found in Firestore, returning mock data."),[{id:"mock-1",userId:t,title:"New Scholarship Available",message:"Federal Government Scholarship for Nigerian Students is now open for applications.",type:"scholarship",read:!1,createdAt:{toDate:()=>new Date(Date.now()-36e5)}},{id:"mock-2",userId:t,title:"Forum Reply",message:"Jane replied to your post about TVET programs.",type:"forum",postId:"mock-post-1",read:!0,createdAt:{toDate:()=>new Date(Date.now()-72e5)}},{id:"mock-3",userId:t,title:"Quiz Reminder",message:"You have 3 quizzes available to complete. Boost your profile!",type:"quiz",read:!1,createdAt:{toDate:()=>new Date(Date.now()-864e5)}}]):a}catch(e){return console.error("Error loading notifications:",e),[]}}async function n0(t){try{await Es(Mt(tt,M2,t),{read:!0})}catch(e){console.error("Error marking notification read:",e)}}const n9="modulepreload",s9=function(t){return"/access_edu_ng/"+t},zT={},zv=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");a=g(n.map(v=>{if(v=s9(v),v in zT)return;zT[v]=!0;const b=v.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":n9,b||(S.as="script"),S.crossOrigin="",S.href=v,m&&S.setAttribute("nonce",m),document.head.appendChild(S),b)return new Promise((N,M)=>{S.addEventListener("load",N),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return a.then(h=>{for(const m of h||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})};function r9(t){try{if(!t)return null;if(typeof t=="string"){const n=new Date(t);return isNaN(n.getTime())?null:n.toISOString()}if(typeof t?.toDate=="function")return t.toDate().toISOString();const e=new Date(t);return isNaN(e.getTime())?null:e.toISOString()}catch{return null}}function sa(t={}){const e=(t.title||"").toString().trim()||"Untitled Scholarship",n=(t.description||"").toString().trim()||"No description available",s=t.category||"Private",a=t.level||"Undergraduate",l=t.state||"All States",u=Number(t.amount),h=Number.isFinite(u)?u:0,m=Number(t.slots),g=Number.isFinite(m)&&m>0?m:100,v=r9(t.deadline),b=t.website||"",w=t.institution||"",S=t.source||"",N=typeof t.isActive=="boolean"?t.isActive:!0;return{title:e,description:n,category:s,level:a,state:l,amount:h,slots:g,deadline:v,website:b,institution:w,source:S,isActive:N,..."id"in t?{id:t.id}:{}}}const O2=async()=>{try{const t=new Date,e=ss(tt,"scholarships"),n=ws(e,pi("deadline",">",t.toISOString()),gr("deadline","asc")),s=await ma(n),a=[];return s.forEach(l=>{a.push(sa({id:l.id,...l.data()}))}),a.length===0?(await Qf()).map(sa):a}catch(t){return console.error("Error fetching active scholarships:",t),(await Qf()).map(sa)}},i9=async()=>{try{const t=new Date,e=ss(tt,"announcements"),n=ws(e,pi("expectedStart",">",t.toISOString()),gr("expectedStart","asc")),s=await ma(n),a=[];return s.forEach(l=>{a.push({id:l.id,...l.data()})}),a}catch(t){return console.error("Error fetching announcements:",t),await V2()}},a9=t=>{try{const e=new Date,n=ss(tt,"scholarships"),s=ws(n,pi("deadline",">",e.toISOString()),gr("deadline","asc"));return Rv(s,async a=>{const l=[];if(a.forEach(u=>{l.push(sa({id:u.id,...u.data()}))}),l.length===0){const u=await Qf();t(u.map(sa))}else t(l)})}catch(e){return console.error("Error setting up scholarships listener:",e),Qf().then(n=>t(n.map(sa))),()=>{}}},o9=t=>{try{const e=new Date,n=ss(tt,"announcements"),s=ws(n,pi("expectedStart",">",e.toISOString()),gr("expectedStart","asc"));return Rv(s,a=>{const l=[];a.forEach(u=>{l.push({id:u.id,...u.data()})}),t(l)})}catch(e){return console.error("Error setting up announcements listener:",e),V2().then(n=>t(n)),()=>{}}};async function Qf(){try{const{generateMockScholarships:t}=await zv(async()=>{const{generateMockScholarships:e}=await import("./scholarshipDataGenerator-B8HfICcy.js");return{generateMockScholarships:e}},[]);return t(10).map(sa)}catch(t){return console.error("Error generating mock scholarships:",t),[{id:"mock-1",title:"Nigerian Government Scholarship",description:"Full scholarship for undergraduate studies in Nigerian universities",category:"Government",level:"Undergraduate",state:"All States",amount:5e5,slots:100,deadline:new Date(Date.now()+720*60*60*1e3).toISOString(),website:"https://example.com",institution:"Federal Government",source:"Government",isActive:!0},{id:"mock-2",title:"MTN Foundation Scholarship",description:"Merit-based scholarship for science and engineering students",category:"Private",level:"Undergraduate",state:"All States",amount:2e5,slots:50,deadline:new Date(Date.now()+1080*60*60*1e3).toISOString(),website:"https://example.com",institution:"MTN Foundation",source:"Private",isActive:!0},{id:"mock-3",title:"Chevron Scholarship Program",description:"Scholarship for students in petroleum engineering and related fields",category:"Corporate",level:"Undergraduate",state:"All States",amount:3e5,slots:75,deadline:new Date(Date.now()+1440*60*60*1e3).toISOString(),website:"https://example.com",institution:"Chevron",source:"Corporate",isActive:!0}].map(sa)}}async function V2(){try{const{generateMockAnnouncements:t}=await zv(async()=>{const{generateMockAnnouncements:e}=await import("./scholarshipDataGenerator-B8HfICcy.js");return{generateMockAnnouncements:e}},[]);return t(5)}catch(t){return console.error("Error generating mock announcements:",t),[]}}const l9={Home:"Ile",Scholarships:"Awọn  Ètò Ẹ̀kọ́ Òfé",TVET:"Ẹ̀kọ́ Iṣẹ́"},c9={Home:"Gida",Scholarships:"Tallafin Karatu",TVET:"Horar da Sana'a"},u9={Home:"Ụlọ",Scholarships:"Ego Agụmakwụkwọ",TVET:"Ọzụzụ Ọrụ"},s0={English:"en",Yoruba:"yo",Hausa:"ha",Igbo:"ig"},L2={en:"English",yo:"Yoruba",ha:"Hausa",ig:"Igbo"},U2=new Map,d9=(t,e)=>{const n=`${t}_${e}`;return U2.get(n)},h9=(t,e,n)=>{const s=`${t}_${e}`;U2.set(s,n)};function f9(t,e){if(e==="en"||!t||t.trim()==="")return t;const n=d9(t,e);if(n)return n;const s={yo:l9,ha:c9,ig:u9}[e]||{};if(s[t]){const a=s[t];return h9(t,e,a),a}return t}const m9=()=>{const t=localStorage.getItem("userLanguage");if(t&&s0[t])return s0[t];const e=navigator.language.split("-")[0];return e==="yo"||e==="ha"||e==="ig"?e:"en"},p9=t=>{const e=L2[t]||"English";localStorage.setItem("userLanguage",e)},z2=I.createContext(),Kl=()=>{const t=I.useContext(z2);if(!t)throw new Error("useTranslation must be used within a TranslationProvider");return t},g9=({children:t})=>{const[e,n]=I.useState("en");I.useEffect(()=>{const m=m9();n(m)},[]);const s=cl.useCallback((m,g=m)=>m?f9(m,e):g,[e]),a=cl.useCallback(async m=>{m!==e&&(n(m),p9(m),window.location.reload())},[e]),l=cl.useCallback(()=>L2[e]||"English",[e]),u=cl.useCallback(()=>Object.entries(s0).map(([m,g])=>({name:m,code:g,isCurrent:g===e})),[e]),h=cl.useMemo(()=>({currentLanguage:e,changeLanguage:a,t:s,isLoading:!1,getCurrentLanguageName:l,getSupportedLanguages:u}),[e,a,s,l,u]);return c.jsx(z2.Provider,{value:h,children:t})},BT=({className:t=""})=>{const{user:e}=On(),{currentLanguage:n,changeLanguage:s,getCurrentLanguageName:a}=Kl(),[l,u]=I.useState(!1),[h,m]=I.useState(!1),g=I.useMemo(()=>[{code:"en",name:"English",flag:"🇺🇸"},{code:"yo",name:"Yoruba",flag:"🇳🇬"},{code:"ha",name:"Hausa",flag:"🇳🇬"},{code:"ig",name:"Igbo",flag:"🇳🇬"}],[]),v=I.useCallback(async w=>{try{m(!0),e&&!e.isAnonymous&&Lv(e.uid,{preferredLanguage:a()}).catch(console.error),s(w),u(!1)}catch(S){console.error("Error updating language:",S)}finally{m(!1)}},[e,a,s]),b=I.useMemo(()=>g.find(w=>w.code===n),[g,n]);return c.jsxs("div",{className:`relative ${t}`,children:[c.jsxs("button",{onClick:()=>u(!l),disabled:h,className:"flex items-center space-x-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors min-w-[120px]",children:[c.jsx(Fu,{className:"w-4 h-4 text-gray-600"}),c.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[b?.flag," ",b?.name]}),c.jsx(DV,{className:`w-4 h-4 text-gray-600 transition-transform ${l?"rotate-180":""}`})]}),l&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:c.jsx("div",{className:"py-1",children:g.map(w=>c.jsxs("button",{onClick:()=>v(w.code),disabled:h,className:`w-full flex items-center space-x-3 px-4 py-2 text-left hover:bg-gray-100 transition-colors ${n===w.code?"bg-red-50 text-red-700":"text-gray-700"} ${h?"opacity-50 cursor-not-allowed":""}`,children:[c.jsx("span",{className:"text-lg",children:w.flag}),c.jsx("span",{className:"text-sm font-medium",children:w.name}),n===w.code&&c.jsx("div",{className:"ml-auto w-2 h-2 bg-red-500 rounded-full"})]},w.code))})}),h&&c.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center rounded-lg",children:c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]})},cy={async initializePayment(t,e,n){try{console.log("Initializing payment with data:",{email:t,amount:e,plan:n});const s=await fetch("/api/subscription/initialize",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t,amount:e*100,plan:n,callback_url:`${window.location.origin}/dashboard?payment=success`,metadata:{custom_fields:[{display_name:"Plan",variable_name:"plan",value:n}]}})});if(console.log("Payment response status:",s.status),console.log("Payment response headers:",s.headers),!s.ok){const u=await s.text();throw console.error("Payment initialization failed - Response:",u),new Error(`HTTP ${s.status}: ${u||"Payment initialization failed"}`)}const a=await s.text();if(console.log("Raw payment response:",a),!a)throw new Error("Empty response from server");let l;try{l=JSON.parse(a)}catch(u){throw console.error("JSON parse error:",u),new Error("Invalid JSON response from server")}return console.log("Parsed payment data:",l),l}catch(s){throw console.error("Payment initialization error:",s),new Error(`Payment initialization failed: ${s.message}`)}},async verifyPayment(t){try{console.log("Verifying payment with reference:",t);const e=await fetch(`/api/subscription/verify/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("Verification response status:",e.status),!e.ok){const a=await e.text();throw console.error("Payment verification failed - Response:",a),new Error(`HTTP ${e.status}: ${a||"Payment verification failed"}`)}const n=await e.text();if(console.log("Raw verification response:",n),!n)throw new Error("Empty response from verification endpoint");let s;try{s=JSON.parse(n)}catch(a){throw console.error("JSON parse error in verification:",a),new Error("Invalid JSON response from verification endpoint")}return console.log("Parsed verification data:",s),s}catch(e){throw console.error("Payment verification error:",e),new Error(`Payment verification failed: ${e.message}`)}},async getUserSubscription(t){try{console.log("Getting subscription status for user:",t);const e=await fetch(`/api/subscription/status/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("Subscription status response:",e.status),e.status===404)return console.log("Subscription endpoint not found, assuming free user"),{isActive:!1,plan:"free"};if(!e.ok){const a=await e.text();return console.error("Get subscription failed - Response:",a),console.warn("Failed to get subscription status, assuming free user"),{isActive:!1,plan:"free"}}const n=await e.text();if(console.log("Raw subscription response:",n),!n)return console.log("Empty subscription response, assuming free user"),{isActive:!1,plan:"free"};let s;try{s=JSON.parse(n)}catch(a){return console.error("JSON parse error in subscription status:",a),console.warn("Invalid subscription response, assuming free user"),{isActive:!1,plan:"free"}}return console.log("Parsed subscription data:",s),s}catch(e){return console.error("Get subscription error:",e),console.warn("Error getting subscription status, assuming free user"),{isActive:!1,plan:"free"}}}};function y9(){const t=Hn(),e=hi(),{signOut:n,user:s}=On(),{t:a}=Kl(),[l,u]=I.useState(!1),[h,m]=I.useState(!1),[g,v]=I.useState(""),[b,w]=I.useState(!0),[S,N]=I.useState(!1),[M,P]=I.useState(0),[U,G]=I.useState(!1),[$,te]=I.useState(null),[B,Q]=I.useState(!1),[k,E]=I.useState(!1),[C,O]=I.useState(null),[z,F]=I.useState(null),[D,Te]=I.useState({totalScholarships:0,savedOpportunities:0,savedScholarships:[],completedApplications:[],savedPrograms:[],profileCompleted:!1,quizProgress:{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0}}),[Ve,ne]=I.useState(0),[re,fe]=I.useState(0),Ee=[{id:"basic",name:"Basic Plan",price:2e3,currency:"₦",interval:"monthly",features:["Access to 50+ scholarships","Basic application tracking","Email notifications","Community forum access"],color:"bg-blue-500",popular:!1},{id:"premium",name:"Premium Plan",price:5e3,currency:"₦",interval:"monthly",features:["Access to ALL scholarships","Advanced application tracking","Priority notifications","Premium forum features","Personalized recommendations","Direct mentor support"],color:"bg-red-500",popular:!0},{id:"annual",name:"Annual Premium",price:5e4,currency:"₦",interval:"yearly",features:["All Premium features","2 months free","Priority customer support","Exclusive webinars","Career guidance sessions"],color:"bg-purple-500",popular:!1}],L=I.useCallback(async()=>{if(!(!s||s.isAnonymous))try{const ce=await cy.getUserSubscription(s.uid);O(ce)}catch(ce){console.error("Error loading subscription:",ce)}},[s]),ie=async ce=>{if(!s||s.isAnonymous){t("/auth");return}try{E(!0),F(null),console.log("Starting subscription process for plan:",ce),console.log("User details:",{email:s.email,uid:s.uid}),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&console.log("Development mode detected - you may need to set up your backend APIs");const Me=await cy.initializePayment(s.email,ce.price,ce.id);if(console.log("Payment initialization successful:",Me),!Me)throw new Error("No payment data received from server");if(!Me.authorization_url)throw console.error("Invalid payment response:",Me),new Error("No authorization URL received. Please check your backend configuration.");console.log("Redirecting to Paystack:",Me.authorization_url),window.location.href=Me.authorization_url}catch(Pe){console.error("Subscription error details:",Pe);let Me=Pe.message;Pe.message.includes("Failed to fetch")?Me="Unable to connect to payment service. Please check your internet connection and try again.":Pe.message.includes("404")?Me="Payment service not found. Please contact support or try again later.":Pe.message.includes("500")?Me="Server error occurred. Please try again in a few minutes.":Pe.message.includes("Empty response")?Me="Payment service is not responding properly. Please try again later.":Pe.message.includes("Invalid JSON")&&(Me="Payment service returned invalid data. Please contact support."),F(Me)}finally{E(!1)}};I.useEffect(()=>{const ce=new URLSearchParams(e.search),Pe=ce.get("payment"),Me=ce.get("reference");Pe==="success"&&Me&&(async()=>{try{w(!0),(await cy.verifyPayment(Me)).status==="success"&&(await L(),te(null),t("/dashboard",{replace:!0}))}catch(vn){console.error("Payment verification error:",vn),te("Payment verification failed. Please contact support.")}finally{w(!1)}})()},[e.search,t,L]);const R=I.useCallback(ce=>{switch(console.log("Navigating to:",ce),ce){case"home":break;case"scholarships":t("/scholarships");break;case"tvet":t("/tvet");break;case"forum":t("/forum");break;case"quizzes":t("/quiz");break;case"language":G(!0);break;case"settings":t("/settings");break;case"subscription":Q(!0);break;default:console.warn("Unknown navigation key:",ce)}m(!1)},[t]),H=I.useMemo(()=>{const ce=[{icon:sL,label:a("Home"),active:!0,key:"home"},{icon:pl,label:a("Scholarships"),active:!1,key:"scholarships"},{icon:vd,label:a("TVET"),active:!1,key:"tvet"},{icon:Ov,label:a("Community Forum"),active:!1,key:"forum"},{icon:vf,label:a("Quizzes"),active:!1,key:"quizzes"},{icon:Fu,label:a("Language"),active:!1,key:"language"},{icon:Vv,label:a("Settings"),active:!1,key:"settings"}];return s?.isAnonymous||ce.splice(-1,0,{icon:kn,label:C?.isActive?"Manage Subscription":"Upgrade to Premium",active:!1,key:"subscription",premium:!C?.isActive}),ce},[a,s,C]),de=I.useCallback(async()=>{if(!s||s.isAnonymous){console.log("User is anonymous or not logged in, skipping data load");return}try{N(!0),te(null),console.log("Loading user dashboard data for user:",s.uid);const[ce,Pe]=await Promise.all([v2(s.uid),Uv(s.uid)]);L(),console.log("Raw dashboard data received:",ce);const Me=Array.isArray(ce.savedScholarships)?ce.savedScholarships.length:0,on=Array.isArray(ce.savedPrograms)?ce.savedPrograms.length:0,vn=Me+on,_t={totalScholarships:ce.totalScholarships||0,savedOpportunities:vn,savedScholarships:Array.isArray(ce.savedScholarships)?ce.savedScholarships:[],completedApplications:Array.isArray(ce.completedApplications)?ce.completedApplications:[],savedPrograms:Array.isArray(ce.savedPrograms)?ce.savedPrograms:[],profileCompleted:!!ce.profileCompleted,quizProgress:{totalQuizzes:ce.quizProgress?.totalQuizzes||0,completedQuizzes:ce.quizProgress?.completedQuizzes||0,averageScore:ce.quizProgress?.averageScore||0,totalQuestions:ce.quizProgress?.totalQuestions||0,correctAnswers:ce.quizProgress?.correctAnswers||0}};Te(_t);const rs=Pe.filter(br=>!br.read).length;fe(rs)}catch(ce){console.error("Error loading user dashboard data:",ce),te(ce.message)}finally{N(!1)}},[s,L]);I.useEffect(()=>{(async()=>{try{w(!0),te(null);const Pe=await O2();console.log("Loaded scholarships:",Pe.length),ne(Pe.length),await de()}catch(Pe){console.error("Error loading initial data:",Pe),te(Pe.message)}finally{w(!1)}})()},[s,M,de]),I.useEffect(()=>{(e.state?.refresh||localStorage.getItem("quizCompleted")==="true")&&s&&!s.isAnonymous&&(console.log("Refresh detected, triggering refresh..."),P(Pe=>Pe+1),t(e.pathname,{replace:!0,state:{}}),localStorage.removeItem("quizCompleted"))},[e.state,s,t]);const pe=I.useMemo(()=>({total:Ve||24,saved:D.savedOpportunities,completed:Array.isArray(D.completedApplications)?D.completedApplications.length:0,genderStats:[{label:"Female",value:52,color:"bg-pink-500"},{label:"Male",value:48,color:"bg-blue-500"}],stateStats:[{label:"Lagos",value:35,color:"bg-blue-500"},{label:"Oyo",value:28,color:"bg-purple-500"},{label:"Kano",value:25,color:"bg-yellow-500"},{label:"Ogun",value:20,color:"bg-green-500"},{label:"Anambra",value:20,color:"bg-red-500"}]}),[Ve,D.savedOpportunities,D.completedApplications]),he=[{id:1,title:"Nigerian Government Scholarship",description:"Full scholarship for undergraduate studies in Nigerian universities",deadline:"2024-12-15",amount:"₦500,000",category:"Government",saved:!1},{id:2,title:"MTN Foundation Scholarship",description:"Merit-based scholarship for science and engineering students",deadline:"2024-11-30",amount:"₦200,000",category:"Private",saved:!0},{id:3,title:"Chevron Scholarship Program",description:"Scholarship for students in petroleum engineering and related fields",deadline:"2024-10-20",amount:"₦300,000",category:"Corporate",saved:!1}],De=({title:ce,value:Pe,icon:Me,bgColor:on="bg-white",textColor:vn="text-gray-800",onClick:_t})=>c.jsx("div",{className:`${on} ${vn} p-6 rounded-xl shadow-sm border border-gray-200 transition-transform hover:scale-105 ${_t?"cursor-pointer":""}`,onClick:_t,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium opacity-70 mb-2",children:ce}),c.jsx("p",{className:"text-3xl font-bold",children:Pe})]}),c.jsx("div",{className:"p-3 bg-black bg-opacity-10 rounded-full",children:c.jsx(Me,{className:"w-6 h-6"})})]})}),Ie=({data:ce,title:Pe})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:Pe}),c.jsx("div",{className:"space-y-3",children:ce.map((Me,on)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-4 h-4 rounded ${Me.color}`}),c.jsx("span",{className:"text-sm font-medium text-gray-600",children:Me.label})]}),c.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[Me.value,"%"]})]},on))}),c.jsx("div",{className:"mt-4 space-y-2",children:ce.map((Me,on)=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"text-xs text-gray-500 w-16",children:Me.label}),c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full ${Me.color}`,style:{width:`${Me.value}%`}})})]},on))})]}),We=()=>c.jsx("div",{className:"fixed inset-0 z-[70] bg-black bg-opacity-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(kn,{className:"w-6 h-6 text-yellow-500"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Upgrade Your Experience"})]}),c.jsx("button",{onClick:()=>Q(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(lu,{className:"w-5 h-5 text-gray-500"})})]}),C?.isActive&&c.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nn,{className:"w-5 h-5 text-green-500"}),c.jsxs("span",{className:"text-green-700 font-medium",children:["Current Plan: ",C.plan," - Expires ",new Date(C.expiresAt).toLocaleDateString()]})]})})]}),c.jsxs("div",{className:"p-6",children:[z&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(lu,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-red-800 font-medium mb-1",children:"Payment Error"}),c.jsx("p",{className:"text-red-700 text-sm",children:z}),c.jsxs("div",{className:"mt-3 text-xs text-red-600",children:[c.jsx("p",{children:c.jsx("strong",{children:"Troubleshooting tips:"})}),c.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[c.jsx("li",{children:"Check your internet connection"}),c.jsx("li",{children:"Make sure your backend is running"}),c.jsx("li",{children:"Verify API endpoints are correctly configured"}),c.jsx("li",{children:"Check browser console for more details"})]})]})]}),c.jsx("button",{onClick:()=>F(null),className:"text-red-500 hover:text-red-700",children:c.jsx(lu,{className:"w-4 h-4"})})]})}),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&c.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-full"}),c.jsx("span",{className:"text-yellow-800 font-medium text-sm",children:"Development Mode"})]}),c.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Make sure your backend server is running on the expected port with the subscription endpoints configured."}),c.jsxs("details",{className:"mt-2 text-xs text-yellow-600",children:[c.jsx("summary",{className:"cursor-pointer hover:text-yellow-800",children:"View Required Endpoints"}),c.jsxs("div",{className:"mt-2 bg-yellow-100 p-2 rounded font-mono",children:[c.jsx("div",{children:"POST /api/subscription/initialize"}),c.jsx("div",{children:"GET /api/subscription/verify/:reference"}),c.jsx("div",{children:"GET /api/subscription/status/:userId"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Ee.map(ce=>c.jsxs("div",{className:`relative border-2 rounded-xl p-6 transition-all hover:shadow-lg ${ce.popular?"border-red-500 shadow-md":"border-gray-200"}`,children:[ce.popular&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:c.jsx("span",{className:"bg-red-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:ce.name}),c.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[c.jsxs("span",{className:"text-3xl font-bold text-gray-800",children:[ce.currency,ce.price.toLocaleString()]}),c.jsxs("span",{className:"text-gray-500",children:["/",ce.interval]})]})]}),c.jsx("ul",{className:"space-y-3 mb-8",children:ce.features.map((Pe,Me)=>c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx(nn,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:Pe})]},Me))}),c.jsx("button",{onClick:()=>ie(ce),disabled:k||C?.isActive&&C?.plan===ce.id,className:`w-full py-3 px-4 rounded-lg font-semibold transition-colors ${C?.isActive&&C?.plan===ce.id?"bg-gray-200 text-gray-500 cursor-not-allowed":k?"bg-gray-400 text-white cursor-not-allowed":`${ce.color} text-white hover:opacity-90`}`,children:k?c.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[c.jsx($f,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Processing..."})]}):C?.isActive&&C?.plan===ce.id?"Current Plan":"Subscribe Now"})]},ce.id))}),c.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Payment Information"}),c.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[c.jsx("li",{children:"• Secure payment processing via Paystack"}),c.jsx("li",{children:"• Support for all Nigerian banks and cards"}),c.jsx("li",{children:"• Cancel anytime from your settings"}),c.jsx("li",{children:"• 24/7 customer support available"})]})]})]})]})}),As=({scholarship:ce})=>{const[Pe,Me]=I.useState(!1),on=Math.ceil((new Date(ce.deadline)-new Date)/(1e3*60*60*24)),vn=D.savedScholarships.some(jt=>jt.id===ce.id),_t=D.completedApplications.some(jt=>jt.id===ce.id),rs=ce.category==="Premium"&&!C?.isActive,br=async()=>{if(!(!s||s.isAnonymous||Pe)){if(rs){Q(!0);return}try{Me(!0);let jt;vn?jt=await b2(s.uid,ce.id):jt=await x2(s.uid,ce),await de()}catch(jt){console.error("Error toggling save:",jt),te(`Failed to ${vn?"unsave":"save"} scholarship: ${jt.message}`)}finally{Me(!1)}}},gi=async()=>{if(!(!s||s.isAnonymous||Pe||_t)){if(rs){Q(!0);return}try{Me(!0);const jt=await w2(s.uid,ce);await de()}catch(jt){console.error("Error completing application:",jt),te(`Failed to complete application: ${jt.message}`)}finally{Me(!1)}}};return c.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow relative ${rs?"opacity-75":""}`,children:[rs&&c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(kn,{className:"w-5 h-5 text-yellow-500"})}),c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:ce.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ce.description}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sl,{className:"w-4 h-4"}),c.jsx("span",{children:on>0?`${on} days left`:"Expired"})]}),c.jsx("span",{className:"font-semibold text-green-600",children:ce.amount})]})]}),!s?.isAnonymous&&c.jsx("button",{onClick:br,disabled:Pe,className:`p-2 rounded-full transition-colors ${Pe?"opacity-50 cursor-not-allowed":""} ${vn?"text-red-500 bg-red-50":"text-gray-400 hover:text-red-500 hover:bg-red-50"}`,children:c.jsx(Bu,{className:`w-5 h-5 ${vn?"fill-current":""} ${Pe?"animate-pulse":""}`})})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${ce.category==="Government"?"bg-blue-100 text-blue-800":ce.category==="Private"?"bg-purple-100 text-purple-800":ce.category==="Premium"?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:ce.category}),c.jsx("button",{onClick:gi,disabled:_t||Pe,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${_t?"bg-green-500 text-white cursor-not-allowed":Pe?"bg-gray-400 text-white cursor-not-allowed":rs?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-red-500 text-white hover:bg-red-600"}`,children:Pe?"Processing...":_t?"Applied":rs?"Upgrade to Apply":"Apply Now"})]})]})},yn=I.useCallback(async()=>{console.log("Manual refresh triggered"),await de()},[de]);return I.useEffect(()=>{console.log("User dashboard data updated:",D)},[D]),c.jsxs("div",{className:`min-h-screen ${l?"dark bg-gray-900":"bg-gray-50"}`,children:[$&&c.jsx("div",{className:"fixed top-0 left-0 right-0 z-[70] bg-red-500 text-white p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[c.jsx("span",{children:$}),c.jsx("button",{onClick:()=>te(null),className:"text-white hover:text-gray-200",children:c.jsx(lu,{className:"w-5 h-5"})})]})}),h&&c.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>m(!1)}),c.jsxs("div",{className:`fixed left-0 top-0 h-full w-64 bg-slate-800 text-white z-50 transform transition-transform lg:translate-x-0 ${h?"translate-x-0":"-translate-x-full"}`,children:[c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex items-center space-x-3 mb-8",children:c.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[c.jsx(pl,{className:"w-8 h-8 text-red-500"}),c.jsx("h1",{className:"text-xl font-bold",children:"AccessEdu NG"})]})}),!s?.isAnonymous&&c.jsxs("div",{className:`mb-6 p-4 rounded-lg ${C?.isActive?"bg-green-800 border border-green-600":"bg-gradient-to-r from-yellow-600 to-orange-600 border border-yellow-500"}`,children:[c.jsx("div",{className:"flex items-center space-x-2",children:C?.isActive?c.jsxs(c.Fragment,{children:[c.jsx(kn,{className:"w-5 h-5 text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium text-white",children:"Premium Active"})]}):c.jsxs(c.Fragment,{children:[c.jsx(t0,{className:"w-5 h-5 text-yellow-300"}),c.jsx("span",{className:"text-sm font-medium text-white",children:"Free Plan"})]})}),!C?.isActive&&c.jsx("button",{onClick:()=>Q(!0),className:"mt-2 w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Upgrade Now"})]}),c.jsx("nav",{className:"space-y-2",children:H.map(ce=>c.jsxs("button",{onClick:()=>R(ce.key),className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors w-full text-left relative ${ce.active?"bg-red-500 text-white":"text-slate-300 hover:bg-slate-700 hover:text-white"}`,children:[c.jsx(ce.icon,{className:"w-5 h-5"}),c.jsx("span",{children:ce.label}),ce.premium&&c.jsx(kn,{className:"w-4 h-4 text-yellow-400 ml-auto"})]},ce.key))})]}),c.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[c.jsxs("button",{onClick:async()=>{await n(),t("/",{replace:!0})},className:"flex items-center space-x-3 px-4 py-3 text-slate-300 hover:bg-slate-700 hover:text-white rounded-lg transition-colors w-full",children:[c.jsx(N2,{className:"w-5 h-5"}),c.jsx("span",{children:s?.isAnonymous?"Exit Guest Mode":"Logout"})]}),c.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700 text-xs text-slate-400",children:c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(Jr,{to:"/about",className:"hover:text-white",children:"About"}),c.jsx(Jr,{to:"/sdg4",className:"hover:text-white",children:"SDG4"}),c.jsx(Jr,{to:"/credits",className:"hover:text-white",children:"Credits"})]})})]})]}),c.jsxs("div",{className:"lg:ml-64",children:[c.jsx("header",{className:`bg-white shadow-sm border-b border-gray-200 px-6 py-4 ${$?"mt-12":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>m(!h),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900",children:c.jsx(hL,{className:"w-6 h-6"})}),c.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[c.jsx(pl,{className:"w-6 h-6 text-red-500"}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AccessEdu NG"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"hidden md:flex relative",children:[c.jsx(Kf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search scholarships...",value:g,onChange:ce=>v(ce.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 w-80"})]}),!s?.isAnonymous&&!C?.isActive&&c.jsxs("button",{onClick:()=>Q(!0),className:"hidden sm:flex items-center space-x-2 bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-pink-600 transition-all transform hover:scale-105",children:[c.jsx(kn,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Upgrade"})]}),c.jsx(BT,{}),c.jsx("button",{onClick:()=>u(!l),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:l?c.jsx(OL,{className:"w-5 h-5"}):c.jsx(pL,{className:"w-5 h-5"})}),c.jsx("button",{onClick:yn,disabled:S,className:`p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 ${S?"opacity-50 cursor-not-allowed":""}`,title:"Refresh dashboard data",children:c.jsx($f,{className:`w-5 h-5 ${S?"animate-spin":""}`})}),c.jsxs("button",{onClick:()=>t("/notifications"),className:"relative p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",title:"View Notifications",children:[c.jsx(Al,{className:"w-5 h-5"}),re>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:re>9?"9+":re})]}),c.jsxs("button",{onClick:()=>t("/settings"),className:"flex items-center space-x-3 hover:bg-gray-100 rounded-lg p-2 transition-colors",title:"Go to Settings",children:[s?.isAnonymous&&c.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Guest Mode"}),c.jsxs("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white font-semibold relative",children:[s?.isAnonymous?"G":s?.email?.charAt(0).toUpperCase()||"U",C?.isActive&&c.jsx(kn,{className:"w-3 h-3 text-yellow-300 absolute -top-1 -right-1"})]})]})]})]})}),U&&c.jsx("div",{className:"fixed inset-0 z-[60] bg-black/40 flex items-center justify-center p-4",onClick:()=>G(!1),children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-4 w-full max-w-sm",onClick:ce=>ce.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fu,{className:"w-5 h-5 text-gray-700"}),c.jsx("span",{className:"font-semibold text-gray-800",children:"Choose language"})]}),c.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:()=>G(!1),children:c.jsx(lu,{className:"w-5 h-5 text-gray-700"})})]}),c.jsx(BT,{className:"w-full"})]})}),B&&c.jsx(We,{}),c.jsx("main",{className:"p-6",children:b?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):c.jsxs(c.Fragment,{children:[!s?.isAnonymous&&!C?.isActive&&c.jsx("div",{className:"bg-gradient-to-r from-red-500 via-pink-500 to-purple-500 rounded-xl p-6 mb-8 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(ZL,{className:"w-6 h-6 text-yellow-300"}),c.jsx("h3",{className:"text-xl font-bold",children:"Unlock Premium Features"})]}),c.jsx("p",{className:"text-red-100 mb-4",children:"Get access to exclusive scholarships, priority notifications, and personalized recommendations."}),c.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nn,{className:"w-4 h-4 text-green-300"}),c.jsx("span",{children:"500+ Premium Scholarships"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nn,{className:"w-4 h-4 text-green-300"}),c.jsx("span",{children:"AI-Powered Matching"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(nn,{className:"w-4 h-4 text-green-300"}),c.jsx("span",{children:"Priority Support"})]})]})]}),c.jsx("div",{className:"flex-shrink-0 ml-6",children:c.jsxs("button",{onClick:()=>Q(!0),className:"bg-white text-red-500 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[c.jsx(kn,{className:"w-5 h-5"}),c.jsx("span",{children:"Upgrade Now"})]})})]})}),C?.isActive&&c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl p-6 mb-8 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(kn,{className:"w-6 h-6 text-yellow-300"}),c.jsx("h3",{className:"text-xl font-bold",children:"Welcome Back, Premium Member!"})]}),c.jsx("p",{className:"text-green-100 mb-2",children:"You have full access to all premium features and scholarships."}),c.jsxs("p",{className:"text-green-200 text-sm",children:["Plan expires: ",new Date(C.expiresAt).toLocaleDateString()]})]}),c.jsx("div",{className:"flex-shrink-0 ml-6",children:c.jsx("button",{onClick:()=>Q(!0),className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg font-medium hover:bg-opacity-30 transition-colors",children:"Manage Plan"})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(De,{title:a("Total Scholarships"),value:pe.total,icon:Dm,bgColor:"bg-red-500",textColor:"text-white",onClick:()=>t("/scholarships")}),c.jsx(De,{title:a("Saved Opportunities"),value:pe.saved,icon:Bu}),c.jsx(De,{title:a("Completed Applications"),value:pe.completed,icon:nn}),c.jsx(De,{title:"Quiz Score",value:`${D.quizProgress.averageScore}%`,icon:vf,bgColor:"bg-purple-500",textColor:"text-white"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[c.jsx(Ie,{data:pe.genderStats,title:a("Scholarships by Gender")}),c.jsx(Ie,{data:pe.stateStats,title:a("Scholarships by State")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("Saved Opportunities")}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),c.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[D.savedOpportunities,"/",pe.total]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(D.savedOpportunities/Math.max(pe.total,1)*100,100)}%`}})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("Completed Applications")}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),c.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[Array.isArray(D.completedApplications)?D.completedApplications.length:0,"/",pe.total]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((Array.isArray(D.completedApplications)?D.completedApplications.length:0)/Math.max(pe.total,1)*100,100)}%`}})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Saved TVET Programs"}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Programs Saved"}),c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:Array.isArray(D.savedPrograms)?D.savedPrograms.length:0})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min((Array.isArray(D.savedPrograms)?D.savedPrograms.length:0)*10,100)}%`}})}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Array.isArray(D.savedPrograms)&&D.savedPrograms.length===0?"No TVET programs saved yet":`${D.savedPrograms.length} program${D.savedPrograms.length===1?"":"s"} saved`})]}),!s?.isAnonymous&&c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Profile Completion"}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:D.profileCompleted?"100%":"0%"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${D.profileCompleted?100:0}%`}})}),!D.profileCompleted&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete your profile to unlock more features"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("Quiz Progress")}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),c.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:[D.quizProgress.completedQuizzes,"/",D.quizProgress.totalQuizzes||1]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(D.quizProgress.completedQuizzes/Math.max(D.quizProgress.totalQuizzes,1)*100,100)}%`}})}),c.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[c.jsxs("p",{children:["Average Score: ",D.quizProgress.averageScore,"%"]}),c.jsxs("p",{children:["Questions Answered: ",D.quizProgress.correctAnswers,"/",D.quizProgress.totalQuestions]})]})]}),!s?.isAnonymous&&c.jsxs("div",{className:`p-6 rounded-xl shadow-sm border-2 ${C?.isActive?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Subscription Status"}),C?.isActive?c.jsx(kn,{className:"w-6 h-6 text-yellow-500"}):c.jsx(t0,{className:"w-6 h-6 text-yellow-500"})]}),C?.isActive?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Current Plan"}),c.jsx("span",{className:"text-sm font-semibold text-green-700 capitalize",children:C.plan})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Next Billing"}),c.jsx("span",{className:"text-sm font-semibold text-gray-800",children:new Date(C.expiresAt).toLocaleDateString()})]}),c.jsx("button",{onClick:()=>Q(!0),className:"w-full mt-4 bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",children:"Manage Subscription"})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Free Plan - Limited Access"}),c.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[c.jsx("p",{children:"• Access to 10 scholarships"}),c.jsx("p",{children:"• Basic notifications"}),c.jsx("p",{children:"• Standard support"})]}),c.jsxs("button",{onClick:()=>Q(!0),className:"w-full mt-4 bg-gradient-to-r from-red-500 to-pink-500 text-white py-2 px-4 rounded-lg hover:from-red-600 hover:to-pink-600 transition-colors text-sm font-medium flex items-center justify-center space-x-2",children:[c.jsx(kn,{className:"w-4 h-4"}),c.jsx("span",{children:"Upgrade to Premium"})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Recent Scholarships"}),c.jsxs("div",{className:"flex items-center space-x-3",children:[!s?.isAnonymous&&!C?.isActive&&c.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center space-x-2 bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:[c.jsx(kn,{className:"w-4 h-4"}),c.jsx("span",{children:"See All"})]}),c.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50",children:[c.jsx(WV,{className:"w-4 h-4"}),c.jsx("span",{children:"Filter"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:he.map(ce=>c.jsx(As,{scholarship:ce},ce.id))})]}),!s?.isAnonymous&&!C?.isActive&&c.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx("button",{onClick:()=>Q(!0),className:"p-4 border-2 border-dashed border-yellow-300 rounded-lg hover:border-yellow-400 hover:bg-yellow-50 transition-colors group",children:c.jsxs("div",{className:"text-center",children:[c.jsx(kn,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h4",{className:"font-semibold text-gray-800",children:"Unlock Premium"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Access 500+ scholarships"})]})}),c.jsx("button",{onClick:()=>t("/scholarships"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors group",children:c.jsxs("div",{className:"text-center",children:[c.jsx(pl,{className:"w-8 h-8 text-blue-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h4",{className:"font-semibold text-gray-800",children:"Browse Scholarships"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Find opportunities"})]})}),c.jsx("button",{onClick:()=>t("/quiz"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors group",children:c.jsxs("div",{className:"text-center",children:[c.jsx(vf,{className:"w-8 h-8 text-purple-500 mx-auto mb-2 group-hover:scale-110 transition-transform"}),c.jsx("h4",{className:"font-semibold text-gray-800",children:"Take Quiz"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Test your knowledge"})]})})]})]})]})})]})]})}const v9=[{id:"scholarship-prep",name:"Scholarship Preparation",description:"Questions to help you prepare for scholarship applications",icon:"🎓",color:"bg-blue-500"},{id:"general-knowledge",name:"General Knowledge",description:"General educational questions",icon:"📚",color:"bg-green-500"},{id:"nigeria-history",name:"Nigerian History",description:"Questions about Nigerian history and culture",icon:"🇳🇬",color:"bg-yellow-500"},{id:"current-affairs",name:"Current Affairs",description:"Recent events and current topics",icon:"📰",color:"bg-purple-500"}],x9={"scholarship-prep":[{id:1,question:"What is the most important document you need for a scholarship application?",options:["Birth certificate","Academic transcript","Passport photograph","All of the above"],correctAnswer:3,explanation:"All documents are important for scholarship applications. Academic transcripts show your academic performance, birth certificate proves your identity and age, and passport photographs are required for identification. Having all documents ready increases your chances of success.",category:"scholarship-prep",difficulty:"easy"},{id:2,question:"When should you start preparing for scholarship applications?",options:["A few days before the deadline","A week before the deadline","At least 3-6 months before the deadline","On the day of the deadline"],correctAnswer:2,explanation:"Starting early (3-6 months before) gives you time to gather all required documents, write compelling essays, get recommendation letters, and ensure your application is complete and polished. Rushing at the last minute often leads to mistakes.",category:"scholarship-prep",difficulty:"medium"},{id:3,question:"What should you include in a scholarship essay?",options:["Only your academic achievements","Only your financial need","Your goals, achievements, and why you deserve the scholarship","Only your family background"],correctAnswer:2,explanation:"A comprehensive scholarship essay should include your academic and personal achievements, your future goals, why you need the scholarship, and how it will help you achieve your dreams. This gives the selection committee a complete picture of who you are.",category:"scholarship-prep",difficulty:"medium"},{id:4,question:"What is a good strategy for finding scholarships?",options:["Only apply to the most popular scholarships","Focus only on your school's financial aid office","Use multiple sources: online databases, school counselors, community organizations","Wait for scholarships to find you"],correctAnswer:2,explanation:"The best strategy is to use multiple sources. Online databases like Fastweb, Scholarships.com, and government websites, along with your school's financial aid office, community organizations, and professional associations can all provide valuable scholarship opportunities.",category:"scholarship-prep",difficulty:"medium"},{id:5,question:"What should you do if you don't receive a scholarship?",options:["Give up and stop trying","Apply for the same scholarships again next year","Ask for feedback and improve your applications for future opportunities","Complain to the scholarship committee"],correctAnswer:2,explanation:"Not receiving a scholarship is not the end. Ask for feedback when possible, improve your applications, and continue applying to other opportunities. Many students apply to multiple scholarships before receiving one.",category:"scholarship-prep",difficulty:"easy"},{id:6,question:"What is the purpose of a personal statement in scholarship applications?",options:["To list all your achievements","To tell your unique story and connect with the selection committee","To complain about financial difficulties","To copy from other successful applications"],correctAnswer:1,explanation:"A personal statement should tell your unique story, including challenges you've overcome, your goals, and how the scholarship will help you achieve them. It should connect emotionally with the selection committee and show why you're deserving.",category:"scholarship-prep",difficulty:"medium"},{id:7,question:"What should you do before submitting a scholarship application?",options:["Submit immediately to meet the deadline","Have someone else review it for errors and clarity","Keep it to yourself to maintain confidentiality","Submit multiple versions to increase chances"],correctAnswer:1,explanation:"Always have someone else review your application for grammar, clarity, and completeness. A fresh pair of eyes can catch errors you might miss and provide valuable feedback for improvement.",category:"scholarship-prep",difficulty:"easy"},{id:8,question:"What is the best approach to recommendation letters?",options:["Ask anyone who knows you","Ask teachers or mentors who know you well and can speak to your strengths","Write them yourself and ask someone to sign","Use the same letter for all applications"],correctAnswer:1,explanation:"Choose recommenders who know you well and can speak specifically to your academic abilities, character, and potential. Teachers, mentors, or supervisors who have worked closely with you make the best recommenders.",category:"scholarship-prep",difficulty:"medium"},{id:9,question:"What should you do if a scholarship requires an interview?",options:["Wing it and hope for the best","Practice common questions, research the organization, and prepare thoughtful questions","Memorize a script and stick to it exactly","Avoid eye contact to show humility"],correctAnswer:1,explanation:"Prepare thoroughly by practicing common interview questions, researching the scholarship organization, preparing thoughtful questions to ask, and dressing appropriately. Confidence and preparation are key to success.",category:"scholarship-prep",difficulty:"medium"},{id:10,question:"What is the importance of meeting scholarship deadlines?",options:["Deadlines are flexible and can be extended","Late applications are always considered","Meeting deadlines shows responsibility and respect for the process","Deadlines don't matter if you have good grades"],correctAnswer:2,explanation:"Meeting deadlines demonstrates responsibility, respect for the selection committee's time, and your ability to manage time effectively. Late applications are typically not considered, regardless of qualifications.",category:"scholarship-prep",difficulty:"easy"},{id:11,question:"What should you include in a scholarship resume?",options:["Only academic achievements","Only work experience","Academic achievements, leadership roles, community service, and relevant skills","Only personal information"],correctAnswer:2,explanation:"A comprehensive scholarship resume should include academic achievements, leadership roles, community service, relevant skills, and any awards or honors. This gives a complete picture of your qualifications and character.",category:"scholarship-prep",difficulty:"medium"},{id:12,question:"What is the best way to follow up after submitting a scholarship application?",options:["Call daily to check status","Send a polite thank-you note and wait for their response","Send multiple emails demanding updates","Show up in person to check status"],correctAnswer:1,explanation:"Send a polite thank-you note acknowledging receipt of your application and expressing continued interest. This shows professionalism and keeps you on their radar without being pushy.",category:"scholarship-prep",difficulty:"easy"}],"general-knowledge":[{id:13,question:"What is the capital of Nigeria?",options:["Lagos","Abuja","Kano","Ibadan"],correctAnswer:1,explanation:"Abuja became Nigeria's capital in 1991, replacing Lagos. It was chosen as the capital because of its central location and to promote national unity. Lagos remains the country's largest city and economic hub.",category:"general-knowledge",difficulty:"easy"},{id:14,question:"Which year did Nigeria gain independence from Britain?",options:["1957","1960","1963","1966"],correctAnswer:1,explanation:"Nigeria gained independence from British colonial rule on October 1, 1960. This marked the beginning of self-governance and the establishment of the Federal Republic of Nigeria.",category:"general-knowledge",difficulty:"easy"},{id:15,question:"What is the largest continent in the world?",options:["North America","Europe","Asia","Africa"],correctAnswer:2,explanation:"Asia is the largest continent in the world, covering approximately 30% of Earth's land area. It includes countries like China, India, Japan, and many others.",category:"general-knowledge",difficulty:"easy"},{id:16,question:"What is the chemical symbol for gold?",options:["Ag","Au","Fe","Cu"],correctAnswer:1,explanation:"Au is the chemical symbol for gold, derived from the Latin word 'aurum'. Gold is a precious metal that has been valued throughout human history.",category:"general-knowledge",difficulty:"medium"},{id:17,question:"Who wrote 'Romeo and Juliet'?",options:["Charles Dickens","William Shakespeare","Jane Austen","Mark Twain"],correctAnswer:1,explanation:"William Shakespeare wrote 'Romeo and Juliet' in the late 16th century. It's one of his most famous plays and tells the story of two young lovers from feuding families.",category:"general-knowledge",difficulty:"medium"},{id:18,question:"What is the largest ocean on Earth?",options:["Atlantic Ocean","Indian Ocean","Pacific Ocean","Arctic Ocean"],correctAnswer:2,explanation:"The Pacific Ocean is the largest and deepest ocean on Earth, covering about 30% of the Earth's surface. It's larger than all the land masses combined.",category:"general-knowledge",difficulty:"easy"},{id:19,question:"What is the main component of the sun?",options:["Liquid lava","Molten iron","Hydrogen gas","Solid rock"],correctAnswer:2,explanation:"The sun is primarily composed of hydrogen gas (about 74%) and helium (about 24%). The sun's energy comes from nuclear fusion of hydrogen atoms.",category:"general-knowledge",difficulty:"medium"},{id:20,question:"What is the smallest prime number?",options:["0","1","2","3"],correctAnswer:2,explanation:"2 is the smallest prime number. A prime number is a natural number greater than 1 that has no positive divisors other than 1 and itself.",category:"general-knowledge",difficulty:"medium"},{id:21,question:"What is the capital of France?",options:["London","Berlin","Paris","Madrid"],correctAnswer:2,explanation:"Paris is the capital and largest city of France. It's known for its art, fashion, gastronomy, and culture, and is often called the 'City of Light'.",category:"general-knowledge",difficulty:"easy"},{id:22,question:"What year did World War II end?",options:["1943","1944","1945","1946"],correctAnswer:2,explanation:"World War II ended in 1945. The war in Europe ended on May 8, 1945 (V-E Day), and the war in the Pacific ended on September 2, 1945 (V-J Day).",category:"general-knowledge",difficulty:"medium"},{id:23,question:"What is the largest planet in our solar system?",options:["Earth","Mars","Jupiter","Saturn"],correctAnswer:2,explanation:"Jupiter is the largest planet in our solar system. It's a gas giant with a mass more than twice that of Saturn and over 300 times that of Earth.",category:"general-knowledge",difficulty:"easy"},{id:24,question:"What is the chemical formula for water?",options:["H2O","CO2","O2","N2"],correctAnswer:0,explanation:"H2O is the chemical formula for water, consisting of two hydrogen atoms bonded to one oxygen atom. Water is essential for all known forms of life.",category:"general-knowledge",difficulty:"easy"}],"nigeria-history":[{id:25,question:"Who was Nigeria's first President?",options:["Nnamdi Azikiwe","Tafawa Balewa","Yakubu Gowon","Murtala Mohammed"],correctAnswer:0,explanation:"Nnamdi Azikiwe, popularly known as 'Zik', was Nigeria's first President from 1963 to 1966. He was a prominent nationalist leader and played a crucial role in Nigeria's independence movement.",category:"nigeria-history",difficulty:"medium"},{id:26,question:"What are the three major ethnic groups in Nigeria?",options:["Hausa, Yoruba, Igbo","Hausa, Fulani, Yoruba","Yoruba, Igbo, Edo","Hausa, Igbo, Kanuri"],correctAnswer:0,explanation:"The three major ethnic groups in Nigeria are Hausa, Yoruba, and Igbo. These groups have significant cultural, linguistic, and historical differences and are found in different regions of the country.",category:"nigeria-history",difficulty:"easy"},{id:27,question:"What was the name of Nigeria's first Prime Minister?",options:["Nnamdi Azikiwe","Tafawa Balewa","Yakubu Gowon","Obafemi Awolowo"],correctAnswer:1,explanation:"Sir Abubakar Tafawa Balewa was Nigeria's first Prime Minister from 1960 to 1966. He was a prominent Northern politician and played a key role in Nigeria's early independence period.",category:"nigeria-history",difficulty:"medium"},{id:28,question:"Which Nigerian city was the capital before Abuja?",options:["Lagos","Kano","Ibadan","Enugu"],correctAnswer:0,explanation:"Lagos was Nigeria's capital from independence in 1960 until 1991, when the capital was moved to Abuja. Lagos remains Nigeria's largest city and economic center.",category:"nigeria-history",difficulty:"easy"},{id:29,question:"What year did Nigeria become a republic?",options:["1960","1961","1962","1963"],correctAnswer:3,explanation:"Nigeria became a republic on October 1, 1963, exactly three years after gaining independence. This marked the end of British monarchy rule and the establishment of a presidential system.",category:"nigeria-history",difficulty:"medium"},{id:30,question:"Who was the first military ruler of Nigeria?",options:["Yakubu Gowon","Aguiyi Ironsi","Murtala Mohammed","Olusegun Obasanjo"],correctAnswer:1,explanation:"Major General Johnson Aguiyi Ironsi was Nigeria's first military ruler, taking power in January 1966 after the first military coup. His rule was short-lived, ending in July 1966.",category:"nigeria-history",difficulty:"hard"},{id:31,question:"What is the significance of October 1st in Nigeria?",options:["It's a religious holiday","It's Nigeria's Independence Day","It's the start of the school year","It's a traditional festival day"],correctAnswer:1,explanation:"October 1st is Nigeria's Independence Day, commemorating the country's independence from British colonial rule in 1960. It's a national holiday celebrated across the country.",category:"nigeria-history",difficulty:"easy"},{id:32,question:"Which Nigerian leader introduced the 'Green Revolution'?",options:["Yakubu Gowon","Murtala Mohammed","Olusegun Obasanjo","Shehu Shagari"],correctAnswer:2,explanation:"General Olusegun Obasanjo introduced the 'Green Revolution' during his military rule (1976-1979). This agricultural program aimed to increase food production and reduce dependence on food imports.",category:"nigeria-history",difficulty:"hard"},{id:33,question:"What was the name of Nigeria's first university?",options:["University of Lagos","University of Ibadan","University of Nigeria, Nsukka","Ahmadu Bello University"],correctAnswer:1,explanation:"The University of Ibadan, established in 1948, was Nigeria's first university. It was originally a college of the University of London before becoming independent in 1962.",category:"nigeria-history",difficulty:"medium"},{id:34,question:"Which Nigerian region was known for its palm oil production?",options:["Northern Region","Western Region","Eastern Region","Mid-Western Region"],correctAnswer:2,explanation:"The Eastern Region (now part of the South-East) was known for its palm oil production. Palm oil was a major export commodity and source of revenue for the region.",category:"nigeria-history",difficulty:"medium"},{id:35,question:"What was the name of Nigeria's first national airline?",options:["Nigeria Airways","Air Nigeria","Nigerian Airlines","Nigeria Air"],correctAnswer:0,explanation:"Nigeria Airways was the country's first national airline, established in 1958. It operated both domestic and international flights until it was liquidated in 2003.",category:"nigeria-history",difficulty:"hard"},{id:36,question:"Which Nigerian leader was known as 'The Iron Lady of Africa'?",options:["Hajiya Gambo Sawaba","Margaret Ekpo","Funmilayo Ransome-Kuti","All of the above"],correctAnswer:3,explanation:"These three women were prominent Nigerian activists and leaders who fought for women's rights and independence. They were all known for their strong leadership and were sometimes referred to as 'The Iron Ladies of Africa'.",category:"nigeria-history",difficulty:"hard"}],"current-affairs":[{id:37,question:"What is the current currency of Nigeria?",options:["Naira","Pound","Dollar","Euro"],correctAnswer:0,explanation:"The Nigerian Naira (₦) is the official currency of Nigeria. It was introduced in 1973, replacing the Nigerian Pound. The Central Bank of Nigeria manages the currency.",category:"current-affairs",difficulty:"easy"},{id:38,question:"Who is the current President of Nigeria?",options:["Muhammadu Buhari","Bola Tinubu","Goodluck Jonathan","Olusegun Obasanjo"],correctAnswer:1,explanation:"Bola Ahmed Tinubu is the current President of Nigeria, having been inaugurated on May 29, 2023. He succeeded Muhammadu Buhari as the 16th President of Nigeria.",category:"current-affairs",difficulty:"easy"},{id:39,question:"What is the name of Nigeria's current national anthem?",options:["Arise, O Compatriots","Nigeria, We Hail Thee","The Star-Spangled Banner","God Save the Queen"],correctAnswer:0,explanation:"'Arise, O Compatriots' is Nigeria's current national anthem, adopted in 1978. It replaced the previous anthem 'Nigeria, We Hail Thee' which was used from 1960 to 1978.",category:"current-affairs",difficulty:"medium"},{id:40,question:"What is the largest city in Nigeria by population?",options:["Abuja","Lagos","Kano","Ibadan"],correctAnswer:1,explanation:"Lagos is Nigeria's largest city by population, with over 20 million people in its metropolitan area. It's the country's economic hub and commercial center.",category:"current-affairs",difficulty:"easy"},{id:41,question:"What is the main export of Nigeria?",options:["Cocoa","Oil","Timber","Textiles"],correctAnswer:1,explanation:"Oil (petroleum) is Nigeria's main export and primary source of foreign exchange earnings. Nigeria is one of the largest oil producers in Africa.",category:"current-affairs",difficulty:"easy"},{id:42,question:"What is the name of Nigeria's central bank?",options:["Nigerian Bank","Central Bank of Nigeria","Federal Reserve of Nigeria","Bank of Nigeria"],correctAnswer:1,explanation:"The Central Bank of Nigeria (CBN) is Nigeria's central bank, established in 1958. It regulates the banking sector and manages the country's monetary policy.",category:"current-affairs",difficulty:"medium"},{id:43,question:"What is the current population of Nigeria?",options:["About 150 million","About 200 million","About 250 million","About 300 million"],correctAnswer:1,explanation:"Nigeria's current population is approximately 200 million people, making it the most populous country in Africa and the seventh most populous country in the world.",category:"current-affairs",difficulty:"medium"},{id:44,question:"What is the name of Nigeria's highest court?",options:["Supreme Court","High Court","Federal Court","Constitutional Court"],correctAnswer:0,explanation:"The Supreme Court of Nigeria is the highest court in the country. It's the final court of appeal and has the power to interpret the constitution.",category:"current-affairs",difficulty:"medium"},{id:45,question:"What is Nigeria's national flower?",options:["Rose","Hibiscus","Sunflower","Lily"],correctAnswer:1,explanation:"The Hibiscus (Hibiscus rosa-sinensis) is Nigeria's national flower. It's a tropical flower that grows well in Nigeria's climate and is used in traditional medicine.",category:"current-affairs",difficulty:"hard"},{id:46,question:"What is the name of Nigeria's national football team?",options:["Super Eagles","Green Eagles","Nigerian Lions","Eagles of Nigeria"],correctAnswer:0,explanation:"The Super Eagles is the nickname of Nigeria's national football team. They have won the Africa Cup of Nations three times and have qualified for multiple FIFA World Cups.",category:"current-affairs",difficulty:"easy"},{id:47,question:"What is the main religion in Northern Nigeria?",options:["Christianity","Islam","Traditional African Religion","Hinduism"],correctAnswer:1,explanation:"Islam is the predominant religion in Northern Nigeria, with the majority of the population being Muslim. This has influenced the culture, laws, and social practices in the region.",category:"current-affairs",difficulty:"medium"},{id:48,question:"What is the name of Nigeria's largest river?",options:["Niger River","Benue River","Cross River","Kaduna River"],correctAnswer:0,explanation:"The Niger River is Nigeria's largest river and the third longest river in Africa. It flows through several West African countries and is a major source of water and transportation.",category:"current-affairs",difficulty:"medium"}]},b9=()=>v9,w9=t=>x9[t]||[],_9=t=>{const n=[...w9(t)];for(let s=n.length-1;s>0;s--){const a=Math.floor(Math.random()*(s+1));[n[s],n[a]]=[n[a],n[s]]}return n.slice(0,Math.min(10,n.length))},T9=async(t,e)=>{try{const n=Mt(tt,"users",t),s=await Mn(n);if(s.exists()){const l=s.data().quizProgress||{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]},u=l.totalQuizzes+1,h=l.completedQuizzes+1,m=l.totalQuestions+e.totalQuestions,g=l.correctAnswers+e.correctAnswers,v=Math.round(g/m*100),b=[{id:Date.now(),category:e.category,score:e.score,totalQuestions:e.totalQuestions,correctAnswers:e.correctAnswers,completedAt:gn(),answers:e.answers},...(l.quizHistory||[]).slice(0,19)];return await Es(n,{quizProgress:{totalQuizzes:u,completedQuizzes:h,averageScore:v,totalQuestions:m,correctAnswers:g,quizHistory:b}}),{success:!0,message:"Quiz result saved successfully"}}}catch(n){throw console.error("Error saving quiz result:",n),n}},E9=async t=>{try{const e=Mt(tt,"users",t),n=await Mn(e);return n.exists()?n.data().quizProgress||{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]}:{totalQuizzes:0,completedQuizzes:0,averageScore:0,totalQuestions:0,correctAnswers:0,quizHistory:[]}}catch(e){throw console.error("Error getting user quiz progress:",e),e}},FT=(t,e)=>{let n=0;const s=e.length;return t.forEach((l,u)=>{l&&l.selectedAnswer!==null&&l.selectedAnswer!==void 0&&l.selectedAnswer===e[u].correctAnswer&&n++}),{score:Math.round(n/s*100),correctAnswers:n,totalQuestions:s,answers:t.map((l,u)=>({...l,question:e[u],isCorrect:l&&l.selectedAnswer!==null&&l.selectedAnswer!==void 0?l.selectedAnswer===e[u].correctAnswer:!1}))}};function A9(){const t=Hn(),{user:e}=On(),[n,s]=I.useState("categories"),[a,l]=I.useState(null),[u,h]=I.useState([]),[m,g]=I.useState(0),[v,b]=I.useState([]),[w,S]=I.useState(null),[N,M]=I.useState(!1),[P,U]=I.useState(0),[G,$]=I.useState(!1),[te,B]=I.useState(null),[Q,k]=I.useState(!1),E=b9();I.useEffect(()=>{e&&!e.isAnonymous&&C()},[e]);const C=async()=>{try{const R=await E9(e.uid);B(R)}catch(R){console.error("Error loading user progress:",R)}},O=R=>{l(R);const H=_9(R.id);h(H),g(0),b([]),U(600),s("quiz")},z=R=>{const H=[...v];H[m]={questionId:u[m].id,selectedAnswer:R,timestamp:Date.now()},b(H)},F=()=>{m<u.length-1?g(m+1):Te()},D=()=>{m>0&&g(m-1)},Te=async()=>{console.log("finishQuiz called"),console.log("Current answers:",v),console.log("Current questions:",u),M(!0);try{const R=u.map((de,pe)=>v[pe]||{questionId:u[pe].id,selectedAnswer:null,timestamp:Date.now()});console.log("Completed answers:",R);const H=FT(R,u);if(console.log("Quiz results:",H),S(H),e&&!e.isAnonymous){console.log("Saving quiz result for user:",e.uid),console.log("Quiz data to save:",{...H,category:a.id});try{const de=await T9(e.uid,{...H,category:a.id});console.log("Save result:",de),await C(),k(!0),setTimeout(()=>k(!1),3e3),localStorage.setItem("quizCompleted","true")}catch(de){console.error("Error saving quiz result:",de)}}console.log("Setting view to results"),s("results")}catch(R){console.error("Error finishing quiz:",R);const H=FT(v,u);S(H),s("results")}finally{M(!1)}},Ve=()=>{s("categories"),l(null),h([]),g(0),b([]),S(null),U(0),$(!1)};I.useEffect(()=>{if(n==="quiz"&&P>0){const R=setInterval(()=>{U(H=>H<=1?(Te(),0):H-1)},1e3);return()=>clearInterval(R)}},[n,P]);const ne=R=>{const H=Math.floor(R/60),de=R%60;return`${H}:${de.toString().padStart(2,"0")}`},re=()=>v[m]?.selectedAnswer,fe=R=>v[R]!==void 0,Ee=({category:R})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all cursor-pointer",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${R.color} text-white`,children:R.icon}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:R.name}),c.jsx("p",{className:"text-sm text-gray-600",children:R.description})]})]}),c.jsxs("button",{onClick:()=>O(R),className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-semibold hover:bg-red-600 transition-colors flex items-center justify-center space-x-2",children:[c.jsx(xL,{className:"w-4 h-4"}),c.jsx("span",{children:"Start Quiz"})]})]}),L=()=>{const R=u[m],H=re();return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Question ",m+1," of ",u.length]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["(",v.filter(de=>de!==void 0).length," answered)"]}),c.jsx("div",{className:"flex space-x-1",children:u.map((de,pe)=>c.jsx("div",{className:`w-3 h-3 rounded-full ${fe(pe)?"bg-green-500":"bg-gray-300"}`},pe))})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-red-500 font-semibold",children:[c.jsx(Sl,{className:"w-5 h-5"}),c.jsx("span",{children:ne(P)})]})]}),c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:R.question}),c.jsx("div",{className:"space-y-3",children:R.options.map((de,pe)=>c.jsxs("button",{onClick:()=>z(pe),className:`w-full p-4 text-left rounded-lg border-2 transition-all ${H===pe?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[c.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+pe),"."]})," ",de]},pe))})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("button",{onClick:D,disabled:m===0,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:F,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:m===u.length-1?"Finish Quiz":"Next"}),m<u.length-1&&c.jsx("button",{onClick:Te,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Finish Quiz Now"})]})]})]})},ie=()=>{if(!w)return null;const{score:R,correctAnswers:H,totalQuestions:de,answers:pe}=w;return c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm border border-gray-200 mb-6",children:[Q&&c.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(nn,{className:"w-5 h-5 mr-2"}),c.jsx("span",{className:"font-medium",children:"Quiz result saved! Your dashboard has been updated."})]})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx($L,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quiz Complete!"}),c.jsxs("p",{className:"text-gray-600",children:["You scored ",R,"%"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:H}),c.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]}),c.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:de-H}),c.jsx("div",{className:"text-sm text-gray-600",children:"Incorrect"})]}),c.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:de}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})]}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsxs("button",{onClick:()=>$(!G),className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 flex items-center space-x-2",children:[c.jsx(km,{className:"w-4 h-4"}),c.jsxs("span",{children:[G?"Hide":"Show"," Explanations"]})]}),c.jsx("button",{onClick:Ve,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Take Another Quiz"}),c.jsx("button",{onClick:()=>{console.log("Going back to dashboard with refresh"),t("/dashboard",{state:{refresh:!0}})},className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Back to Dashboard"})]})]}),G&&c.jsx("div",{className:"space-y-4",children:pe.map((he,De)=>c.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:c.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold ${he.isCorrect?"bg-green-500":"bg-red-500"}`,children:he.isCorrect?c.jsx(nn,{className:"w-5 h-5"}):c.jsx(or,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-semibold text-gray-800 mb-2",children:["Question ",De+1,": ",he.question.question]}),c.jsx("div",{className:"space-y-2 mb-4",children:he.question.options.map((Ie,We)=>c.jsxs("div",{className:`p-3 rounded-lg border-2 ${We===he.question.correctAnswer?"border-green-500 bg-green-50 text-green-700":We===he.selectedAnswer&&!he.isCorrect?"border-red-500 bg-red-50 text-red-700":"border-gray-200"}`,children:[c.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+We),"."]})," ",Ie,We===he.question.correctAnswer&&c.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"✓ Correct Answer"}),We===he.selectedAnswer&&!he.isCorrect&&c.jsx("span",{className:"ml-2 text-red-600 font-semibold",children:"✗ Your Answer"})]},We))}),c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Explanation:"}),c.jsx("p",{className:"text-blue-700",children:he.question.explanation})]})]})]})},De))})]})};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>{console.log("Navigating back to dashboard with refresh state"),t("/dashboard",{state:{refresh:!0}})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:c.jsx(yo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Quizzes"}),c.jsx("p",{className:"text-gray-600",children:"Test your knowledge and learn with explanations"})]})]}),te&&c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-red-500",children:[te.averageScore,"%"]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Average Score"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-500",children:te.completedQuizzes}),c.jsx("div",{className:"text-sm text-gray-600",children:"Quizzes Taken"})]})]})]}),n==="quiz"&&a&&c.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white ${a.color}`,children:a.icon}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:a.name}),c.jsx("p",{className:"text-sm text-gray-600",children:a.description})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm text-gray-600",children:["Questions: ",u.length]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Time: 10 minutes"})]})]})}),N&&c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}),n==="categories"&&!N&&c.jsx("div",{children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:E.map(R=>c.jsx(Ee,{category:R},R.id))})}),n==="quiz"&&!N&&c.jsx(L,{}),n==="results"&&!N&&c.jsx(ie,{})]})})}const S9=({scholarship:t,onClose:e,onSuccess:n})=>{const s=Hn(),{user:a}=On(),[l,u]=I.useState(1),[h,m]=I.useState(!1),[g,v]=I.useState(""),[b,w]=I.useState({personalInfo:{firstName:"",lastName:"",email:a?.email||"",phone:"",dateOfBirth:"",gender:"",state:"",address:""},academicInfo:{institution:"",courseOfStudy:"",currentLevel:"",gpa:"",graduationYear:"",academicAchievements:""},documents:{transcript:null,recommendationLetter:null,personalStatement:null,passportPhoto:null},additionalInfo:{familyIncome:"",familySize:"",specialCircumstances:"",whyDeserve:""}}),S=[{id:1,title:"Personal Information",icon:D2},{id:2,title:"Academic Information",icon:vd},{id:3,title:"Required Documents",icon:MT},{id:4,title:"Additional Information",icon:MT},{id:5,title:"Review & Submit",icon:nn}],N=(B,Q,k)=>{w(E=>({...E,[B]:{...E[B],[Q]:k}}))},M=(B,Q)=>{w(k=>({...k,documents:{...k.documents,[B]:Q}}))},P=B=>{switch(B){case 1:const Q=b.personalInfo;return Q.firstName&&Q.lastName&&Q.email&&Q.phone&&Q.dateOfBirth&&Q.gender&&Q.state;case 2:const k=b.academicInfo;return k.institution&&k.courseOfStudy&&k.currentLevel&&k.gpa;case 3:const E=b.documents;return E.transcript&&E.recommendationLetter&&E.personalStatement;case 4:const C=b.additionalInfo;return C.familyIncome&&C.whyDeserve;default:return!0}},U=()=>{P(l)?(u(B=>Math.min(B+1,S.length)),v("")):v("Please fill in all required fields before proceeding.")},G=()=>{u(B=>Math.max(B-1,1)),v("")},$=async()=>{if(!a||a.isAnonymous){v("Please log in to submit your application.");return}m(!0),v("");try{const B=await w2(a.uid,{...t,applicationData:b,submittedAt:new Date().toISOString()});B.success?(n&&n(B),s("/dashboard",{state:{message:"Application submitted successfully! Check your email for confirmation.",refresh:!0}})):v(B.message||"Failed to submit application. Please try again.")}catch(B){console.error("Error submitting application:",B),v("An error occurred while submitting your application. Please try again.")}finally{m(!1)}},te=()=>{switch(l){case 1:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Personal Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name *"}),c.jsx("input",{type:"text",value:b.personalInfo.firstName,onChange:B=>N("personalInfo","firstName",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name *"}),c.jsx("input",{type:"text",value:b.personalInfo.lastName,onChange:B=>N("personalInfo","lastName",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),c.jsx("input",{type:"email",value:b.personalInfo.email,onChange:B=>N("personalInfo","email",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),c.jsx("input",{type:"tel",value:b.personalInfo.phone,onChange:B=>N("personalInfo","phone",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),c.jsx("input",{type:"date",value:b.personalInfo.dateOfBirth,onChange:B=>N("personalInfo","dateOfBirth",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender *"}),c.jsxs("select",{value:b.personalInfo.gender,onChange:B=>N("personalInfo","gender",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Gender"}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),c.jsxs("select",{value:b.personalInfo.state,onChange:B=>N("personalInfo","state",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,children:[c.jsx("option",{value:"",children:"Select State"}),c.jsx("option",{value:"Lagos",children:"Lagos"}),c.jsx("option",{value:"FCT",children:"FCT"}),c.jsx("option",{value:"Rivers",children:"Rivers"}),c.jsx("option",{value:"Kano",children:"Kano"}),c.jsx("option",{value:"Kaduna",children:"Kaduna"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("textarea",{value:b.personalInfo.address,onChange:B=>N("personalInfo","address",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:"3"})]})]})]});case 2:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Academic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Institution *"}),c.jsx("input",{type:"text",value:b.academicInfo.institution,onChange:B=>N("academicInfo","institution",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course of Study *"}),c.jsx("input",{type:"text",value:b.academicInfo.courseOfStudy,onChange:B=>N("academicInfo","courseOfStudy",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Level *"}),c.jsxs("select",{value:b.academicInfo.currentLevel,onChange:B=>N("academicInfo","currentLevel",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Level"}),c.jsx("option",{value:"Undergraduate",children:"Undergraduate"}),c.jsx("option",{value:"Postgraduate",children:"Postgraduate"}),c.jsx("option",{value:"PhD",children:"PhD"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GPA *"}),c.jsx("input",{type:"number",step:"0.01",min:"0",max:"5",value:b.academicInfo.gpa,onChange:B=>N("academicInfo","gpa",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"e.g., 3.5",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expected Graduation Year"}),c.jsx("input",{type:"number",min:"2024",max:"2030",value:b.academicInfo.graduationYear,onChange:B=>N("academicInfo","graduationYear",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Achievements"}),c.jsx("textarea",{value:b.academicInfo.academicAchievements,onChange:B=>N("academicInfo","academicAchievements",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:"3",placeholder:"List any awards, honors, or notable achievements..."})]})]})]});case 3:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Required Documents"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Academic Transcript *"}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:B=>M("transcript",B.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your most recent academic transcript (PDF, DOC, DOCX)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recommendation Letter *"}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:B=>M("recommendationLetter",B.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a recommendation letter from a professor or academic advisor"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personal Statement *"}),c.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:B=>M("personalStatement",B.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your personal statement explaining why you deserve this scholarship"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Passport Photograph"}),c.jsx("input",{type:"file",accept:"image/*",onChange:B=>M("passportPhoto",B.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a recent passport photograph (optional)"})]})]})]});case 4:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Additional Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family Annual Income *"}),c.jsxs("select",{value:b.additionalInfo.familyIncome,onChange:B=>N("additionalInfo","familyIncome",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Income Range"}),c.jsx("option",{value:"under-500k",children:"Under ₦500,000"}),c.jsx("option",{value:"500k-1m",children:"₦500,000 - ₦1,000,000"}),c.jsx("option",{value:"1m-2m",children:"₦1,000,000 - ₦2,000,000"}),c.jsx("option",{value:"2m-5m",children:"₦2,000,000 - ₦5,000,000"}),c.jsx("option",{value:"over-5m",children:"Over ₦5,000,000"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Family Size"}),c.jsx("input",{type:"number",min:"1",value:b.additionalInfo.familySize,onChange:B=>N("additionalInfo","familySize",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Why do you deserve this scholarship? *"}),c.jsx("textarea",{value:b.additionalInfo.whyDeserve,onChange:B=>N("additionalInfo","whyDeserve",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:"4",placeholder:"Explain why you deserve this scholarship, your goals, and how it will help you...",required:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Circumstances"}),c.jsx("textarea",{value:b.additionalInfo.specialCircumstances,onChange:B=>N("additionalInfo","specialCircumstances",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:"3",placeholder:"Any special circumstances that should be considered..."})]})]})]});case 5:return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Review Your Application"}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Scholarship Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Title:"})," ",t.title]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Amount:"})," ₦",t.amount?.toLocaleString()]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Category:"})," ",t.category]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Deadline:"})," ",new Date(t.deadline).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"Application Summary"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Name:"})," ",b.personalInfo.firstName," ",b.personalInfo.lastName]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",b.personalInfo.email]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Institution:"})," ",b.academicInfo.institution]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Course:"})," ",b.academicInfo.courseOfStudy]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"GPA:"})," ",b.academicInfo.gpa]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Documents:"})," ",Object.values(b.documents).filter(Boolean).length," uploaded"]})]})]}),c.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:c.jsxs("div",{className:"flex items-start space-x-2",children:[c.jsx("input",{type:"checkbox",id:"terms",className:"mt-1",required:!0}),c.jsx("label",{htmlFor:"terms",className:"text-sm text-gray-700",children:"I confirm that all information provided is accurate and complete. I understand that providing false information may result in disqualification from this scholarship."})]})})]});default:return null}};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Apply for Scholarship"}),c.jsx("p",{className:"text-gray-600",children:t.title})]}),c.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:c.jsx(or,{className:"w-6 h-6"})})]})}),c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("div",{className:"flex items-center justify-between",children:S.map((B,Q)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${l>=B.id?"bg-red-500 border-red-500 text-white":"border-gray-300 text-gray-400"}`,children:l>B.id?c.jsx(nn,{className:"w-5 h-5"}):c.jsx(B.icon,{className:"w-5 h-5"})}),c.jsx("span",{className:`ml-2 text-sm font-medium ${l>=B.id?"text-gray-800":"text-gray-400"}`,children:B.title}),Q<S.length-1&&c.jsx("div",{className:`w-16 h-0.5 mx-4 ${l>B.id?"bg-red-500":"bg-gray-300"}`})]},B.id))})}),c.jsxs("div",{className:"p-6",children:[g&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(or,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("p",{className:"text-red-800 text-sm",children:g})]})}),te()]}),c.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("button",{onClick:G,disabled:l===1,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${l===1?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:text-gray-800 hover:bg-gray-200"}`,children:[c.jsx(yo,{className:"w-4 h-4 mr-2"}),"Previous"]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),l<S.length?c.jsxs("button",{onClick:U,className:"flex items-center px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:["Next",c.jsx(T2,{className:"w-4 h-4 ml-2"})]}):c.jsx("button",{onClick:$,disabled:h,className:`flex items-center px-6 py-2 rounded-lg transition-colors ${h?"bg-gray-400 text-white cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"}`,children:h?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(nn,{className:"w-4 h-4 mr-2"}),"Submit Application"]})})]})]})})]})})};function N9(){const t=Hn(),{user:e}=On(),[n,s]=I.useState([]),[a,l]=I.useState([]),[u,h]=I.useState(!0),[m,g]=I.useState(""),[v,b]=I.useState({category:"all",level:"all",state:"all",amount:"all"}),[w,S]=I.useState({savedScholarships:[],completedApplications:[]}),[N,M]=I.useState({}),[P,U]=I.useState([]),[G,$]=I.useState(!1),[te,B]=I.useState(null);I.useEffect(()=>{e&&!e.isAnonymous&&Q()},[e]);const Q=async()=>{try{const R=await v2(e.uid);S(R)}catch(R){console.error("Error loading user data:",R),C("Failed to load user data. Please refresh the page.","error")}};I.useEffect(()=>{k(),E();const R=a9(de=>{s(de)}),H=o9(de=>{l(de)});return()=>{typeof R=="function"&&R(),typeof H=="function"&&H()}},[]);const k=async()=>{h(!0);try{const R=await O2();s(Array.isArray(R)?R:[])}catch(R){console.error("Error loading scholarships:",R),C("Failed to load scholarships. Please refresh the page.","error"),s([])}finally{h(!1)}},E=async()=>{try{const R=await i9();l(Array.isArray(R)?R:[])}catch(R){console.error("Error loading announcements:",R)}},C=(R,H="success")=>{const de=Date.now()+Math.random(),pe={id:de,message:R,type:H,timestamp:Date.now()};U(he=>[...he,pe]),setTimeout(()=>{U(he=>he.filter(De=>De.id!==de))},5e3)},O=R=>{U(H=>H.filter(de=>de.id!==R))},z=(R,H)=>{M(de=>({...de,[R]:H}))},F=I.useMemo(()=>Array.isArray(n)?n.filter(R=>{if(!R||!R.title||!R.deadline)return!1;const de=[R.title||"",R.description||"",R.institution||""].join(" ").toLowerCase().includes(m.toLowerCase()),pe=v.category==="all"||R.category===v.category,he=v.level==="all"||R.level===v.level,De=v.state==="all"||R.state===v.state,Ie=Number(R.amount)||0,We=v.amount==="all"||v.amount==="low"&&Ie<1e5||v.amount==="medium"&&Ie>=1e5&&Ie<5e5||v.amount==="high"&&Ie>=5e5;return de&&pe&&he&&De&&We}):[],[n,m,v]),D=async R=>{if(!e||e.isAnonymous){C("Please log in to save scholarships","error"),t("/login");return}const H=R?.id||R?.scholarshipId||R?._id||R?.key;if(!H){console.error("Cannot save scholarship - ID missing:",R),C("Unable to save scholarship - missing ID","error");return}const de=`save-${H}`;if(!N[de]){z(de,!0);try{if(w.savedScholarships.some(he=>(he.id||he.scholarshipId||he._id||he.key)===H))await b2(e.uid,H),C("Scholarship removed from saved list","success");else{const he={...R,id:H};await x2(e.uid,he),C("Scholarship saved successfully","success")}await Q()}catch(pe){console.error("Error toggling save:",pe);const he=w.savedScholarships.some(De=>(De.id||De.scholarshipId||De._id||De.key)===H)?"removing":"saving";C(`Failed ${he} scholarship. Please try again.`,"error")}finally{z(de,!1)}}},Te=async R=>{if(console.log("Apply button clicked for scholarship:",R),!R){console.error("Scholarship object is null or undefined"),C("Scholarship data is missing","error");return}const H=R.id||R.scholarshipId||R._id||R.key;if(!H){console.error("Scholarship ID is missing. Available fields:",Object.keys(R)),C("Scholarship ID is missing. Please contact support.","error");return}if(!e||e.isAnonymous){C("Please log in to apply for scholarships","error"),t("/login");return}if(w.completedApplications.some(he=>he.id===H)){C("You have already applied for this scholarship","info");return}if(re(R.deadline)<=0){C("This scholarship application deadline has passed","error");return}B(R),$(!0)},Ve=()=>{$(!1),B(null)},ne=async R=>{C("Application submitted successfully! Check your email for confirmation.","success"),await Q(),Ve()},re=R=>{if(!R)return 0;const H=new Date(R),de=new Date,pe=H.getTime()-de.getTime(),he=Math.ceil(pe/(1e3*3600*24));return he>0?he:0},fe=R=>{const H=re(R.deadline);return H===0?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold bg-red-100 text-red-800 rounded-full",children:[c.jsx(or,{className:"w-3 h-3 mr-1"}),"Expired"]}):H<=7?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold bg-orange-100 text-orange-800 rounded-full",children:[c.jsx(PT,{className:"w-3 h-3 mr-1"}),"Urgent"]}):H<=30?c.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold bg-yellow-100 text-yellow-800 rounded-full",children:[c.jsx(Sl,{className:"w-3 h-3 mr-1"}),"Soon"]}):c.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full",children:[c.jsx(nn,{className:"w-3 h-3 mr-1"}),"Open"]})},Ee=({scholarship:R})=>{if(!R)return c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"text-center text-gray-500",children:[c.jsx(PT,{className:"w-8 h-8 mx-auto mb-2"}),c.jsx("p",{children:"Scholarship data unavailable"})]})});const H=R.id||R.scholarshipId||R._id||R.key,de=re(R.deadline),pe=w.savedScholarships.some(ce=>(ce.id||ce.scholarshipId||ce._id||ce.key)===H),he=w.completedApplications.some(ce=>(ce.id||ce.scholarshipId||ce._id||ce.key)===H),De=de<=0,Ie=H&&N[`apply-${H}`],We=H&&N[`save-${H}`],yn=he?{text:"Applied",icon:c.jsx(nn,{className:"w-4 h-4"}),className:"bg-green-500 text-white cursor-not-allowed",disabled:!0}:De?{text:"Expired",icon:c.jsx(or,{className:"w-4 h-4"}),className:"bg-gray-300 text-gray-500 cursor-not-allowed",disabled:!0}:Ie?{text:"Applying...",icon:c.jsx(ly,{className:"w-4 h-4 animate-spin"}),className:"bg-red-400 text-white cursor-not-allowed",disabled:!0}:{text:"Apply Now",icon:null,className:"bg-red-500 text-white hover:bg-red-600 focus:ring-4 focus:ring-red-200",disabled:!1};return c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1 pr-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[fe(R),c.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${R.category==="Government"?"bg-blue-100 text-blue-800":R.category==="Private"?"bg-purple-100 text-purple-800":R.category==="Corporate"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:R.category||"Other"})]}),c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2 line-clamp-2",children:R.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:R.description})]}),e&&!e.isAnonymous&&c.jsx("button",{onClick:()=>D(R),disabled:We,className:`p-2 rounded-full transition-all duration-200 ${pe?"text-red-500 bg-red-50 hover:bg-red-100":"text-gray-400 hover:text-red-500 hover:bg-red-50"} ${We?"opacity-50 cursor-not-allowed":""}`,title:pe?"Remove from saved":"Save scholarship",children:We?c.jsx(ly,{className:"w-5 h-5 animate-spin"}):c.jsx(Bu,{className:`w-5 h-5 ${pe?"fill-current":""}`})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(vd,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:R.level||"Not specified"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(uL,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"truncate",children:R.state||"Not specified"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(qV,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"truncate",children:["₦",(R.amount||0).toLocaleString()]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Dm,{className:"w-4 h-4 flex-shrink-0"}),c.jsxs("span",{className:"truncate",children:[R.slots||"Limited"," slots"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Sl,{className:"w-4 h-4 text-gray-500"}),c.jsx("span",{className:"text-gray-600 font-medium",children:De?"Expired":`${de} day${de!==1?"s":""} left`})]}),c.jsx("div",{className:"text-sm text-gray-500",children:R.deadline?new Date(R.deadline).toLocaleDateString("en-NG",{year:"numeric",month:"short",day:"numeric"}):"No deadline specified"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:ce=>{ce.preventDefault(),console.log("Button clicked, scholarship object:",R),Te(R)},disabled:yn.disabled,className:`flex-1 px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 flex items-center justify-center space-x-2 ${yn.className}`,"aria-label":`Apply for ${R?.title||"scholarship"}`,children:[yn.icon,c.jsx("span",{children:yn.text})]}),R.website&&c.jsx("button",{className:"px-4 py-2.5 text-sm font-medium border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-200 flex items-center justify-center",onClick:()=>{try{window.open(R.website,"_blank","noopener,noreferrer")}catch(ce){console.error("Error opening website:",ce),C("Unable to open website","error")}},title:"Visit scholarship website","aria-label":`Visit ${R.title} website`,children:c.jsx(GV,{className:"w-4 h-4"})})]}),(!e||e.isAnonymous)&&c.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(OT,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("button",{onClick:()=>t("/login"),className:"font-medium underline hover:no-underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded",children:"Log in"})," to apply for scholarships and save your favorites"]})]})})]})})},L=({announcement:R})=>{if(!R.expectedStart)return null;const H=Math.ceil((new Date(R.expectedStart)-new Date)/(1e3*60*60*24));return c.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-4 hover:shadow-sm transition-shadow duration-200",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-500 rounded-full flex-shrink-0",children:c.jsx(Al,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-semibold text-gray-800 mb-1 line-clamp-2",children:R.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:R.description}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(E2,{className:"w-3 h-3"}),c.jsxs("span",{children:["Expected: ",new Date(R.expectedStart).toLocaleDateString("en-NG")]})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Sl,{className:"w-3 h-3"}),c.jsx("span",{children:H>0?`${H} days away`:"Starting soon"})]})]})]})]})})},ie=({notification:R})=>c.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm border-l-4 ${R.type==="success"?"bg-white border-green-500 text-gray-800":R.type==="error"?"bg-white border-red-500 text-gray-800":R.type==="info"?"bg-white border-blue-500 text-gray-800":"bg-white border-gray-500 text-gray-800"} animate-slide-in`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start space-x-2",children:[R.type==="success"&&c.jsx(nn,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),R.type==="error"&&c.jsx(or,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),R.type==="info"&&c.jsx(OT,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-sm font-medium",children:R.message})]}),c.jsx("button",{onClick:()=>O(R.id),className:"ml-4 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 rounded","aria-label":"Close notification",children:c.jsx(or,{className:"w-4 h-4"})})]})});return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[G&&te&&c.jsx(S9,{scholarship:te,onClose:Ve,onSuccess:ne}),P.map(R=>c.jsx(ie,{notification:R},R.id)),c.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between py-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50","aria-label":"Go back to dashboard",children:c.jsx(yo,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Scholarships"}),c.jsx("p",{className:"text-gray-600",children:"Find and apply for Nigerian scholarships"})]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{className:"text-sm text-gray-500",children:u?"Loading...":`${F.length} scholarship${F.length!==1?"s":""} available`})})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[c.jsx(qL,{className:"w-5 h-5 text-blue-500"}),c.jsx("span",{children:"Upcoming Scholarships"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(R=>c.jsx(L,{announcement:R},R.id))})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Kf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Search scholarships...",value:m,onChange:R=>g(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200","aria-label":"Search scholarships"})]}),c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[c.jsxs("select",{value:v.category,onChange:R=>b(H=>({...H,category:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200","aria-label":"Filter by category",children:[c.jsx("option",{value:"all",children:"All Categories"}),c.jsx("option",{value:"Government",children:"Government"}),c.jsx("option",{value:"Private",children:"Private"}),c.jsx("option",{value:"Corporate",children:"Corporate"})]}),c.jsxs("select",{value:v.level,onChange:R=>b(H=>({...H,level:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200","aria-label":"Filter by education level",children:[c.jsx("option",{value:"all",children:"All Levels"}),c.jsx("option",{value:"Undergraduate",children:"Undergraduate"}),c.jsx("option",{value:"Postgraduate",children:"Postgraduate"}),c.jsx("option",{value:"PhD",children:"PhD"})]}),c.jsxs("select",{value:v.state,onChange:R=>b(H=>({...H,state:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200","aria-label":"Filter by state",children:[c.jsx("option",{value:"all",children:"All States"}),c.jsx("option",{value:"Lagos",children:"Lagos"}),c.jsx("option",{value:"FCT",children:"FCT"}),c.jsx("option",{value:"Rivers",children:"Rivers"}),c.jsx("option",{value:"Kano",children:"Kano"}),c.jsx("option",{value:"Kaduna",children:"Kaduna"})]}),c.jsxs("select",{value:v.amount,onChange:R=>b(H=>({...H,amount:R.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors duration-200","aria-label":"Filter by amount",children:[c.jsx("option",{value:"all",children:"All Amounts"}),c.jsx("option",{value:"low",children:"Under ₦100k"}),c.jsx("option",{value:"medium",children:"₦100k - ₦500k"}),c.jsx("option",{value:"high",children:"Over ₦500k"})]})]})]})}),!u&&n.length===0&&c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx(or,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Unable to load scholarships"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"There was an error loading scholarship data."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Refresh Page"})]})}),u&&c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ly,{className:"w-12 h-12 text-red-500 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading scholarships..."})]})}),!u&&n.length>0&&F.length===0&&c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Kf,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scholarships found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search terms or filters"}),c.jsx("button",{onClick:()=>{g(""),b({category:"all",level:"all",state:"all",amount:"all"})},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200",children:"Clear Filters"})]})}),!u&&F.length>0&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map((R,H)=>c.jsx(Ee,{scholarship:R},R.id||`scholarship-${H}`))}),!u&&n.length>0&&c.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-red-500",children:n.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Scholarships"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-green-500",children:n.filter(R=>re(R.deadline)>30).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Open Applications"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-orange-500",children:n.filter(R=>{const H=re(R.deadline);return H>0&&H<=30}).length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Closing Soon"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:["₦",n.reduce((R,H)=>R+(H.amount||0),0).toLocaleString()]}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]})]})})]}),c.jsx("style",{children:`
        @keyframes slide-in {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        .animate-slide-in {
          animation: slide-in 0.3s ease-out;
        }
        
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
        
        .line-clamp-3 {
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})}const B2=I.createContext({});function Bv(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fv=typeof window<"u",F2=Fv?I.useLayoutEffect:I.useEffect,qv=I.createContext(null);function Hv(t,e){t.indexOf(e)===-1&&t.push(e)}function Pm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ci=(t,e,n)=>n>e?e:n<t?t:n;let Gv=()=>{};const ui={},q2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function H2(t){return typeof t=="object"&&t!==null}const G2=t=>/^0[^.\s]+$/u.test(t);function $v(t){let e;return()=>(e===void 0&&(e=t()),e)}const _s=t=>t,C9=(t,e)=>n=>e(t(n)),xd=(...t)=>t.reduce(C9),Ml=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Kv{constructor(){this.subscriptions=[]}add(e){return Hv(this.subscriptions,e),()=>Pm(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=t=>t*1e3,hr=t=>t/1e3;function $2(t,e){return e?t*(1e3/e):0}const R9=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t},K2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,j9=1e-7,I9=12;function k9(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=K2(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>j9&&++h<I9);return u}function bd(t,e,n,s){if(t===e&&n===s)return _s;const a=l=>k9(l,0,1,t,n);return l=>l===0||l===1?l:K2(a(l),e,s)}const Q2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y2=t=>e=>1-t(1-e),W2=bd(.33,1.53,.69,.99),Qv=Y2(W2),X2=Q2(Qv),Z2=t=>(t*=2)<1?.5*Qv(t):.5*(2-Math.pow(2,-10*(t-1))),Yv=t=>1-Math.sin(Math.acos(t)),J2=Y2(Yv),eC=Q2(Yv),D9=bd(.42,0,1,1),P9=bd(0,0,.58,1),tC=bd(.42,0,.58,1),nC=t=>Array.isArray(t)&&typeof t[0]!="number";function sC(t,e){return nC(t)?t[R9(0,t.length,e)]:t}const rC=t=>Array.isArray(t)&&typeof t[0]=="number",M9={linear:_s,easeIn:D9,easeInOut:tC,easeOut:P9,circIn:Yv,circInOut:eC,circOut:J2,backIn:Qv,backInOut:X2,backOut:W2,anticipate:Z2},O9=t=>typeof t=="string",qT=t=>{if(rC(t)){Gv(t.length===4);const[e,n,s,a]=t;return bd(e,n,s,a)}else if(O9(t))return M9[t];return t},tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V9(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(v){u.has(v)&&(g.schedule(v),t()),v(h)}const g={schedule:(v,b=!1,w=!1)=>{const N=w&&a?n:s;return b&&u.add(v),N.has(v)||N.add(v),v},cancel:v=>{s.delete(v),u.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const L9=40;function iC(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=tf.reduce(($,te)=>($[te]=V9(l),$),{}),{setup:h,read:m,resolveKeyframes:g,preUpdate:v,update:b,preRender:w,render:S,postRender:N}=u,M=()=>{const $=ui.useManualTiming?a.timestamp:performance.now();n=!1,ui.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min($-a.timestamp,L9),1)),a.timestamp=$,a.isProcessing=!0,h.process(a),m.process(a),g.process(a),v.process(a),b.process(a),w.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},P=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:tf.reduce(($,te)=>{const B=u[te];return $[te]=(Q,k=!1,E=!1)=>(n||P(),B.schedule(Q,k,E)),$},{}),cancel:$=>{for(let te=0;te<tf.length;te++)u[tf[te]].cancel($)},state:a,steps:u}}const{schedule:mt,cancel:di,state:fn,steps:uy}=iC(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let xf;function U9(){xf=void 0}const Fn={now:()=>(xf===void 0&&Fn.set(fn.isProcessing||ui.useManualTiming?fn.timestamp:performance.now()),xf),set:t=>{xf=t,queueMicrotask(U9)}},aC=t=>e=>typeof e=="string"&&e.startsWith(t),Wv=aC("--"),z9=aC("var(--"),Xv=t=>z9(t)?B9.test(t.split("/*")[0].trim()):!1,B9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ql={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qu={...Ql,transform:t=>ci(0,1,t)},nf={...Ql,default:1},Au=t=>Math.round(t*1e5)/1e5,Zv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F9(t){return t==null}const q9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jv=(t,e)=>n=>!!(typeof n=="string"&&q9.test(n)&&n.startsWith(t)||e&&!F9(n)&&Object.prototype.hasOwnProperty.call(n,e)),oC=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Zv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},H9=t=>ci(0,255,t),dy={...Ql,transform:t=>Math.round(H9(t))},to={test:Jv("rgb","red"),parse:oC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+dy.transform(t)+", "+dy.transform(e)+", "+dy.transform(n)+", "+Au(qu.transform(s))+")"};function G9(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const r0={test:Jv("#"),parse:G9,transform:to.transform},wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=wd("deg"),fr=wd("%"),Re=wd("px"),$9=wd("vh"),K9=wd("vw"),HT={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},gl={test:Jv("hsl","hue"),parse:oC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+fr.transform(Au(e))+", "+fr.transform(Au(n))+", "+Au(qu.transform(s))+")"},Bt={test:t=>to.test(t)||r0.test(t)||gl.test(t),parse:t=>to.test(t)?to.parse(t):gl.test(t)?gl.parse(t):r0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):gl.transform(t),getAnimatableNone:t=>{const e=Bt.parse(t);return e.alpha=0,Bt.transform(e)}},Q9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y9(t){return isNaN(t)&&typeof t=="string"&&(t.match(Zv)?.length||0)+(t.match(Q9)?.length||0)>0}const lC="number",cC="color",W9="var",X9="var(",GT="${}",Z9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(Z9,m=>(Bt.test(m)?(s.color.push(l),a.push(cC),n.push(Bt.parse(m))):m.startsWith(X9)?(s.var.push(l),a.push(W9),n.push(m)):(s.number.push(l),a.push(lC),n.push(parseFloat(m))),++l,GT)).split(GT);return{values:n,split:h,indexes:s,types:a}}function uC(t){return Hu(t).values}function dC(t){const{split:e,types:n}=Hu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===lC?l+=Au(a[u]):h===cC?l+=Bt.transform(a[u]):l+=a[u]}return l}}const J9=t=>typeof t=="number"?0:Bt.test(t)?Bt.getAnimatableNone(t):t;function eU(t){const e=uC(t);return dC(t)(e.map(J9))}const da={test:Y9,parse:uC,createTransformer:dC,getAnimatableNone:eU};function hy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tU({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,m=2*n-h;a=hy(m,h,t+1/3),l=hy(m,h,t),u=hy(m,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Yf(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,fy=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},nU=[r0,to,gl],sU=t=>nU.find(e=>e.test(t));function $T(t){const e=sU(t);if(!e)return!1;let n=e.parse(t);return e===gl&&(n=tU(n)),n}const KT=(t,e)=>{const n=$T(t),s=$T(e);if(!n||!s)return Yf(t,e);const a={...n};return l=>(a.red=fy(n.red,s.red,l),a.green=fy(n.green,s.green,l),a.blue=fy(n.blue,s.blue,l),a.alpha=yt(n.alpha,s.alpha,l),to.transform(a))},i0=new Set(["none","hidden"]);function rU(t,e){return i0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iU(t,e){return n=>yt(t,e,n)}function ex(t){return typeof t=="number"?iU:typeof t=="string"?Xv(t)?Yf:Bt.test(t)?KT:lU:Array.isArray(t)?hC:typeof t=="object"?Bt.test(t)?KT:aU:Yf}function hC(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>ex(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function aU(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=ex(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function oU(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const lU=(t,e)=>{const n=da.createTransformer(e),s=Hu(t),a=Hu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?i0.has(t)&&!a.values.length||i0.has(e)&&!s.values.length?rU(t,e):xd(hC(oU(s,a),a.values),n):Yf(t,e)};function fC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):ex(t)(t,e)}const cU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>mt.update(e,n),stop:()=>di(e),now:()=>fn.isProcessing?fn.timestamp:Fn.now()}},mC=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Wf=2e4;function tx(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Wf;)e+=n,s=t.next(e);return e>=Wf?1/0:e}function pC(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(tx(s),Wf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:hr(a)}}const uU=5;function gC(t,e,n){const s=Math.max(e-uU,0);return $2(n-t(s),e-s)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function dU({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:s=Nt.mass}){let a,l,u=1-e;u=ci(Nt.minDamping,Nt.maxDamping,u),t=ci(Nt.minDuration,Nt.maxDuration,hr(t)),u<1?(a=g=>{const v=g*u,b=v*t,w=v-n,S=a0(g,u),N=Math.exp(-b);return my-w/S*N},l=g=>{const b=g*u*t,w=b*n+n,S=Math.pow(u,2)*Math.pow(g,2)*t,N=Math.exp(-b),M=a0(Math.pow(g,2),u);return(-a(g)+my>0?-1:1)*((w-S)*N)/M}):(a=g=>{const v=Math.exp(-g*t),b=(g-n)*t+1;return-my+v*b},l=g=>{const v=Math.exp(-g*t),b=(n-g)*(t*t);return v*b});const h=5/t,m=fU(a,l,h);if(t=Ls(t),isNaN(m))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const g=Math.pow(m,2)*s;return{stiffness:g,damping:u*2*Math.sqrt(s*g),duration:t}}}const hU=12;function fU(t,e,n){let s=n;for(let a=1;a<hU;a++)s=s-t(s)/e(s);return s}function a0(t,e){return t*Math.sqrt(1-e*e)}const mU=["duration","bounce"],pU=["stiffness","damping","mass"];function QT(t,e){return e.some(n=>t[n]!==void 0)}function gU(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!QT(t,pU)&&QT(t,mU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*ci(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Nt.mass,stiffness:a,damping:l}}else{const n=dU(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function Gu(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:g,mass:v,duration:b,velocity:w,isResolvedFromDuration:S}=gU({...n,velocity:-hr(n.velocity||0)}),N=w||0,M=g/(2*Math.sqrt(m*v)),P=u-l,U=hr(Math.sqrt(m/v)),G=Math.abs(P)<5;s||(s=G?Nt.restSpeed.granular:Nt.restSpeed.default),a||(a=G?Nt.restDelta.granular:Nt.restDelta.default);let $;if(M<1){const B=a0(U,M);$=Q=>{const k=Math.exp(-M*U*Q);return u-k*((N+M*U*P)/B*Math.sin(B*Q)+P*Math.cos(B*Q))}}else if(M===1)$=B=>u-Math.exp(-U*B)*(P+(N+U*P)*B);else{const B=U*Math.sqrt(M*M-1);$=Q=>{const k=Math.exp(-M*U*Q),E=Math.min(B*Q,300);return u-k*((N+M*U*P)*Math.sinh(E)+B*P*Math.cosh(E))/B}}const te={calculatedDuration:S&&b||null,next:B=>{const Q=$(B);if(S)h.done=B>=b;else{let k=B===0?N:0;M<1&&(k=B===0?Ls(N):gC($,B,Q));const E=Math.abs(k)<=s,C=Math.abs(u-Q)<=a;h.done=E&&C}return h.value=h.done?u:Q,h},toString:()=>{const B=Math.min(tx(te),Wf),Q=mC(k=>te.next(B*k).value,B,30);return B+"ms "+Q},toTransition:()=>{}};return te}Gu.applyToOptions=t=>{const e=pC(t,100,Gu);return t.ease=e.ease,t.duration=Ls(e.duration),t.type="keyframes",t};function o0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:m,restDelta:g=.5,restSpeed:v}){const b=t[0],w={done:!1,value:b},S=E=>h!==void 0&&E<h||m!==void 0&&E>m,N=E=>h===void 0?m:m===void 0||Math.abs(h-E)<Math.abs(m-E)?h:m;let M=n*e;const P=b+M,U=u===void 0?P:u(P);U!==P&&(M=U-b);const G=E=>-M*Math.exp(-E/s),$=E=>U+G(E),te=E=>{const C=G(E),O=$(E);w.done=Math.abs(C)<=g,w.value=w.done?U:O};let B,Q;const k=E=>{S(w.value)&&(B=E,Q=Gu({keyframes:[w.value,N(w.value)],velocity:gC($,E,w.value),damping:a,stiffness:l,restDelta:g,restSpeed:v}))};return k(0),{calculatedDuration:null,next:E=>{let C=!1;return!Q&&B===void 0&&(C=!0,te(E),k(E)),B!==void 0&&E>=B?Q.next(E-B):(!C&&te(E),w)}}}function yU(t,e,n){const s=[],a=n||ui.mix||fC,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||_s:e;h=xd(m,h)}s.push(h)}return s}function yC(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Gv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=yU(e,s,a),m=h.length,g=v=>{if(u&&v<t[0])return e[0];let b=0;if(m>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const w=Ml(t[b],t[b+1],v);return h[b](w)};return n?v=>g(ci(t[0],t[l-1],v)):g}function vC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Ml(0,e,s);t.push(yt(n,1,a))}}function xC(t){const e=[0];return vC(e,t.length-1),e}function vU(t,e){return t.map(n=>n*e)}function xU(t,e){return t.map(()=>e||tC).splice(0,t.length-1)}function Su({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=nC(s)?s.map(qT):qT(s),l={done:!1,value:e[0]},u=vU(n&&n.length===e.length?n:xC(e),t),h=yC(u,e,{ease:Array.isArray(a)?a:xU(e,a)});return{calculatedDuration:t,next:m=>(l.value=h(m),l.done=m>=t,l)}}const bU=t=>t!==null;function nx(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(bU),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const wU={decay:o0,inertia:o0,tween:Su,keyframes:Su,spring:Gu};function bC(t){typeof t.type=="string"&&(t.type=wU[t.type])}class sx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const _U=t=>t/100;class rx extends sx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Fn.now()&&this.tick(Fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bC(e);const{type:n=Su,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const m=n||Su;m!==Su&&typeof h[0]!="number"&&(this.mixKeyframes=xd(_U,fC(h[0],h[1])),h=[0,100]);const g=m({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=tx(g));const{calculatedDuration:v}=g;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:v,repeat:b,repeatType:w,repeatDelay:S,type:N,onUpdate:M,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-g*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let $=this.currentTime,te=s;if(b){const E=Math.min(this.currentTime,a)/h;let C=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&C--,C=Math.min(C,b+1),!!(C%2)&&(w==="reverse"?(O=1-O,S&&(O-=S/h)):w==="mirror"&&(te=u)),$=ci(0,1,O)*h}const B=G?{done:!1,value:v[0]}:te.next($);l&&(B.value=l(B.value));let{done:Q}=B;!G&&m!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return k&&N!==o0&&(B.value=nx(v,this.options,P,this.speed)),M&&M(B.value),k&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return hr(this.calculatedDuration)}get time(){return hr(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Fn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=cU,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TU(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const no=t=>t*180/Math.PI,l0=t=>{const e=no(Math.atan2(t[1],t[0]));return c0(e)},EU={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:l0,rotateZ:l0,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},c0=t=>(t=t%360,t<0&&(t+=360),t),YT=l0,WT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),XT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AU={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:WT,scaleY:XT,scale:t=>(WT(t)+XT(t))/2,rotateX:t=>c0(no(Math.atan2(t[6],t[5]))),rotateY:t=>c0(no(Math.atan2(-t[2],t[0]))),rotateZ:YT,rotate:YT,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function u0(t){return t.includes("scale")?1:0}function d0(t,e){if(!t||t==="none")return u0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=AU,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=EU,a=h}if(!a)return u0(e);const l=s[e],u=a[1].split(",").map(NU);return typeof l=="function"?l(u):u[l]}const SU=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return d0(n,e)};function NU(t){return parseFloat(t.trim())}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wl=new Set(Yl),ZT=t=>t===Ql||t===Re,CU=new Set(["x","y","z"]),RU=Yl.filter(t=>!CU.has(t));function jU(t){const e=[];return RU.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ro={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d0(e,"x"),y:(t,{transform:e})=>d0(e,"y")};ro.translateX=ro.x;ro.translateY=ro.y;const io=new Set;let h0=!1,f0=!1,m0=!1;function wC(){if(f0){const t=Array.from(io).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=jU(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}f0=!1,h0=!1,io.forEach(t=>t.complete(m0)),io.clear()}function _C(){io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f0=!0)})}function IU(){m0=!0,_C(),wC(),m0=!1}class ix{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(io.add(this),h0||(h0=!0,mt.read(_C),mt.resolveKeyframes(wC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}TU(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),io.delete(this)}cancel(){this.state==="scheduled"&&(io.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kU=t=>t.startsWith("--");function DU(t,e,n){kU(e)?t.style.setProperty(e,n):t.style[e]=n}const PU=$v(()=>window.ScrollTimeline!==void 0),MU={};function OU(t,e){const n=$v(t);return()=>MU[e]??n()}const TC=OU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,JT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gu([0,.65,.55,1]),circOut:gu([.55,0,1,.45]),backIn:gu([.31,.01,.66,-.59]),backOut:gu([.33,1.53,.69,.99])};function EC(t,e){if(t)return typeof t=="function"?TC()?mC(t,e):"ease-out":rC(t)?gu(t):Array.isArray(t)?t.map(n=>EC(n,e)||JT.easeOut):JT[t]}function VU(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:m}={},g=void 0){const v={[e]:n};m&&(v.offset=m);const b=EC(h,a);Array.isArray(b)&&(v.easing=b);const w={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(w.pseudoElement=g),t.animate(v,w)}function ax(t){return typeof t=="function"&&"applyToOptions"in t}function LU({type:t,...e}){return ax(t)&&TC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UU extends sx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Gv(typeof e.type!="string");const g=LU(e);this.animation=VU(n,s,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=nx(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):DU(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return hr(Number(e))}get time(){return hr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&PU()?(this.animation.timeline=e,_s):n(this)}}const AC={anticipate:Z2,backInOut:X2,circInOut:eC};function zU(t){return t in AC}function BU(t){typeof t.ease=="string"&&zU(t.ease)&&(t.ease=AC[t.ease])}const eE=10;class FU extends UU{constructor(e){BU(e),bC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new rx({...u,autoplay:!1}),m=Ls(this.finishedTime??this.time);n.setWithVelocity(h.sample(m-eE).value,h.sample(m).value,eE),h.stop()}}const tE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(da.test(t)||t==="0")&&!t.startsWith("url("));function qU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HU(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=tE(a,e),h=tE(l,e);return!u||!h?!1:qU(t)||(n==="spring"||ax(n))&&s}function p0(t){t.duration=0,t.type}const GU=new Set(["opacity","clipPath","filter","transform"]),$U=$v(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KU(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=e.owner.getProps();return $U()&&n&&GU.has(n)&&(n!=="transform"||!g)&&!m&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const QU=40;class YU extends sx{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:m,motionValue:g,element:v,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Fn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:v,...b},S=v?.KeyframeResolver||ix;this.keyframeResolver=new S(h,(N,M,P)=>this.onKeyframesResolved(N,M,w,!P),m,g,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:m,isHandoff:g,onUpdate:v}=s;this.resolvedAt=Fn.now(),HU(e,l,u,h)||((ui.instantAnimations||!m)&&v?.(nx(e,s,n)),e[0]=e[e.length-1],p0(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>QU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!g&&KU(w)?new FU({...w,element:w.motionValue.owner.current}):new rx(w);S.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IU()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class WU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e){const n=this.animations.map(s=>s.attachTimeline(e));return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class XU extends WU{then(e,n){return this.finished.finally(e).then(()=>{})}}const ZU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JU(t){const e=ZU.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function SC(t,e,n=1){const[s,a]=JU(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return q2(u)?parseFloat(u):u}return Xv(a)?SC(a,e,n+1):a}function ox(t,e){return t?.[e]??t?.default??t}const NC=new Set(["width","height","top","left","right","bottom",...Yl]),e8={test:t=>t==="auto",parse:t=>t},CC=t=>e=>e.test(t),RC=[Ql,Re,fr,$i,K9,$9,e8],nE=t=>RC.find(CC(t));function t8(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||G2(t):!0}const n8=new Set(["brightness","contrast","saturate","opacity"]);function s8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Zv)||[];if(!s)return t;const a=n.replace(s,"");let l=n8.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const r8=/\b([a-z-]*)\(.*?\)/gu,g0={...da,getAnimatableNone:t=>{const e=t.match(r8);return e?e.map(s8).join(" "):t}},sE={...Ql,transform:Math.round},i8={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:nf,scaleX:nf,scaleY:nf,scaleZ:nf,skew:$i,skewX:$i,skewY:$i,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:qu,originX:HT,originY:HT,originZ:Re},lx={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...i8,zIndex:sE,fillOpacity:qu,strokeOpacity:qu,numOctaves:sE},a8={...lx,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:g0,WebkitFilter:g0},jC=t=>a8[t];function IC(t,e){let n=jC(t);return n!==g0&&(n=da),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const o8=new Set(["auto","none","0"]);function l8(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!o8.has(l)&&Hu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=IC(n,a)}class c8 extends ix{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let g=e[m];if(typeof g=="string"&&(g=g.trim(),Xv(g))){const v=SC(g,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!NC.has(s)||e.length!==2)return;const[a,l]=e,u=nE(a),h=nE(l);if(u!==h)if(ZT(u)&&ZT(h))for(let m=0;m<e.length;m++){const g=e[m];typeof g=="string"&&(e[m]=parseFloat(g))}else ro[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||t8(e[a]))&&s.push(a);s.length&&l8(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ro[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=ro[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function kC(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const DC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function u8(t){return H2(t)&&"offsetHeight"in t}const rE=30,d8=t=>!isNaN(parseFloat(t)),Nu={current:void 0};class h8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Fn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=d8(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Kv);const s=this.events[e].add(n);return e==="change"?()=>{s(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Nu.current&&Nu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rE);return $2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fo(t,e){return new h8(t,e)}const{schedule:cx}=iC(queueMicrotask,!1),ks={x:!1,y:!1};function PC(){return ks.x||ks.y}function f8(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function MC(t,e){const n=kC(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function iE(t){return!(t.pointerType==="touch"||PC())}function m8(t,e,n={}){const[s,a,l]=MC(t,n),u=h=>{if(!iE(h))return;const{target:m}=h,g=e(m,h);if(typeof g!="function"||!m)return;const v=b=>{iE(b)&&(g(b),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const OC=(t,e)=>e?t===e?!0:OC(t,e.parentElement):!1,ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,p8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g8(t){return p8.has(t.tagName)||t.tabIndex!==-1}const bf=new WeakSet;function aE(t){return e=>{e.key==="Enter"&&t(e)}}function py(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y8=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=aE(()=>{if(bf.has(n))return;py(n,"down");const a=aE(()=>{py(n,"up")}),l=()=>py(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function oE(t){return ux(t)&&!PC()}function v8(t,e,n={}){const[s,a,l]=MC(t,n),u=h=>{const m=h.currentTarget;if(!oE(h))return;bf.add(m);const g=e(m,h),v=(S,N)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",w),bf.has(m)&&bf.delete(m),oE(S)&&typeof g=="function"&&g(S,{success:N})},b=S=>{v(S,m===window||m===document||n.useGlobalTarget||OC(m,S.target))},w=S=>{v(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",w,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),u8(h)&&(h.addEventListener("focus",g=>y8(g,a)),!g8(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function dx(t){return H2(t)&&"ownerSVGElement"in t}function VC(t){return dx(t)&&t.tagName==="svg"}function x8(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],u=t[3+n],h=yC(a,l,u);return e?h(s):h}const rn=t=>!!(t&&t.getVelocity),b8=[...RC,Bt,da],w8=t=>b8.find(CC(t)),hx=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _8(t=!0){const e=I.useContext(qv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=I.useId();I.useEffect(()=>{if(t)return a(l)},[t]);const u=I.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const LC=I.createContext({strict:!1}),lE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const t in lE)Ol[t]={isEnabled:e=>lE[t].some(n=>!!e[n])};function T8(t){for(const e in t)Ol[e]={...Ol[e],...t[e]}}const E8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||E8.has(t)}let UC=t=>!Xf(t);function A8(t){typeof t=="function"&&(UC=e=>e.startsWith("on")?!Xf(e):t(e))}try{A8(require("@emotion/is-prop-valid").default)}catch{}function S8(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(UC(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Mm=I.createContext({});function Om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $u(t){return typeof t=="string"||Array.isArray(t)}const fx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mx=["initial",...fx];function Vm(t){return Om(t.animate)||mx.some(e=>$u(t[e]))}function zC(t){return!!(Vm(t)||t.variants)}function N8(t,e){if(Vm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||$u(n)?n:void 0,animate:$u(s)?s:void 0}}return t.inherit!==!1?e:{}}function C8(t){const{initial:e,animate:n}=N8(t,I.useContext(Mm));return I.useMemo(()=>({initial:e,animate:n}),[cE(e),cE(n)])}function cE(t){return Array.isArray(t)?t.join(" "):t}const Ku={};function R8(t){for(const e in t)Ku[e]=t[e],Wv(e)&&(Ku[e].isCSSVariable=!0)}function BC(t,{layout:e,layoutId:n}){return Wl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ku[t]||t==="opacity")}const j8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},I8=Yl.length;function k8(t,e,n){let s="",a=!0;for(let l=0;l<I8;l++){const u=Yl[l],h=t[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||n){const g=DC(h,lx[u]);if(!m){a=!1;const v=j8[u]||u;s+=`${v}(${g}) `}n&&(e[u]=g)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function px(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const m in e){const g=e[m];if(Wl.has(m)){u=!0;continue}else if(Wv(m)){a[m]=g;continue}else{const v=DC(g,lx[m]);m.startsWith("origin")?(h=!0,l[m]=v):s[m]=v}}if(e.transform||(u||n?s.transform=k8(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:m="50%",originY:g="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${g} ${v}`}}const gx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FC(t,e,n){for(const s in e)!rn(e[s])&&!BC(s,n)&&(t[s]=e[s])}function D8({transformTemplate:t},e){return I.useMemo(()=>{const n=gx();return px(n,e,t),Object.assign({},n.vars,n.style)},[e])}function P8(t,e){const n=t.style||{},s={};return FC(s,n,t),Object.assign(s,D8(t,e)),s}function M8(t,e){const n={},s=P8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const O8={offset:"stroke-dashoffset",array:"stroke-dasharray"},V8={offset:"strokeDashoffset",array:"strokeDasharray"};function L8(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?O8:V8;t[l.offset]=Re.transform(-s);const u=Re.transform(e),h=Re.transform(n);t[l.array]=`${u} ${h}`}function qC(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,g,v){if(px(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w}=t;b.transform&&(w.transform=b.transform,delete b.transform),(w.transform||b.transformOrigin)&&(w.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&L8(b,a,l,u,!1)}const HC=()=>({...gx(),attrs:{}}),GC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U8(t,e,n,s){const a=I.useMemo(()=>{const l=HC();return qC(l,e,GC(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};FC(l,t.style,t),a.style={...l,...a.style}}return a}const z8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yx(t){return typeof t!="string"||t.includes("-")?!1:!!(z8.indexOf(t)>-1||/[A-Z]/u.test(t))}function B8(t,e,n,{latestValues:s},a,l=!1){const h=(yx(t)?U8:M8)(e,s,a,t),m=S8(e,typeof t=="string",l),g=t!==I.Fragment?{...m,...h,ref:n}:{},{children:v}=e,b=I.useMemo(()=>rn(v)?v.get():v,[v]);return I.createElement(t,{...g,children:b})}function uE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function vx(t,e,n,s){if(typeof e=="function"){const[a,l]=uE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=uE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function wf(t){return rn(t)?t.get():t}function F8({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:q8(n,s,a,t),renderState:e()}}function q8(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=wf(l[w]);let{initial:u,animate:h}=t;const m=Vm(t),g=zC(t);e&&g&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?h:u;if(b&&typeof b!="boolean"&&!Om(b)){const w=Array.isArray(b)?b:[b];for(let S=0;S<w.length;S++){const N=vx(t,w[S]);if(N){const{transitionEnd:M,transition:P,...U}=N;for(const G in U){let $=U[G];if(Array.isArray($)){const te=v?$.length-1:0;$=$[te]}$!==null&&(a[G]=$)}for(const G in M)a[G]=M[G]}}}return a}const $C=t=>(e,n)=>{const s=I.useContext(Mm),a=I.useContext(qv),l=()=>F8(t,e,s,a);return n?l():Bv(l)};function xx(t,e,n){const{style:s}=t,a={};for(const l in s)(rn(s[l])||e.style&&rn(e.style[l])||BC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const H8=$C({scrapeMotionValuesFromProps:xx,createRenderState:gx});function KC(t,e,n){const s=xx(t,e,n);for(const a in t)if(rn(t[a])||rn(e[a])){const l=Yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const G8=$C({scrapeMotionValuesFromProps:KC,createRenderState:HC}),$8=Symbol.for("motionComponentSymbol");function yl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function K8(t,e,n){return I.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):yl(n)&&(n.current=s))},[e])}const bx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Q8="framerAppearId",QC="data-"+bx(Q8),YC=I.createContext({});function Y8(t,e,n,s,a){const{visualElement:l}=I.useContext(Mm),u=I.useContext(LC),h=I.useContext(qv),m=I.useContext(hx).reducedMotion,g=I.useRef(null);s=s||u.renderer,!g.current&&s&&(g.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=I.useContext(YC);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&W8(g.current,n,a,b);const w=I.useRef(!1);I.useInsertionEffect(()=>{v&&w.current&&v.update(n,h)});const S=n[QC],N=I.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return F2(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),N.current=!1),v.enteringChildren=void 0)}),v}function W8(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:g,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&yl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:g})}function WC(t){if(t)return t.options.allowProjection!==!1?t.projection:WC(t.parent)}function gy(t,{forwardMotionProps:e=!1}={},n,s){n&&T8(n);const a=yx(t)?G8:H8;function l(h,m){let g;const v={...I.useContext(hx),...h,layoutId:X8(h)},{isStatic:b}=v,w=C8(h),S=a(h,b);if(!b&&Fv){Z8();const N=J8(v);g=N.MeasureLayout,w.visualElement=Y8(t,S,v,s,N.ProjectionNode)}return c.jsxs(Mm.Provider,{value:w,children:[g&&w.visualElement?c.jsx(g,{visualElement:w.visualElement,...v}):null,B8(t,h,K8(S,w.visualElement,m),S,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=I.forwardRef(l);return u[$8]=t,u}function X8({layoutId:t}){const e=I.useContext(B2).id;return e&&t!==void 0?e+"-"+t:t}function Z8(t,e){I.useContext(LC).strict}function J8(t){const{drag:e,layout:n}=Ol;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function e7(t,e){if(typeof Proxy>"u")return gy;const n=new Map,s=(l,u)=>gy(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,gy(u,void 0,t,e)),n.get(u))})}function XC({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function t7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function yy(t){return t===void 0||t===1}function y0({scale:t,scaleX:e,scaleY:n}){return!yy(t)||!yy(e)||!yy(n)}function Xa(t){return y0(t)||ZC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZC(t){return dE(t.x)||dE(t.y)}function dE(t){return t&&t!=="0%"}function Zf(t,e,n){const s=t-n,a=e*s;return n+a}function hE(t,e,n,s,a){return a!==void 0&&(t=Zf(t,a,s)),Zf(t,n,s)+e}function v0(t,e=0,n=1,s,a){t.min=hE(t.min,e,n,s,a),t.max=hE(t.max,e,n,s,a)}function JC(t,{x:e,y:n}){v0(t.x,e.translate,e.scale,e.originPoint),v0(t.y,n.translate,n.scale,n.originPoint)}const fE=.999999999999,mE=1.0000000000001;function s7(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&xl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,JC(t,u)),s&&Xa(l.latestValues)&&xl(t,l.latestValues))}e.x<mE&&e.x>fE&&(e.x=1),e.y<mE&&e.y>fE&&(e.y=1)}function vl(t,e){t.min=t.min+e,t.max=t.max+e}function pE(t,e,n,s,a=.5){const l=yt(t.min,t.max,a);v0(t,e,n,l,s)}function xl(t,e){pE(t.x,e.x,e.scaleX,e.scale,e.originX),pE(t.y,e.y,e.scaleY,e.scale,e.originY)}function eR(t,e){return XC(n7(t.getBoundingClientRect(),e))}function r7(t,e,n){const s=eR(t,n),{scroll:a}=e;return a&&(vl(s.x,a.offset.x),vl(s.y,a.offset.y)),s}const gE=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:gE(),y:gE()}),yE=()=>({min:0,max:0}),St=()=>({x:yE(),y:yE()}),x0={current:null},tR={current:!1};function i7(){if(tR.current=!0,!!Fv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x0.current=t.matches;t.addEventListener("change",e),e()}else x0.current=!1}const Qu=new WeakMap;function a7(t,e,n){for(const s in e){const a=e[s],l=n[s];if(rn(a))t.addValue(s,a);else if(rn(l))t.addValue(s,fo(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,fo(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const vE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ix,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Fn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,mt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Vm(n),this.isVariantNode=zC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const S=b[w];m[w]!==void 0&&rn(S)&&S.set(m[w])}}mount(e){this.current=e,Qu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),tR.current||i7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x0.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),di(this.notifyUpdate),di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Wl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&mt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ol){const n=Ol[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):St()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vE.length;s++){const a=vE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=a7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(q2(s)||G2(s))?s=parseFloat(s):!w8(s)&&da.test(n)&&(s=IC(e,n)),this.setBaseTarget(e,rn(s)?s.get():s)),rn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=vx(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!rn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Kv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cx.render(this.render)}}class sR extends nR{constructor(){super(...arguments),this.KeyframeResolver=c8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function rR(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function o7(t){return window.getComputedStyle(t)}class iR extends sR{constructor(){super(...arguments),this.type="html",this.renderInstance=rR}readValueFromInstance(e,n){if(Wl.has(n))return this.projection?.isProjecting?u0(n):SU(e,n);{const s=o7(e),a=(Wv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eR(e,n)}build(e,n,s){px(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return xx(e,n,s)}}const aR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l7(t,e,n,s){rR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(aR.has(a)?a:bx(a),e.attrs[a])}class oR extends sR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=St}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wl.has(n)){const s=jC(n);return s&&s.default||0}return n=aR.has(n)?n:bx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return KC(e,n,s)}build(e,n,s){qC(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){l7(e,n,s,a)}mount(e){this.isSVGTag=GC(e.tagName),super.mount(e)}}const c7=(t,e)=>yx(t)?new oR(e):new iR(e,{allowProjection:t!==I.Fragment});function Nl(t,e,n){const s=t.getProps();return vx(s,e,n!==void 0?n:s.custom,t)}const b0=t=>Array.isArray(t);function u7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fo(n))}function d7(t){return b0(t)?t[t.length-1]||0:t}function h7(t,e){const n=Nl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=d7(l[u]);u7(t,u,h)}}function f7(t){return!!(rn(t)&&t.add)}function w0(t,e){const n=t.getValue("willChange");if(f7(n))return n.add(e);if(!n&&ui.WillChange){const s=new ui.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function lR(t){return t.props[QC]}const m7=t=>t!==null;function p7(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(m7),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const g7={type:"spring",stiffness:500,damping:25,restSpeed:10},y7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),v7={type:"keyframes",duration:.8},x7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b7=(t,{keyframes:e})=>e.length>2?v7:Wl.has(t)?t.startsWith("scale")?y7(e[1]):g7:x7;function w7({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:m,elapsed:g,...v}){return!!Object.keys(v).length}const wx=(t,e,n,s={},a,l)=>u=>{const h=ox(s,t)||{},m=h.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Ls(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-g,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};w7(h)||Object.assign(v,b7(t,v)),v.duration&&(v.duration=Ls(v.duration)),v.repeatDelay&&(v.repeatDelay=Ls(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(p0(v),v.delay===0&&(b=!0)),(ui.instantAnimations||ui.skipAnimations)&&(b=!0,p0(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const w=p7(v.keyframes,h);if(w!==void 0){mt.update(()=>{v.onUpdate(w),v.onComplete()});return}}return h.isSync?new rx(v):new YU(v)};function _7({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function _x(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const m=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const v in h){const b=t.getValue(v,t.latestValues[v]??null),w=h[v];if(w===void 0||g&&_7(g,v))continue;const S={delay:n,...ox(l||{},v)},N=b.get();if(N!==void 0&&!b.isAnimating&&!Array.isArray(w)&&w===N&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const U=lR(t);if(U){const G=window.MotionHandoffAnimation(U,v,mt);G!==null&&(S.startTime=G,M=!0)}}w0(t,v),b.start(wx(v,b,w,t.shouldReduceMotion&&NC.has(v)?{type:!1}:S,t,M));const P=b.animation;P&&m.push(P)}return u&&Promise.all(m).then(()=>{mt.update(()=>{u&&h7(t,u)})}),m}function cR(t,e,n,s=0,a=1){const l=Array.from(t).sort((g,v)=>g.sortNodePosition(v)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function _0(t,e,n={}){const s=Nl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(_x(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=a;return T7(t,e,m,g,v,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function T7(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(_0(m,e,{...u,delay:n+(typeof s=="function"?0:s)+cR(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function E7(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>_0(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=_0(t,e,n);else{const a=typeof e=="function"?Nl(t,e,n.custom):e;s=Promise.all(_x(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function uR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const A7=mx.length;function dR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A7;n++){const s=mx[n],a=t.props[s];($u(a)||a===!1)&&(e[s]=a)}return e}const S7=[...fx].reverse(),N7=fx.length;function C7(t){return e=>Promise.all(e.map(({animation:n,options:s})=>E7(t,n,s)))}function R7(t){let e=C7(t),n=xE(),s=!0;const a=m=>(g,v)=>{const b=Nl(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:w,transitionEnd:S,...N}=b;g={...g,...N,...S}}return g};function l(m){e=m(t)}function u(m){const{props:g}=t,v=dR(t.parent)||{},b=[],w=new Set;let S={},N=1/0;for(let P=0;P<N7;P++){const U=S7[P],G=n[U],$=g[U]!==void 0?g[U]:v[U],te=$u($),B=U===m?G.isActive:null;B===!1&&(N=P);let Q=$===v[U]&&$!==g[U]&&te;if(Q&&s&&t.manuallyAnimateOnMount&&(Q=!1),G.protectedKeys={...S},!G.isActive&&B===null||!$&&!G.prevProp||Om($)||typeof $=="boolean")continue;const k=j7(G.prevProp,$);let E=k||U===m&&G.isActive&&!Q&&te||P>N&&te,C=!1;const O=Array.isArray($)?$:[$];let z=O.reduce(a(U),{});B===!1&&(z={});const{prevResolvedValues:F={}}=G,D={...F,...z},Te=re=>{E=!0,w.has(re)&&(C=!0,w.delete(re)),G.needsAnimating[re]=!0;const fe=t.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in D){const fe=z[re],Ee=F[re];if(S.hasOwnProperty(re))continue;let L=!1;b0(fe)&&b0(Ee)?L=!uR(fe,Ee):L=fe!==Ee,L?fe!=null?Te(re):w.add(re):fe!==void 0&&w.has(re)?Te(re):G.protectedKeys[re]=!0}G.prevProp=$,G.prevResolvedValues=z,G.isActive&&(S={...S,...z}),s&&t.blockInitialAnimation&&(E=!1);const Ve=Q&&k;E&&(!Ve||C)&&b.push(...O.map(re=>{const fe={type:U};if(typeof re=="string"&&s&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,L=Nl(Ee,re);if(Ee.enteringChildren&&L){const{delayChildren:ie}=L.transition||{};fe.delay=cR(Ee.enteringChildren,t,ie)}}return{animation:re,options:fe}}))}if(w.size){const P={};if(typeof g.initial!="boolean"){const U=Nl(t,Array.isArray(g.initial)?g.initial[0]:g.initial);U&&U.transition&&(P.transition=U.transition)}w.forEach(U=>{const G=t.getBaseTarget(U),$=t.getValue(U);$&&($.liveStyle=!0),P[U]=G??null}),b.push({animation:P})}let M=!!b.length;return s&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(b):Promise.resolve()}function h(m,g){if(n[m].isActive===g)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),n[m].isActive=g;const v=u(m);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=xE(),s=!0}}}function j7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uR(e,t):!1}function Ya(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xE(){return{animate:Ya(!0),whileInView:Ya(),whileHover:Ya(),whileTap:Ya(),whileDrag:Ya(),whileFocus:Ya(),exit:Ya()}}class pa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class I7 extends pa{constructor(e){super(e),e.animationState||(e.animationState=R7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let k7=0;class D7 extends pa{constructor(){super(...arguments),this.id=k7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const P7={animation:{Feature:I7},exit:{Feature:D7}};function Yu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function _d(t){return{point:{x:t.pageX,y:t.pageY}}}const M7=t=>e=>ux(e)&&t(e,_d(e));function Cu(t,e,n,s){return Yu(t,e,M7(n),s)}const hR=1e-4,O7=1-hR,V7=1+hR,fR=.01,L7=0-fR,U7=0+fR;function Dn(t){return t.max-t.min}function z7(t,e,n){return Math.abs(t-e)<=n}function bE(t,e,n,s=.5){t.origin=s,t.originPoint=yt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=O7&&t.scale<=V7||isNaN(t.scale))&&(t.scale=1),(t.translate>=L7&&t.translate<=U7||isNaN(t.translate))&&(t.translate=0)}function Ru(t,e,n,s){bE(t.x,e.x,n.x,s?s.originX:void 0),bE(t.y,e.y,n.y,s?s.originY:void 0)}function wE(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function B7(t,e,n){wE(t.x,e.x,n.x),wE(t.y,e.y,n.y)}function _E(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function ju(t,e,n){_E(t.x,e.x,n.x),_E(t.y,e.y,n.y)}function vs(t){return[t("x"),t("y")]}const mR=({current:t})=>t?t.ownerDocument.defaultView:null,TE=(t,e)=>Math.abs(t-e);function F7(t,e){const n=TE(t.x,e.x),s=TE(t.y,e.y);return Math.sqrt(n**2+s**2)}class pR{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=xy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,N=F7(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!N)return;const{point:M}=w,{timestamp:P}=fn;this.history.push({...M,timestamp:P});const{onStart:U,onMove:G}=this.handlers;S||(U&&U(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=vy(S,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:N,onSessionEnd:M,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=xy(w.type==="pointercancel"?this.lastMoveEventInfo:vy(S,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,U),M&&M(w,U)},!ux(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=_d(e),m=vy(h,this.transformPagePoint),{point:g}=m,{timestamp:v}=fn;this.history=[{...g,timestamp:v}];const{onSessionStart:b}=n;b&&b(e,xy(m,this.history)),this.removeListeners=xd(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),di(this.updatePoint)}}function vy(t,e){return e?{point:e(t.point)}:t}function EE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xy({point:t},e){return{point:t,delta:EE(t,gR(e)),offset:EE(t,q7(e)),velocity:H7(e,.1)}}function q7(t){return t[0]}function gR(t){return t[t.length-1]}function H7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=gR(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ls(e)));)n--;if(!s)return{x:0,y:0};const l=hr(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function G7(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?yt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?yt(n,t,s.max):Math.min(t,n)),t}function AE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $7(t,{top:e,left:n,bottom:s,right:a}){return{x:AE(t.x,n,a),y:AE(t.y,e,s)}}function SE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function K7(t,e){return{x:SE(t.x,e.x),y:SE(t.y,e.y)}}function Q7(t,e){let n=.5;const s=Dn(t),a=Dn(e);return a>s?n=Ml(e.min,e.max-s,t.min):s>a&&(n=Ml(t.min,t.max-a,e.min)),ci(0,1,n)}function Y7(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const T0=.35;function W7(t=T0){return t===!1?t=0:t===!0&&(t=T0),{x:NE(t,"left","right"),y:NE(t,"top","bottom")}}function NE(t,e,n){return{min:CE(t,e),max:CE(t,n)}}function CE(t,e){return typeof t=="number"?t:t[e]||0}const X7=new WeakMap;class Z7{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=St(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_d(b).point)},u=(b,w)=>{const{drag:S,dragPropagation:N,onDragStart:M}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f8(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vs(U=>{let G=this.getAxisMotionValue(U).get()||0;if(fr.test(G)){const{projection:$}=this.visualElement;if($&&$.layout){const te=$.layout.layoutBox[U];te&&(G=Dn(te)*(parseFloat(G)/100))}}this.originPoint[U]=G}),M&&mt.postRender(()=>M(b,w)),w0(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:M,onDrag:P}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:U}=w;if(N&&this.currentDirection===null){this.currentDirection=J7(U),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",w.point,U),this.updateAxis("y",w.point,U),this.visualElement.render(),P&&P(b,w)},m=(b,w)=>{this.latestPointerEvent=b,this.latestPanInfo=w,this.stop(b,w),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>vs(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new pR(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:mR(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&mt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!sf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=G7(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&yl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$7(s.layoutBox,e):this.constraints=!1,this.elastic=W7(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vs(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Y7(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=r7(s,a.root,this.visualElement.getTransformPagePoint());let u=K7(a.layout.layoutBox,l);if(n){const h=n(t7(u));this.hasMutatedConstraints=!!h,h&&(u=XC(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},g=vs(v=>{if(!sf(v,n,this.currentDirection))return;let b=m&&m[v]||{};u&&(b={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,N)});return Promise.all(g).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return w0(this.visualElement,e),s.start(wx(e,s,0,n,this.visualElement,!1))}stopAnimation(){vs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){vs(n=>{const{drag:s}=this.getProps();if(!sf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-yt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!yl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};vs(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();a[u]=Q7({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),vs(u=>{if(!sf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];h.set(yt(m,g,a[u]))})}addListeners(){if(!this.visualElement.current)return;X7.set(this.visualElement,this);const e=this.visualElement.current,n=Cu(e,"pointerdown",m=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();yl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),mt.read(s);const u=Yu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(vs(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=m[v].translate,b.set(b.get()+m[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=T0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function J7(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ez extends pa{constructor(e){super(e),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new Z7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const RE=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};class tz extends pa{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(e){this.session=new pR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:RE(e),onStart:RE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&mt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const n=jE(t,e.target.x),s=jE(t,e.target.y);return`${n}% ${s}%`}},nz={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=da.parse(t);if(a.length>5)return s;const l=da.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,m=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=m;const g=yt(h,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}};let by=!1;class sz extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;R8(rz),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),by&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),_f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,by=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||mt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;by=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yR(t){const[e,n]=_8(),s=I.useContext(B2);return c.jsx(sz,{...t,layoutGroup:s,switchLayoutGroup:I.useContext(YC),isPresent:e,safeToRemove:n})}const rz={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:nz};function vR(t,e,n){const s=rn(t)?t:fo(t);return s.start(wx("",s,e,n)),s.animation}const iz=(t,e)=>t.depth-e.depth;class az{constructor(){this.children=[],this.isDirty=!1}add(e){Hv(this.children,e),this.isDirty=!0}remove(e){Pm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iz),this.isDirty=!1,this.children.forEach(e)}}function oz(t,e){const n=Fn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(di(s),t(l-e))};return mt.setup(s,!0),()=>di(s)}const xR=["TopLeft","TopRight","BottomLeft","BottomRight"],lz=xR.length,IE=t=>typeof t=="string"?parseFloat(t):t,kE=t=>typeof t=="number"||Re.test(t);function cz(t,e,n,s,a,l){a?(t.opacity=yt(0,n.opacity??1,uz(s)),t.opacityExit=yt(e.opacity??1,0,dz(s))):l&&(t.opacity=yt(e.opacity??1,n.opacity??1,s));for(let u=0;u<lz;u++){const h=`border${xR[u]}Radius`;let m=DE(e,h),g=DE(n,h);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||kE(m)===kE(g)?(t[h]=Math.max(yt(IE(m),IE(g),s),0),(fr.test(g)||fr.test(m))&&(t[h]+="%")):t[h]=g}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,s))}function DE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const uz=bR(0,.5,J2),dz=bR(.5,.95,_s);function bR(t,e,n){return s=>s<t?0:s>e?1:n(Ml(t,e,s))}function PE(t,e){t.min=e.min,t.max=e.max}function ys(t,e){PE(t.x,e.x),PE(t.y,e.y)}function ME(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OE(t,e,n,s,a){return t-=e,t=Zf(t,1/n,s),a!==void 0&&(t=Zf(t,1/a,s)),t}function hz(t,e=0,n=1,s=.5,a,l=t,u=t){if(fr.test(e)&&(e=parseFloat(e),e=yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=yt(l.min,l.max,s);t===l&&(h-=e),t.min=OE(t.min,e,n,h,a),t.max=OE(t.max,e,n,h,a)}function VE(t,e,[n,s,a],l,u){hz(t,e[n],e[s],e[a],e.scale,l,u)}const fz=["x","scaleX","originX"],mz=["y","scaleY","originY"];function LE(t,e,n,s){VE(t.x,e,fz,n?n.x:void 0,s?s.x:void 0),VE(t.y,e,mz,n?n.y:void 0,s?s.y:void 0)}function UE(t){return t.translate===0&&t.scale===1}function wR(t){return UE(t.x)&&UE(t.y)}function zE(t,e){return t.min===e.min&&t.max===e.max}function pz(t,e){return zE(t.x,e.x)&&zE(t.y,e.y)}function BE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _R(t,e){return BE(t.x,e.x)&&BE(t.y,e.y)}function FE(t){return Dn(t.x)/Dn(t.y)}function qE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gz{constructor(){this.members=[]}add(e){Hv(this.members,e),e.scheduleRender()}remove(e){if(Pm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yz(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:w,skewX:S,skewY:N}=n;g&&(s=`perspective(${g}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(s+=`scale(${h}, ${m})`),s||"none"}const wy=["","X","Y","Z"],vz=1e3;let xz=0;function _y(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function TR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&TR(s)}function ER({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=xz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_z),this.nodes.forEach(Sz),this.nodes.forEach(Nz),this.nodes.forEach(Tz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new az)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Kv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=dx(u)&&!VC(u),this.instance=u;const{layoutId:h,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let v,b=0;const w=()=>this.root.updateBlockedByResize=!1;mt.read(()=>{b=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,v&&v(),v=oz(w,250),_f.hasAnimatedSinceResize&&(_f.hasAnimatedSinceResize=!1,this.nodes.forEach($E)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||kz,{onLayoutAnimationStart:M,onLayoutAnimationComplete:P}=g.getProps(),U=!this.targetLayout||!_R(this.targetLayout,S),G=!b&&w;if(this.options.layoutRoot||this.resumeFrom||G||b&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...ox(N,"layout"),onPlay:M,onComplete:P};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(v,G)}else b||$E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(GE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Az),this.nodes.forEach(bz),this.nodes.forEach(wz)):this.nodes.forEach(GE),this.clearAllSnapshots();const h=Fn.now();fn.delta=ci(0,1e3/60,h-fn.timestamp),fn.timestamp=h,fn.isProcessing=!0,uy.update.process(fn),uy.preRender.process(fn),uy.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ez),this.sharedNodes.forEach(Rz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=St(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!wR(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;u&&this.instance&&(h||Xa(this.latestValues)||v)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),Dz(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return St();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Pz))){const{scroll:g}=this.root;g&&(vl(h.x,g.offset.x),vl(h.y,g.offset.y))}return h}removeElementScroll(u){const h=St();if(ys(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ys(h,u),vl(h.x,v.offset.x),vl(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const m=St();ys(m,u);for(let g=0;g<this.path.length;g++){const v=this.path[g];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xl(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Xa(v.latestValues)&&xl(m,v.latestValues)}return Xa(this.latestValues)&&xl(m,this.latestValues),m}removeTransform(u){const h=St();ys(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Xa(g.latestValues))continue;y0(g.latestValues)&&g.updateSnapshot();const v=St(),b=g.measurePageBox();ys(v,b),LE(h,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Xa(this.latestValues)&&LE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ju(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=St(),this.targetWithTransforms=St()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),B7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ys(this.target,this.layout.layoutBox),JC(this.target,this.targetDelta)):ys(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=St(),this.relativeTargetOrigin=St(),ju(this.relativeTargetOrigin,this.target,w.target),ys(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||y0(this.parent.latestValues)||ZC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;ys(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;s7(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=St());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ME(this.prevProjectionDelta.x,this.projectionDelta.x),ME(this.prevProjectionDelta.y,this.projectionDelta.y)),Ru(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!qE(this.projectionDelta.x,this.prevProjectionDelta.x)||!qE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(u,h=!1){const m=this.snapshot,g=m?m.latestValues:{},v={...this.latestValues},b=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=St(),S=m?m.source:void 0,N=this.layout?this.layout.source:void 0,M=S!==N,P=this.getStack(),U=!P||P.members.length<=1,G=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(Iz));this.animationProgress=0;let $;this.mixTargetDelta=te=>{const B=te/1e3;KE(b.x,u.x,B),KE(b.y,u.y,B),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jz(this.relativeTarget,this.relativeTargetOrigin,w,B),$&&pz(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=St()),ys($,this.relativeTarget)),M&&(this.animationValues=v,cz(v,g,this.latestValues,B,G,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{_f.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fo(0)),this.currentAnimation=vR(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:g,latestValues:v}=u;if(!(!h||!m||!g)){if(this!==u&&this.layout&&g&&AR(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||St();const b=Dn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+b;const w=Dn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+w}ys(h,m),xl(h,v),Ru(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gz),this.sharedNodes.get(u).add(h);const g=h.options.initialPromotionConfig;h.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const g={};m.z&&_y("z",u,g,this.animationValues);for(let v=0;v<wy.length;v++)_y(`rotate${wy[v]}`,u,g,this.animationValues),_y(`skew${wy[v]}`,u,g,this.animationValues);u.render();for(const v in g)u.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=wf(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=wf(h?.pointerEvents)||""),this.hasProjected&&!Xa(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const v=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=yz(this.projectionDeltaWithTransform,this.treeScale,v);m&&(b=m(v,b)),u.transform=b;const{x:w,y:S}=this.projectionDelta;u.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,g.animationValues?u.opacity=g===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:u.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const N in Ku){if(v[N]===void 0)continue;const{correct:M,applyTo:P,isCSSVariable:U}=Ku[N],G=b==="none"?v[N]:M(v[N],g);if(P){const $=P.length;for(let te=0;te<$;te++)u[P[te]]=G}else U?this.options.visualElement.renderState.vars[N]=G:u[N]=G}this.options.layoutId&&(u.pointerEvents=g===this?wf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(HE),this.root.sharedNodes.clear()}}}function bz(t){t.updateLayout()}function wz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?vs(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Dn(b);b.min=n[v].min,b.max=b.min+w}):AR(a,e.layoutBox,n)&&vs(v=>{const b=l?e.measuredBox[v]:e.layoutBox[v],w=Dn(n[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const u=bl();Ru(u,n,e.layoutBox);const h=bl();l?Ru(h,t.applyTransform(s,!0),e.measuredBox):Ru(h,n,e.layoutBox);const m=!wR(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const S=St();ju(S,e.layoutBox,b.layoutBox);const N=St();ju(N,n,w.layoutBox),_R(S,N)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _z(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ez(t){t.clearSnapshot()}function HE(t){t.clearMeasurements()}function GE(t){t.isLayoutDirty=!1}function Az(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $E(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Sz(t){t.resolveTargetDelta()}function Nz(t){t.calcProjection()}function Cz(t){t.resetSkewAndRotation()}function Rz(t){t.removeLeadSnapshot()}function KE(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function QE(t,e,n,s){t.min=yt(e.min,n.min,s),t.max=yt(e.max,n.max,s)}function jz(t,e,n,s){QE(t.x,e.x,n.x,s),QE(t.y,e.y,n.y,s)}function Iz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kz={duration:.45,ease:[.4,0,.1,1]},YE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WE=YE("applewebkit/")&&!YE("chrome/")?Math.round:_s;function XE(t){t.min=WE(t.min),t.max=WE(t.max)}function Dz(t){XE(t.x),XE(t.y)}function AR(t,e,n){return t==="position"||t==="preserve-aspect"&&!z7(FE(e),FE(n),.2)}function Pz(t){return t!==t.root&&t.scroll?.wasRoot}const Mz=ER({attachResizeListener:(t,e)=>Yu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},SR=ER({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ty.current){const t=new Mz({});t.mount(window),t.setOptions({layoutScroll:!0}),Ty.current=t}return Ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Oz={pan:{Feature:tz},drag:{Feature:ez,ProjectionNode:SR,MeasureLayout:yR}};function ZE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&mt.postRender(()=>l(e,_d(e)))}class Vz extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=m8(e,(n,s)=>(ZE(this.node,s,"Start"),a=>ZE(this.node,a,"End"))))}unmount(){}}class Lz extends pa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xd(Yu(this.node.current,"focus",()=>this.onFocus()),Yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&mt.postRender(()=>l(e,_d(e)))}class Uz extends pa{mount(){const{current:e}=this.node;e&&(this.unmount=v8(e,(n,s)=>(JE(this.node,s,"Start"),(a,{success:l})=>JE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E0=new WeakMap,Ey=new WeakMap,zz=t=>{const e=E0.get(t.target);e&&e(t)},Bz=t=>{t.forEach(zz)};function Fz({root:t,...e}){const n=t||document;Ey.has(n)||Ey.set(n,{});const s=Ey.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Bz,{root:t,...e})),s[a]}function qz(t,e,n){const s=Fz(e);return E0.set(t,n),s.observe(t),()=>{E0.delete(t),s.unobserve(t)}}const Hz={some:0,all:1};class Gz extends pa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Hz[a]},h=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),w=g?v:b;w&&w(m)};return qz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($z(e,n))&&this.startObserver()}unmount(){}}function $z({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Kz={inView:{Feature:Gz},tap:{Feature:Uz},focus:{Feature:Lz},hover:{Feature:Vz}},Qz={layout:{ProjectionNode:SR,MeasureLayout:yR}},Yz={...P7,...Kz,...Oz,...Qz},it=e7(Yz,c7);function NR(t){const e=Bv(()=>fo(t)),{isStatic:n}=I.useContext(hx);if(n){const[,s]=I.useState(t);I.useEffect(()=>e.on("change",s),[])}return e}function CR(t,e){const n=NR(e()),s=()=>n.set(e());return s(),F2(()=>{const a=()=>mt.preRender(s,!1,!0),l=t.map(u=>u.on("change",a));return()=>{l.forEach(u=>u()),di(s)}}),n}function Wz(t){Nu.current=[],t();const e=CR(Nu.current,t);return Nu.current=void 0,e}function Xz(t,e,n,s){if(typeof t=="function")return Wz(t);const a=typeof e=="function"?e:x8(e,n,s);return Array.isArray(t)?eA(t,a):eA([t],([l])=>a(l))}function eA(t,e){const n=Bv(()=>[]);return CR(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}function Tx(t){return typeof t=="object"&&!Array.isArray(t)}function RR(t,e,n,s){return typeof t=="string"&&Tx(e)?kC(t,n,s):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function Zz(t,e,n){return t*(e+1)}function tA(t,e,n,s){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):s.get(e)??t}function Jz(t,e,n){for(let s=0;s<t.length;s++){const a=t[s];a.at>e&&a.at<n&&(Pm(t,a),s--)}}function eB(t,e,n,s,a,l){Jz(t,a,l);for(let u=0;u<e.length;u++)t.push({value:e[u],at:yt(a,l,s[u]),easing:sC(n,u)})}function tB(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function nB(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const sB="easeInOut";function rB(t,{defaultTransition:e={},...n}={},s,a){const l=e.duration||.3,u=new Map,h=new Map,m={},g=new Map;let v=0,b=0,w=0;for(let S=0;S<t.length;S++){const N=t[S];if(typeof N=="string"){g.set(N,b);continue}else if(!Array.isArray(N)){g.set(N.name,tA(b,N.at,v,g));continue}let[M,P,U={}]=N;U.at!==void 0&&(b=tA(b,U.at,v,g));let G=0;const $=(te,B,Q,k=0,E=0)=>{const C=iB(te),{delay:O=0,times:z=xC(C),type:F="keyframes",repeat:D,repeatType:Te,repeatDelay:Ve=0,...ne}=B;let{ease:re=e.ease||"easeOut",duration:fe}=B;const Ee=typeof O=="function"?O(k,E):O,L=C.length,ie=ax(F)?F:a?.[F||"keyframes"];if(L<=2&&ie){let pe=100;if(L===2&&lB(C)){const Ie=C[1]-C[0];pe=Math.abs(Ie)}const he={...ne};fe!==void 0&&(he.duration=Ls(fe));const De=pC(he,pe,ie);re=De.ease,fe=De.duration}fe??(fe=l);const R=b+Ee;z.length===1&&z[0]===0&&(z[1]=1);const H=z.length-C.length;if(H>0&&vC(z,H),C.length===1&&C.unshift(null),D){fe=Zz(fe,D);const pe=[...C],he=[...z];re=Array.isArray(re)?[...re]:[re];const De=[...re];for(let Ie=0;Ie<D;Ie++){C.push(...pe);for(let We=0;We<pe.length;We++)z.push(he[We]+(Ie+1)),re.push(We===0?"linear":sC(De,We-1))}tB(z,D)}const de=R+fe;eB(Q,C,re,z,R,de),G=Math.max(Ee+fe,G),w=Math.max(de,w)};if(rn(M)){const te=nA(M,h);$(P,U,sA("default",te))}else{const te=RR(M,P,s,m),B=te.length;for(let Q=0;Q<B;Q++){P=P,U=U;const k=te[Q],E=nA(k,h);for(const C in P)$(P[C],aB(U,C),sA(C,E),Q,B)}}v=b,b+=G}return h.forEach((S,N)=>{for(const M in S){const P=S[M];P.sort(nB);const U=[],G=[],$=[];for(let B=0;B<P.length;B++){const{at:Q,value:k,easing:E}=P[B];U.push(k),G.push(Ml(0,w,Q)),$.push(E||"easeOut")}G[0]!==0&&(G.unshift(0),U.unshift(U[0]),$.unshift(sB)),G[G.length-1]!==1&&(G.push(1),U.push(null)),u.has(N)||u.set(N,{keyframes:{},transition:{}});const te=u.get(N);te.keyframes[M]=U,te.transition[M]={...e,duration:w,ease:$,times:G,...n}}}),u}function nA(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function sA(t,e){return e[t]||(e[t]=[]),e[t]}function iB(t){return Array.isArray(t)?t:[t]}function aB(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const oB=t=>typeof t=="number",lB=t=>t.every(oB);function cB(t,e){return t in e}class uB extends nR{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(cB(n,e)){const s=e[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return St()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function dB(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=dx(t)&&!VC(t)?new oR(e):new iR(e);n.mount(t),Qu.set(t,n)}function hB(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new uB(e);n.mount(t),Qu.set(t,n)}function fB(t,e){return rn(t)||typeof t=="number"||typeof t=="string"&&!Tx(e)}function jR(t,e,n,s){const a=[];if(fB(t,e))a.push(vR(t,Tx(e)&&e.default||e,n&&(n.default||n)));else{const l=RR(t,e,s),u=l.length;for(let h=0;h<u;h++){const m=l[h],g=m instanceof Element?dB:hB;Qu.has(m)||g(m);const v=Qu.get(m),b={...n};"delay"in b&&typeof b.delay=="function"&&(b.delay=b.delay(h,u)),a.push(..._x(v,{...e,transition:b},{}))}}return a}function mB(t,e,n){const s=[];return rB(t,e,n,{spring:Gu}).forEach(({keyframes:l,transition:u},h)=>{s.push(...jR(h,l,u))}),s}function pB(t){return Array.isArray(t)&&t.some(Array.isArray)}function gB(t){function e(n,s,a){let l=[];return pB(n)?l=mB(n,s,t):l=jR(n,s,a,t),new XU(l)}return e}const yB=gB(),Lm="tvet_programs",IR="users",rA=[{id:"mock-1",title:"Electrical Installation",description:"Hands-on wiring, safety, and maintenance for homes and industry.",category:"Engineering",imageUrl:""},{id:"mock-2",title:"Fashion Design",description:"Pattern cutting, sewing, and fashion entrepreneurship.",category:"Creative Arts",imageUrl:""},{id:"mock-3",title:"Welding & Fabrication",description:"Metalwork, tools handling, and fabrication projects.",category:"Engineering",imageUrl:""}],iA=[{id:"tvet-sch-1",title:"Nigerian TVET Skills Fund",description:"Support for learners in accredited TVET programs.",amount:15e4,deadline:new Date(Date.now()+720*60*60*1e3).toISOString(),level:"TVET",state:"All States",website:"",category:"Government",slots:100},{id:"tvet-sch-2",title:"Corporate TVET Empowerment",description:"Tools and tuition support for vocational trainees.",amount:2e5,deadline:new Date(Date.now()+1080*60*60*1e3).toISOString(),level:"TVET",state:"All States",website:"",category:"Corporate",slots:50}];async function kR(){try{const t=ss(tt,Lm),e=ws(t,gr("title","asc")),n=await ma(e),s=[];return n.forEach(a=>s.push({id:a.id,...a.data()})),s.length>0?s:rA}catch(t){return console.error("Error loading TVET programs:",t),rA}}async function vB(t){const e=ss(tt,Lm),n={title:t.title||"Untitled",description:t.description||"",category:t.category||"General",imageUrl:t.imageUrl||"",createdAt:gn(),updatedAt:gn()};return{success:!0,id:(await gd(Mt(e),n))?.id}}async function xB(t,e){const n=Mt(tt,Lm,t);return await Es(n,{...e,updatedAt:gn()}),{success:!0}}async function bB(t){try{const e=Mt(tt,Lm,t),{deleteDoc:n}=await zv(async()=>{const{deleteDoc:s}=await Promise.resolve().then(()=>eO);return{deleteDoc:s}},void 0);return await n(e),{success:!0}}catch(e){return console.error("Error deleting program:",e),{success:!1,error:e.message}}}async function wB(){try{const t=ss(tt,"scholarships"),e=ws(t,pi("level","==","TVET")),n=await ma(e),s=[];return n.forEach(a=>s.push({id:a.id,...a.data()})),s.length>0?s:iA}catch(t){return console.error("Error loading TVET scholarships:",t),iA}}async function _B(t,e){try{const n=Mt(tt,IR,t),s=await Mn(n);if(!s.exists())return await gd(n,{savedPrograms:[{id:e.id,title:e.title,category:e.category||"",savedAt:gn()}],dashboard:{savedOpportunities:1}}),{success:!0};const a=s.data(),l=a.savedPrograms||[];if(l.find(m=>m.id===e.id))return{success:!1,error:"Program already saved"};const h=[...l,{id:e.id,title:e.title,category:e.category||"",savedAt:gn()}];return await Es(n,{savedPrograms:h,"dashboard.savedOpportunities":(a.dashboard?.savedOpportunities||0)+1}),{success:!0}}catch(n){return console.error("Error saving program:",n),{success:!1,error:n.message}}}async function TB(t){try{const e=Mt(tt,IR,t),n=await Mn(e);return n.exists()?n.data().savedPrograms||[]:[]}catch(e){return console.error("Error getting user saved programs:",e),[]}}function EB(){const t=Hn(),{user:e}=On(),[n,s]=I.useState([]),[a,l]=I.useState([]),[u,h]=I.useState(!0),[m,g]=I.useState(!1),[v,b]=I.useState(""),[w,S]=I.useState([]),[N,M]=I.useState("");I.useEffect(()=>{(async()=>{h(!0),b("");try{const[E,C]=await Promise.all([kR(),wB()]);if(s(E),l(C),e&&!e.isAnonymous)try{const O=await TB(e.uid);S(O.map(z=>z.id))}catch(O){console.error("Error loading saved programs:",O)}}catch{b("Unable to load TVET content. Please try again later.")}finally{h(!1)}})()},[e]);const P={Engineering:UT,"Creative Arts":NL,default:pl},U=c.jsx("section",{className:"bg-gradient-to-br from-red-50 to-purple-50 border-b border-red-100",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs(it.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-3",children:"Empowering Nigeria through TVET"}),c.jsx("p",{className:"text-gray-600 max-w-2xl",children:"Technical and Vocational Education and Training prepares youths with practical skills for real-world jobs, entrepreneurship, and national development."}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("button",{onClick:()=>{const k=document.getElementById("tvet-programs");k&&k.scrollIntoView({behavior:"smooth"})},className:"inline-flex items-center px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:["Explore Programs",c.jsx(T2,{className:"w-4 h-4 ml-2"})]}),c.jsx("button",{onClick:()=>t("/dashboard"),className:"inline-flex items-center px-4 py-2 ml-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors",children:"Back to Dashboard"})]})]})})}),G=c.jsxs(c.Fragment,{children:[N&&c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(oy,{className:"w-5 h-5 text-green-500 mr-2"}),c.jsx("p",{className:"text-green-800",children:N})]})})}),v&&c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(or,{className:"w-5 h-5 text-red-500 mr-2"}),c.jsx("p",{className:"text-red-800",children:v})]})})})]}),$=c.jsx("section",{className:"bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Hands-on Skills",desc:"Learn by doing with industry-aligned workshops.",Icon:UT},{title:"Accredited Pathways",desc:"Programs aligned to Nigerian qualifications.",Icon:oy},{title:"Career Growth",desc:"Move into jobs, apprenticeships, or start-ups.",Icon:TL}].map((k,E)=>c.jsxs(it.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.35},className:"p-6 bg-gray-50 rounded-xl border border-gray-200",children:[c.jsx(k.Icon,{className:"w-6 h-6 text-red-500"}),c.jsx("h3",{className:"mt-3 font-semibold text-gray-900",children:k.title}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:k.desc})]},E))})})}),te=({program:k})=>{const E=P[k.category]||P.default,C=async()=>{if(!e||e.isAnonymous){t("/");return}g(!0);try{const O=await _B(e.uid,k);O.success?(b(""),S(z=>[...z,k.id]),M(`${k.title} saved successfully!`),setTimeout(()=>{M("")},3e3)):b(`Failed to save program: ${O.error}`)}catch(O){console.error("Error saving program:",O),b("Failed to save program. Please try again.")}finally{g(!1)}};return c.jsxs(it.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.25},className:"bg-white rounded-xl border border-gray-200 p-5 hover:shadow-sm",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(E,{className:"w-6 h-6 text-red-500"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:k.title})]}),c.jsx("span",{className:"text-xs text-gray-500 px-2 py-1 rounded-full bg-gray-100",children:k.category})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:k.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:C,disabled:m||w.includes(k.id),className:`px-3 py-2 text-sm rounded-lg transition-colors ${w.includes(k.id)?"bg-green-500 text-white cursor-not-allowed":m?"bg-gray-400 text-white cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:w.includes(k.id)?c.jsxs(c.Fragment,{children:[c.jsx(oy,{className:"w-4 h-4 inline mr-1"}),"Saved"]}):m?"Saving...":"Save Program"}),c.jsx("button",{onClick:()=>t("/scholarships"),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Details"})]})]})},B=({item:k})=>c.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-5",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-700",children:"TVET"}),c.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[c.jsx(Dm,{className:"w-3 h-3 mr-1"})," ",k.slots," slots"]})]}),c.jsx("h4",{className:"font-semibold text-gray-900",children:k.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1 mb-3",children:k.description}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[c.jsxs("span",{children:["₦",Number(k.amount||0).toLocaleString()]}),c.jsx("span",{children:new Date(k.deadline).toLocaleDateString()})]})]}),Q=()=>{const k=I.useMemo(()=>[{id:1,name:"Amina, Kaduna",story:"Completed Welding & Fabrication and now runs a small workshop employing 3 apprentices."},{id:2,name:"Chinedu, Enugu",story:"From fashion trainee to launching a bespoke brand serving local schools."},{id:3,name:"Hassan, Kano",story:"Electrical skills led to a stable job with an EPC contractor."},{id:4,name:"Fatima, Lagos",story:"Plumbing certification opened doors to work with major construction companies."},{id:5,name:"Emeka, Anambra",story:"Carpentry training helped me start a furniture business that now exports to neighboring states."},{id:6,name:"Biodun, Ogun",story:"Auto mechanics skills transformed my life - from apprentice to garage owner with 8 employees."},{id:7,name:"Kemi, Rivers",story:"Welding certification led to offshore oil platform work with excellent pay and benefits."},{id:8,name:"Abdullahi, Kano",story:"Electrical installation skills helped me secure government contracts for street lighting projects."},{id:9,name:"Chioma, Imo",story:"Fashion design training enabled me to create jobs for 15 other women in my community."},{id:10,name:"Tunde, Oyo",story:"Masonry skills helped me build a construction company that now handles major projects."}],[]);return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:k.slice(0,5).map(E=>c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-red-50 border border-purple-100 rounded-xl p-4 hover:shadow-md transition-shadow",children:[c.jsx(VT,{className:"w-5 h-5 text-purple-600"}),c.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:['"',E.story,'"']}),c.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["— ",E.name]})]},E.id))}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:k.slice(5,10).map(E=>c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-red-50 border border-purple-100 rounded-xl p-4 hover:shadow-md transition-shadow",children:[c.jsx(VT,{className:"w-5 h-5 text-purple-600"}),c.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:['"',E.story,'"']}),c.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["— ",E.name]})]},E.id))})]})};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[U,G,$,c.jsx("section",{id:"tvet-programs",className:"bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Programs & Skills"})}),u?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((k,E)=>c.jsx("div",{className:"h-40 bg-gray-100 rounded-xl animate-pulse"},E))}):n.length===0?c.jsx("div",{className:"text-center text-gray-600",children:"No programs available."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(k=>c.jsx(te,{program:k},k.id))})]})}),c.jsx("section",{className:"bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Scholarships & Opportunities"})}),u?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((k,E)=>c.jsx("div",{className:"h-36 bg-gray-100 rounded-xl animate-pulse"},E))}):a.length===0?c.jsx("div",{className:"text-center text-gray-600",children:"No TVET scholarships available."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(k=>c.jsx(B,{item:k},k.id))})]})}),c.jsx("section",{className:"bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Success Stories"})}),c.jsx(Q,{})]})}),c.jsx("section",{className:"bg-gradient-to-br from-gray-900 to-gray-800",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-white",children:"Join AccessEdu NG"}),c.jsx("p",{className:"text-gray-300 mt-2",children:"Create an account to save programs, track scholarships, and more."})]}),c.jsx("div",{className:"mt-4 md:mt-0",children:c.jsx("button",{onClick:()=>t("/"),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Get Started"})})]})})}),v&&c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-3 rounded-lg text-sm",children:v})})]})}function AB(){const{user:t}=On(),e=Hn(),[n,s]=I.useState([]),[a,l]=I.useState(!0),[u,h]=I.useState(""),[m,g]=I.useState({id:null,title:"",description:"",category:"",imageUrl:""}),[v,b]=I.useState(!1);I.useEffect(()=>{if(!t){e("/");return}w()},[t]);const w=async()=>{l(!0),h("");try{const P=await kR();s(P)}catch{h("Failed to load programs.")}finally{l(!1)}},S=async P=>{P.preventDefault(),b(!0);try{m.id?await xB(m.id,{title:m.title,description:m.description,category:m.category,imageUrl:m.imageUrl}):await vB({title:m.title,description:m.description,category:m.category,imageUrl:m.imageUrl}),g({id:null,title:"",description:"",category:"",imageUrl:""}),await w()}catch(U){h(U.message||"Save failed.")}finally{b(!1)}},N=P=>g({id:P.id,title:P.title,description:P.description,category:P.category||"",imageUrl:P.imageUrl||""}),M=async P=>{confirm("Delete this program?")&&(await bB(P),await w())};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b border-gray-200",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-5 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>e("/tvet"),className:"p-2 rounded hover:bg-gray-100",children:c.jsx(yo,{className:"w-5 h-5 text-gray-600"})}),c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"TVET Admin"})]})})}),c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&c.jsx("div",{className:"mb-4 bg-red-50 text-red-700 border border-red-200 p-3 rounded",children:u}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5 mb-6",children:c.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Title"}),c.jsx("input",{value:m.title,onChange:P=>g(U=>({...U,title:P.target.value})),className:"mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Category"}),c.jsx("input",{value:m.category,onChange:P=>g(U=>({...U,category:P.target.value})),className:"mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Description"}),c.jsx("textarea",{value:m.description,onChange:P=>g(U=>({...U,description:P.target.value})),className:"mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Image URL (optional)"}),c.jsx("input",{value:m.imageUrl,onChange:P=>g(U=>({...U,imageUrl:P.target.value})),className:"mt-1 w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),c.jsx("div",{className:"md:col-span-2 flex justify-end",children:c.jsxs("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 flex items-center",children:[c.jsx(C2,{className:"w-4 h-4 mr-2"})," ",m.id?"Update Program":"Add Program"]})})]})}),c.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:a?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((P,U)=>c.jsx("div",{className:"h-24 bg-gray-100 rounded animate-pulse"},U))}):n.length===0?c.jsx("div",{className:"text-gray-600",children:"No programs yet."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(P=>c.jsx(it.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:P.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.description}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.category})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>N(P),className:"p-2 rounded hover:bg-gray-100",children:c.jsx(yL,{className:"w-4 h-4 text-gray-600"})}),c.jsx("button",{onClick:()=>M(P.id),className:"p-2 rounded hover:bg-gray-100",children:c.jsx(k2,{className:"w-4 h-4 text-red-600"})})]})]})},P.id))})})]})]})}const Xl="forum_posts",DR="forum_comments",A0=[{id:"tvet",name:"TVET Programs"},{id:"scholarships",name:"Scholarships"},{id:"career",name:"Career Advice"},{id:"general",name:"General Discussion"}];async function SB({title:t,body:e,categoryId:n,imageUrl:s="",author:a}){const l=ss(tt,Xl),u={title:t?.trim()||"Untitled",body:e||"",categoryId:n||"general",imageUrl:s,attachments:[],authorId:a?.uid||"",authorName:a?.displayName||a?.email||"Anonymous",authorPhoto:a?.photoURL||"",likes:[],bookmarks:[],commentsCount:0,createdAt:gn(),updatedAt:gn()};return{id:(await Cv(l,u)).id,...u}}async function NB(t){const e=await Mn(Mt(tt,Xl,t));return e.exists()?{id:e.id,...e.data()}:null}async function CB({categoryId:t="all",sort:e="recent",search:n=""}={}){let s=ss(tt,Xl);t!=="all"&&(s=ws(s,pi("categoryId","==",t))),e==="recent"?s=ws(s,gr("createdAt","desc"),Zy(50)):e==="popular"&&(s=ws(s,gr("commentsCount","desc"),Zy(50)));const a=await ma(s);let l=[];if(a.forEach(u=>l.push({id:u.id,...u.data()})),l.length===0&&(l=DB()),n){const u=n.toLowerCase();l=l.filter(h=>h.title?.toLowerCase().includes(u)||h.body?.toLowerCase().includes(u))}return l}async function RB(t,e){const n=Mt(tt,Xl,t),s=await Mn(n);if(!s.exists())return;const a=s.data(),l=Array.isArray(a.likes)?a.likes:[],h=l.includes(e)?l.filter(m=>m!==e):[...l,e];await Es(n,{likes:h,updatedAt:gn()})}async function jB(t,e){const n=Mt(tt,Xl,t),s=await Mn(n);if(!s.exists())return;const a=s.data(),l=Array.isArray(a.bookmarks)?a.bookmarks:[],h=l.includes(e)?l.filter(m=>m!==e):[...l,e];await Es(n,{bookmarks:h,updatedAt:gn()})}async function IB({postId:t,body:e,author:n,parentId:s=null}){const a=ss(tt,DR),l={postId:t,parentId:s,body:e||"",authorId:n?.uid||"",authorName:n?.displayName||n?.email||"Anonymous",authorPhoto:n?.photoURL||"",createdAt:gn(),updatedAt:gn()};await Cv(a,l);const u=Mt(tt,Xl,t),h=await Mn(u);if(h.exists()){const m=Number(h.data().commentsCount||0)+1;await Es(u,{commentsCount:m})}}async function kB(t){const e=ss(tt,DR),n=ws(e,pi("postId","==",t),gr("createdAt","asc")),s=await ma(n),a=[];return s.forEach(l=>a.push({id:l.id,...l.data()})),a}function DB(){const t=new Date;return[{id:"mock-1",title:"Best TVET starter kits for Welding?",body:"What tools should I prioritize on a small budget in Nigeria? Looking for recommendations from experienced welders.",categoryId:"tvet",authorName:"Amina",authorPhoto:"",likes:["u1","u2"],bookmarks:[],commentsCount:3,createdAt:{toDate:()=>t},attachments:[{type:"image",url:"https://images.unsplash.com/photo-1581094794329-c8112a89af12",name:"welding.jpg"}]},{id:"mock-2",title:"New scholarship for TVET learners",body:"Saw a fund supporting apprentices, sharing here for others. Deadline is next month!",categoryId:"scholarships",authorName:"Chinedu",authorPhoto:"",likes:["u2"],bookmarks:["u3"],commentsCount:1,createdAt:{toDate:()=>new Date(t.getTime()-3600*1e3)},attachments:[{type:"file",url:"https://example.com/tvet-fund.pdf",name:"TVET-Fund.pdf"}]},{id:"mock-3",title:"From trainee to startup owner",body:"Short video about my journey through Fashion Design program. Started with ₦50k, now making ₦500k monthly!",categoryId:"career",authorName:"Hassan",authorPhoto:"",likes:["u4","u5","u6"],bookmarks:["u7"],commentsCount:5,createdAt:{toDate:()=>new Date(t.getTime()-2*3600*1e3)},attachments:[{type:"video",url:"https://www.w3schools.com/html/mov_bbb.mp4",name:"journey.mp4"}]},{id:"mock-4",title:"Electrical Installation Course Review",body:"Just completed my electrical installation course at Lagos Technical College. Here's my honest review and tips for beginners.",categoryId:"tvet",authorName:"Fatima",authorPhoto:"",likes:["u8","u9"],bookmarks:["u10"],commentsCount:2,createdAt:{toDate:()=>new Date(t.getTime()-3*3600*1e3)}},{id:"mock-5",title:"Government TVET Funding Opportunities",body:"The federal government just announced new funding for TVET programs. Check if you're eligible!",categoryId:"scholarships",authorName:"Oluwaseun",authorPhoto:"",likes:["u11","u12","u13"],bookmarks:["u14","u15"],commentsCount:8,createdAt:{toDate:()=>new Date(t.getTime()-4*3600*1e3)}},{id:"mock-6",title:"How to start a small carpentry business",body:"After completing my carpentry training, I started with basic tools. Here's my step-by-step guide to building a successful business.",categoryId:"career",authorName:"Emeka",authorPhoto:"",likes:["u16","u17","u18"],bookmarks:["u19","u20"],commentsCount:12,createdAt:{toDate:()=>new Date(t.getTime()-5*3600*1e3)},attachments:[{type:"image",url:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122",name:"carpentry.jpg"}]},{id:"mock-7",title:"Plumbing apprenticeship opportunities in Abuja",body:"Looking for plumbing apprentices in Abuja area. Good pay and training provided. DM for details.",categoryId:"tvet",authorName:"Abdullahi",authorPhoto:"",likes:["u21"],bookmarks:["u22","u23"],commentsCount:4,createdAt:{toDate:()=>new Date(t.getTime()-6*3600*1e3)}},{id:"mock-8",title:"International TVET exchange program",body:"Germany is offering exchange programs for Nigerian TVET students. Applications open now!",categoryId:"scholarships",authorName:"Chioma",authorPhoto:"",likes:["u24","u25","u26","u27"],bookmarks:["u28","u29","u30"],commentsCount:15,createdAt:{toDate:()=>new Date(t.getTime()-7*3600*1e3)}},{id:"mock-9",title:"Success story: From mechanic to garage owner",body:"Started as a mechanic apprentice 5 years ago. Now I own a garage with 8 employees. Hard work pays off!",categoryId:"career",authorName:"Biodun",authorPhoto:"",likes:["u31","u32","u33","u34"],bookmarks:["u35","u36"],commentsCount:7,createdAt:{toDate:()=>new Date(t.getTime()-8*3600*1e3)},attachments:[{type:"image",url:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d",name:"garage.jpg"}]},{id:"mock-10",title:"Best practices for welding safety",body:"Safety first! Here are the essential safety practices every welder should know. Share your own tips too.",categoryId:"tvet",authorName:"Kemi",authorPhoto:"",likes:["u37","u38","u39"],bookmarks:["u40","u41","u42"],commentsCount:6,createdAt:{toDate:()=>new Date(t.getTime()-9*3600*1e3)}},{id:"mock-11",title:"Free online TVET courses available",body:"Found some great free online courses for TVET skills. Perfect for those who can't afford physical training.",categoryId:"general",authorName:"Tunde",authorPhoto:"",likes:["u43","u44","u45","u46"],bookmarks:["u47","u48","u49"],commentsCount:9,createdAt:{toDate:()=>new Date(t.getTime()-10*3600*1e3)}},{id:"mock-12",title:"How to market your TVET skills",body:"Marketing tips for TVET graduates. How to find clients and build your reputation in the industry.",categoryId:"career",authorName:"Aisha",authorPhoto:"",likes:["u50","u51"],bookmarks:["u52","u53","u54"],commentsCount:3,createdAt:{toDate:()=>new Date(t.getTime()-11*3600*1e3)}}]}function PB(){const{user:t}=On(),e=Hn(),[n,s]=I.useState("all"),[a,l]=I.useState("recent"),[u,h]=I.useState(""),[m,g]=I.useState([]),[v,b]=I.useState(!0),[w,S]=I.useState(""),[N,M]=I.useState(!1),[P,U]=I.useState({title:"",body:"",imageUrl:"",attachments:[]}),G=async()=>{b(!0),S("");try{const Q=await CB({categoryId:n,sort:a,search:u});g(Q)}catch{S("Failed to load forum posts.")}finally{b(!1)}};I.useEffect(()=>{G()},[n,a,u]);const $=({a:Q})=>Q.type==="image"?c.jsx("img",{src:Q.url,alt:Q.name||"image",className:"mt-2 rounded-lg max-h-48 object-cover"}):Q.type==="video"?c.jsx("video",{controls:!0,className:"mt-2 rounded-lg max-h-48 w-full",children:c.jsx("source",{src:Q.url,type:"video/mp4"})}):c.jsx("a",{href:Q.url,target:"_blank",rel:"noreferrer",className:"mt-2 inline-block text-sm text-blue-600 underline",children:Q.name||"Attachment"}),te=({post:Q})=>c.jsxs(it.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.25},className:"bg-white border border-gray-200 rounded-xl p-5 hover:shadow-sm cursor-pointer",onClick:()=>e(`/forum/post/${Q.id}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[c.jsx("img",{src:Q.authorPhoto||"https://i.pravatar.cc/32",alt:"author",className:"w-6 h-6 rounded-full"}),c.jsx("span",{children:Q.authorName}),c.jsx("span",{children:"•"}),c.jsx("span",{children:Q.createdAt?.toDate?new Date(Q.createdAt.toDate()).toLocaleString():"Just now"})]}),c.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700 flex items-center",children:[c.jsx(LL,{className:"w-3 h-3 mr-1"})," ",A0.find(k=>k.id===Q.categoryId)?.name||"General"]})]}),c.jsx("h3",{className:"font-semibold text-gray-900",children:Q.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:Q.body}),Array.isArray(Q.attachments)&&Q.attachments.slice(0,1).map((k,E)=>c.jsx($,{a:k},E)),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-3",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(I2,{className:"w-4 h-4 mr-1"})," ",Q.likes?.length||0]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(Ov,{className:"w-4 h-4 mr-1"})," ",Q.commentsCount||0]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(Bu,{className:"w-4 h-4 mr-1"})," ",Q.bookmarks?.length||0]})]})]}),B=async()=>{if(!t){e("/");return}P.title.trim()&&(await SB({title:P.title,body:P.body,categoryId:n,author:t,imageUrl:P.imageUrl}),U({title:"",body:"",imageUrl:"",attachments:[]}),M(!1),await G())};return c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>e("/dashboard"),className:"px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Forum"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Kf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{value:u,onChange:Q=>h(Q.target.value),placeholder:"Search posts...",className:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),c.jsxs("button",{onClick:()=>M(Q=>!Q),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center",children:[c.jsx(C2,{className:"w-4 h-4 mr-1"})," New Post"]})]})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("button",{onClick:()=>s("all"),className:`px-3 py-1 rounded-full text-sm border ${n==="all"?"bg-red-500 text-white border-red-500":"border-gray-300 text-gray-700"}`,children:"All"}),A0.map(Q=>c.jsx("button",{onClick:()=>s(Q.id),className:`px-3 py-1 rounded-full text-sm border ${n===Q.id?"bg-red-500 text-white border-red-500":"border-gray-300 text-gray-700"}`,children:Q.name},Q.id))]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs("select",{value:a,onChange:Q=>l(Q.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"recent",children:"Most Recent"}),c.jsx("option",{value:"popular",children:"Most Popular"})]})})]}),N&&c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-5 mb-6",children:[c.jsx("input",{value:P.title,onChange:Q=>U(k=>({...k,title:Q.target.value})),placeholder:"Post title",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent mb-3"}),c.jsx("textarea",{value:P.body,onChange:Q=>U(k=>({...k,body:Q.target.value})),placeholder:"Write something...",rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3",children:[c.jsx("input",{value:P.imageUrl,onChange:Q=>U(k=>({...k,imageUrl:Q.target.value})),placeholder:"Image URL (optional)",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),c.jsx("input",{onChange:Q=>{const k=Q.target.value.trim();k&&(U(E=>({...E,attachments:[...E.attachments||[],{type:"file",url:k}]})),Q.target.value="")},placeholder:"Attachment URL (file/video)",className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-red-500 focus:border-transparent"}),c.jsxs("select",{onChange:Q=>{Q.target.value},className:"border border-gray-300 rounded-lg px-3 py-2",children:[c.jsx("option",{value:"",children:"Attachment Type"}),c.jsx("option",{value:"image",children:"Image"}),c.jsx("option",{value:"video",children:"Video"}),c.jsx("option",{value:"file",children:"Document"})]})]}),c.jsx("div",{className:"flex justify-end mt-3",children:c.jsx("button",{onClick:B,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:"Publish"})})]}),v?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((Q,k)=>c.jsx("div",{className:"h-40 bg-gray-100 rounded-xl animate-pulse"},k))}):m.length===0?c.jsx("div",{className:"text-center text-gray-600",children:"No posts yet."}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(Q=>c.jsx(te,{post:Q},Q.id))})]})]})}function MB(){const{user:t}=On(),e=Hn(),{postId:n}=QI(),[s,a]=I.useState(null),[l,u]=I.useState([]),[h,m]=I.useState(!0),[g,v]=I.useState(""),b=async()=>{m(!0);const M=await NB(n),P=await kB(n);a(M),u(P),m(!1)};I.useEffect(()=>{b()},[n]);const w=async()=>{if(!t)return e("/");await RB(n,t.uid),await b()},S=async()=>{if(!t)return e("/");await jB(n,t.uid),await b()},N=async()=>{!t||!g.trim()||(await IB({postId:n,body:g,author:t}),v(""),await b())};return h?c.jsx("div",{className:"min-h-screen bg-gray-50"}):s?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white border-b border-gray-200",children:c.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[c.jsx("button",{onClick:()=>e(-1),className:"p-2 rounded hover:bg-gray-100",children:c.jsx(yo,{className:"w-5 h-5 text-gray-600"})}),c.jsx("div",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:A0.find(M=>M.id===s.categoryId)?.name||"General"})]})}),c.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[c.jsx("img",{src:s.authorPhoto||"https://i.pravatar.cc/32",alt:"author",className:"w-7 h-7 rounded-full"}),c.jsx("span",{children:s.authorName}),c.jsx("span",{children:"•"}),c.jsx("span",{children:s.createdAt?.toDate?new Date(s.createdAt.toDate()).toLocaleString():"Just now"})]}),c.jsx("h1",{className:"mt-3 text-xl font-bold text-gray-900",children:s.title}),c.jsx("p",{className:"mt-2 text-gray-700 whitespace-pre-wrap",children:s.body}),c.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[c.jsxs("button",{onClick:w,className:"px-3 py-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 flex items-center text-sm",children:[c.jsx(I2,{className:"w-4 h-4 mr-1"})," ",s.likes?.length||0]}),c.jsxs("button",{onClick:S,className:"px-3 py-1.5 rounded-lg border border-gray-300 hover:bg-gray-50 flex items-center text-sm",children:[c.jsx(Bu,{className:"w-4 h-4 mr-1"})," ",s.bookmarks?.length||0]})]})]}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Comments"}),c.jsx("div",{className:"space-y-4 mb-4",children:l.map(M=>c.jsxs("div",{className:"border border-gray-100 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-600",children:[c.jsx("img",{src:M.authorPhoto||"https://i.pravatar.cc/24",alt:"c-author",className:"w-5 h-5 rounded-full"}),c.jsx("span",{className:"font-medium",children:M.authorName})]}),c.jsx("p",{className:"text-sm text-gray-700 mt-1",children:M.body})]},M.id))}),t?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{value:g,onChange:M=>v(M.target.value),placeholder:"Write a comment...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),c.jsxs("button",{onClick:N,className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center",children:[c.jsx(jL,{className:"w-4 h-4 mr-1"})," Send"]})]}):c.jsx("div",{className:"text-sm text-gray-600",children:"Login to comment."})]})]})]}):c.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:"Post not found."})}const OB=()=>{const{user:t,logout:e}=On(),n=Hn(),[s,a]=I.useState("profile"),[l,u]=I.useState(!1),[h,m]=I.useState(!1),[g,v]=I.useState([]),[b,w]=I.useState(!1),[S,N]=I.useState(!1),[M,P]=I.useState(!1),[U,G]=I.useState(!1),[$,te]=I.useState({type:"",text:""}),[B,Q]=I.useState({displayName:"",bio:"",occupation:"",preferredLanguage:"English",photoURL:""}),[k,E]=I.useState({darkMode:!1,emailNotifications:!0,pushNotifications:!0,language:"English"}),[C,O]=I.useState({currentPassword:"",newPassword:"",newEmail:""}),z=[{code:"English",name:"English"},{code:"Yoruba",name:"Yoruba"},{code:"Igbo",name:"Igbo"},{code:"Hausa",name:"Hausa"}],F=["Student","Teacher","Parent","Career Counselor","Education Professional","Other"];I.useEffect(()=>{t&&(D(),Te())},[t]);const D=async()=>{try{u(!0);const R=await e9(t.uid);Q(R?H=>({...H,...R}):H=>({...H,displayName:t.displayName||"",photoURL:t.photoURL||""}))}catch(R){console.error("Error loading profile:",R)}finally{u(!1)}},Te=async()=>{try{const R=await Uv(t.uid);v(R)}catch(R){console.error("Error loading notifications:",R)}},Ve=async()=>{try{m(!0),te({type:"",text:""}),await Lv(t.uid,B),te({type:"success",text:"Profile updated successfully!"})}catch(R){console.error("Error updating profile:",R),te({type:"error",text:"Failed to update profile. Please try again."})}finally{m(!1)}},ne=async R=>{const H=R.target.files[0];if(H)try{if(m(!0),te({type:"",text:""}),H.size>5*1024*1024){te({type:"error",text:"File size must be less than 5MB."});return}if(!H.type.startsWith("image/")){te({type:"error",text:"Please select a valid image file."});return}const de=await t9(t.uid,H);Q(pe=>({...pe,photoURL:de})),te({type:"success",text:"Profile picture updated successfully!"})}catch(de){console.error("Error uploading avatar:",de),te({type:"error",text:"Failed to upload profile picture. Please try again."})}finally{m(!1)}},re=async()=>{try{m(!0),await RP(t,C.newPassword),O(R=>({...R,currentPassword:"",newPassword:""}))}catch(R){console.error("Error changing password:",R)}finally{m(!1)}},fe=async()=>{try{m(!0),await CP(t,C.newEmail),O(R=>({...R,newEmail:""}))}catch(R){console.error("Error changing email:",R)}finally{m(!1)}},Ee=async()=>{try{m(!0),await PP(t),await e(),n("/login")}catch(R){console.error("Error deleting account:",R)}finally{m(!1),N(!1)}},L=async R=>{try{await n0(R.id),v(H=>H.map(de=>de.id===R.id?{...de,read:!0}:de)),w(!1),R.type==="forum"?n(`/forum/post/${R.postId}`):R.type==="scholarship"&&n("/scholarships")}catch(H){console.error("Error handling notification:",H)}},ie=g.filter(R=>!R.read).length;return l?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-500"})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:c.jsx(yo,{className:"w-6 h-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Settings & Profile"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>w(!b),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 relative",children:[c.jsx(Al,{className:"w-6 h-6"}),ie>0&&c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:ie})]}),b&&c.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border z-50",children:c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Notifications"}),g.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):c.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:g.slice(0,5).map(R=>c.jsxs("div",{onClick:()=>L(R),className:`p-3 rounded-lg cursor-pointer transition-colors ${R.read?"bg-gray-50":"bg-blue-50"} hover:bg-gray-100`,children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:R.title}),c.jsx("p",{className:"text-xs text-gray-600 mt-1",children:R.message}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:new Date(R.createdAt?.toDate()).toLocaleDateString()})]},R.id))})]})})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("nav",{className:"space-y-2",children:[{id:"profile",label:"Profile",icon:D2},{id:"account",label:"Account",icon:Vv},{id:"preferences",label:"Preferences",icon:Fu},{id:"security",label:"Security",icon:R2}].map(R=>c.jsxs("button",{onClick:()=>a(R.id),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors text-left ${s===R.id?"bg-red-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[c.jsx(R.icon,{className:"w-5 h-5"}),c.jsx("span",{children:R.label})]},R.id))})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s==="profile"&&c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Profile Information"}),$.text&&c.jsx("div",{className:`mb-4 p-3 rounded-lg ${$.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:$.text}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:B.photoURL||`https://via.placeholder.com/80/FF0000/FFFFFF?text=${B.displayName?.charAt(0)||"U"}`,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}),c.jsxs("label",{className:`absolute bottom-0 right-0 p-1 rounded-full cursor-pointer transition-colors ${h?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[h?c.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx(RV,{className:"w-4 h-4 text-white"}),c.jsx("input",{type:"file",accept:"image/*",onChange:ne,className:"hidden",disabled:h})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium",children:B.displayName||"User"}),c.jsx("p",{className:"text-gray-600",children:t?.email})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),c.jsx("input",{type:"text",value:B.displayName,onChange:R=>Q(H=>({...H,displayName:R.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occupation"}),c.jsxs("select",{value:B.occupation,onChange:R=>Q(H=>({...H,occupation:R.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[c.jsx("option",{value:"",children:"Select occupation"}),F.map(R=>c.jsx("option",{value:R,children:R},R))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Language"}),c.jsx("select",{value:B.preferredLanguage,onChange:R=>Q(H=>({...H,preferredLanguage:R.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:z.map(R=>c.jsx("option",{value:R.code,children:R.name},R.code))})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),c.jsx("textarea",{value:B.bio,onChange:R=>Q(H=>({...H,bio:R.target.value})),rows:4,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Tell us about yourself..."})]})]}),c.jsxs("div",{className:"mt-6 flex items-center space-x-4",children:[c.jsxs("button",{onClick:Ve,disabled:h,className:"flex items-center space-x-2 px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 transition-colors",children:[h?c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):c.jsx(AL,{className:"w-5 h-5"}),c.jsx("span",{children:h?"Saving...":"Save Changes"})]}),$.type==="success"&&c.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[c.jsx(nn,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm",children:"Changes saved successfully!"})]})]})]}),s==="account"&&c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Account Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Change Email"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx("input",{type:"email",placeholder:"New email address",value:C.newEmail,onChange:R=>O(H=>({...H,newEmail:R.target.value})),className:"p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"}),c.jsx("button",{onClick:fe,disabled:h||!C.newEmail,className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:h?"Updating...":"Update Email"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Change Password"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:U?"text":"password",placeholder:"New password",value:C.newPassword,onChange:R=>O(H=>({...H,newPassword:R.target.value})),className:"w-full p-3 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"}),c.jsx("button",{type:"button",onClick:()=>G(!U),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:U?c.jsx(S2,{className:"w-5 h-5"}):c.jsx(km,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:re,disabled:h||!C.newPassword,className:"px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:h?"Updating...":"Update Password"})]})]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("h3",{className:"text-lg font-medium text-red-600 mb-4",children:"Danger Zone"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),c.jsxs("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600",children:[c.jsx(k2,{className:"w-5 h-5"}),c.jsx("span",{children:"Delete Account"})]})]})]})]}),s==="preferences"&&c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"App Preferences"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium",children:"Dark Mode"}),c.jsx("p",{className:"text-gray-600",children:"Switch between light and dark themes"})]}),c.jsx("button",{onClick:()=>E(R=>({...R,darkMode:!R.darkMode})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.darkMode?"bg-red-500":"bg-gray-200"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.darkMode?"translate-x-6":"translate-x-1"}`})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Language"}),c.jsx("select",{value:k.language,onChange:R=>E(H=>({...H,language:R.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:z.map(R=>c.jsx("option",{value:R.code,children:R.name},R.code))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:"Notifications"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Email Notifications"}),c.jsx("p",{className:"text-gray-600",children:"Receive updates via email"})]}),c.jsx("button",{onClick:()=>E(R=>({...R,emailNotifications:!R.emailNotifications})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.emailNotifications?"bg-red-500":"bg-gray-200"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.emailNotifications?"translate-x-6":"translate-x-1"}`})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:"Push Notifications"}),c.jsx("p",{className:"text-gray-600",children:"Receive push notifications"})]}),c.jsx("button",{onClick:()=>E(R=>({...R,pushNotifications:!R.pushNotifications})),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k.pushNotifications?"bg-red-500":"bg-gray-200"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k.pushNotifications?"translate-x-6":"translate-x-1"}`})})]})]})]})]}),s==="security"&&c.jsxs("div",{className:"p-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Security Settings"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Login Activity"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"Current Session"}),c.jsx("p",{className:"text-sm text-gray-600",children:t?.metadata?.lastSignInTime?new Date(t.metadata.lastSignInTime).toLocaleString():"Unknown"})]}),c.jsx("div",{className:"text-green-500 text-sm font-medium",children:"Active"})]})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Two-Factor Authentication"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:"2FA Status"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security"})]}),c.jsx("button",{className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Coming Soon"})]})})]}),c.jsx("div",{className:"border-t pt-6",children:c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:[c.jsx(N2,{className:"w-5 h-5"}),c.jsx("span",{children:"Logout"})]})})]})]})]})})]})}),S&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"Delete Account"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone."}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"}),c.jsx("button",{onClick:Ee,disabled:h,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50",children:h?"Deleting...":"Delete Account"})]})]})})]})},Wr=({children:t,className:e="",...n})=>c.jsx("div",{className:`rounded-lg shadow-sm ${e}`,...n,children:t}),Xr=({children:t,className:e="",...n})=>c.jsx("div",{className:`p-6 ${e}`,...n,children:t}),VB=()=>{const{t}=Kl(),e=[{icon:j2,title:t("Our Purpose"),description:t("Make TVET and scholarships accessible to all Nigerians, breaking down barriers to quality education and skill development.")},{icon:km,title:t("Our Vision"),description:t("A Nigeria where every learner has equal access to quality education and opportunities for personal and professional growth.")},{icon:e0,title:t("Our Mission"),description:t("Empower learners through innovative digital solutions that connect them with educational opportunities and resources.")}];return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-100/20 to-purple-100/20 rounded-3xl"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"text-left mb-6",children:c.jsxs(Jr,{to:"/dashboard",className:"inline-flex items-center bg-gray-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-700 transition-colors",children:["← ",t("Back to Dashboard")]})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("About AccessEdung")}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:t("AccessEdung is a comprehensive educational platform designed to bridge the gap between Nigerian learners and quality education opportunities. We focus on Technical and Vocational Education and Training (TVET) and scholarship access, making education more inclusive and accessible.")})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((n,s)=>c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},children:c.jsx(Wr,{className:"h-full hover:shadow-lg transition-shadow duration-300 border-0 bg-white/80 backdrop-blur-sm",children:c.jsxs(Xr,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(n.icon,{className:"w-8 h-8 text-white"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]})})},s))}),c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-12",children:c.jsx(Wr,{className:"border-0 bg-gradient-to-r from-blue-50 to-purple-50",children:c.jsx(Xr,{className:"p-8",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:t("Why AccessEdung?")}),c.jsxs("ul",{className:"space-y-3 text-gray-700",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),t("Comprehensive scholarship database with real-time updates")]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),t("Interactive TVET programs and skill development resources")]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),t("Multilingual support for inclusive access")]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),t("Community-driven platform with peer support")]})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx("span",{className:"text-4xl font-bold text-white",children:"🎓"})}),c.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t("Join thousands of learners")}),c.jsx("p",{className:"text-gray-600",children:t("who have found their path to success")})]})]})})})})]})]})},LB=({value:t,duration:e=2})=>{const n=NR(0),s=Xz(n,a=>Math.round(a));return I.useEffect(()=>yB(n,t,{duration:e}).stop,[t,n,e]),c.jsx(it.span,{children:s})},PR=()=>{const{t}=Kl(),[e,n]=I.useState(!1),s=[{icon:Dm,value:500,suffix:"+",label:t("Learners Reached"),color:"from-blue-500 to-blue-600"},{icon:vd,value:50,suffix:"+",label:t("Scholarships Listed"),color:"from-purple-500 to-purple-600"},{icon:Fu,value:36,suffix:"",label:t("States Covered"),color:"from-green-500 to-green-600"},{icon:j2,value:95,suffix:"%",label:t("Success Rate"),color:"from-red-500 to-red-600"}];return I.useEffect(()=>{const a=new IntersectionObserver(([u])=>{u.isIntersecting&&n(!0)},{threshold:.3}),l=document.getElementById("sdg4-section");return l&&a.observe(l),()=>{l&&a.unobserve(l)}},[]),c.jsxs("div",{id:"sdg4-section",className:"relative",children:[c.jsx("div",{className:"text-left mb-6",children:c.jsxs(Jr,{to:"/dashboard",className:"inline-block bg-gray-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-700 transition-colors",children:["← ",t("Back to Dashboard")]})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 rounded-3xl"}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(it.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-500 to-blue-600 rounded-full mb-6",children:c.jsx("span",{className:"text-3xl",children:"🎯"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("Sustainable Development Goal 4")}),c.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto",children:t("Ensure inclusive and equitable quality education and promote lifelong learning opportunities for all")})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-12",children:[c.jsx(it.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6},children:c.jsx(Wr,{className:"border-0 bg-white/80 backdrop-blur-sm",children:c.jsxs(Xr,{className:"p-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:t("How AccessEdung Aligns with SDG4")}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"1"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:t("Inclusive Access")}),c.jsx("p",{className:"text-gray-600",children:t("We provide equal access to educational resources regardless of location, economic status, or background.")})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"2"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:t("Quality Education")}),c.jsx("p",{className:"text-gray-600",children:t("Curated scholarship opportunities and TVET programs that meet international quality standards.")})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:c.jsx("span",{className:"text-white text-sm font-bold",children:"3"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:t("Lifelong Learning")}),c.jsx("p",{className:"text-gray-600",children:t("Continuous skill development through our community forum and interactive learning resources.")})]})]})]})]})})}),c.jsx(it.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6},className:"text-center",children:c.jsx("div",{className:"w-64 h-64 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx("div",{className:"text-6xl mb-2",children:"🎓"}),c.jsx("div",{className:"text-lg font-semibold",children:"SDG 4"}),c.jsx("div",{className:"text-sm opacity-90",children:"Quality Education"})]})})})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:s.map((a,l)=>c.jsx(it.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.5,delay:l*.1},children:c.jsx(Wr,{className:"border-0 bg-white/80 backdrop-blur-sm hover:shadow-lg transition-shadow duration-300",children:c.jsxs(Xr,{className:"p-6 text-center",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${a.color} rounded-full flex items-center justify-center mx-auto mb-4`,children:c.jsx(a.icon,{className:"w-8 h-8 text-white"})}),c.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:e?c.jsxs(c.Fragment,{children:[c.jsx(LB,{value:a.value}),a.suffix]}):"0"}),c.jsx("p",{className:"text-gray-600 text-sm font-medium",children:a.label})]})})},l))}),c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"text-center mt-12",children:c.jsx(Wr,{className:"border-0 bg-gradient-to-r from-green-500 to-blue-600 text-white",children:c.jsxs(Xr,{className:"p-8",children:[c.jsx("h3",{className:"text-2xl font-bold mb-4",children:t("Join us in bridging the education gap in Nigeria")}),c.jsx("p",{className:"text-lg opacity-90 mb-6",children:t("Together, we can create a more inclusive and equitable education system for all Nigerians.")}),c.jsx(it.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-green-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition-colors duration-200",children:t("Get Started Today")})]})})})]})]})},MR=()=>{const{t}=Kl(),e=[{name:"AccessEdung Team",role:t("Core Development"),avatar:"👨‍💻",github:"https://github.com/bishopkbb",linkedin:"https://linkedin.com/in/ajibade-tosin-955252361",description:t("Main development team behind AccessEdung platform")},{name:"Nigerian Education Partners",role:t("Educational Content"),avatar:"🎓",github:null,linkedin:null,description:t("Educational institutions providing TVET programs and guidance")},{name:"Open Source Community",role:t("Technology Stack"),avatar:"🌐",github:"https://github.com",linkedin:null,description:t("Open source libraries and frameworks that power our platform")}],n=[{name:"Federal Ministry of Education",logo:"🏛️",description:t("Government support and policy alignment")},{name:"Nigerian Universities Commission",logo:"🎓",description:t("Quality assurance and accreditation support")},{name:"Technical Education Board",logo:"🔧",description:t("TVET program standards and certification")}],s=[{name:"React",logo:"⚛️",description:t("Frontend framework")},{name:"Firebase",logo:"🔥",description:t("Backend and database")},{name:"Tailwind CSS",logo:"🎨",description:t("Styling framework")},{name:"Framer Motion",logo:"✨",description:t("Animation library")}];return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-100/20 to-pink-100/20 rounded-3xl"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"text-left mb-6",children:c.jsxs(Jr,{to:"/dashboard",className:"inline-flex items-center bg-gray-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-700 transition-colors",children:["← ",t("Back to Dashboard")]})}),c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(it.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full mb-6",children:c.jsx(e0,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:t("Credits & Acknowledgments")}),c.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:t("We acknowledge the contributions of our partners, team members, and the open source community that made AccessEdung possible.")})]}),c.jsxs(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:t("Our Team & Contributors")}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((a,l)=>c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},children:c.jsx(Wr,{className:"h-full hover:shadow-lg transition-shadow duration-300 border-0 bg-white/80 backdrop-blur-sm",children:c.jsxs(Xr,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 text-3xl",children:a.avatar}),c.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.name}),c.jsx("p",{className:"text-purple-600 font-medium mb-3",children:a.role}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),c.jsxs("div",{className:"flex justify-center space-x-3",children:[a.github&&c.jsx(it.a,{href:a.github,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center text-white hover:bg-gray-700 transition-colors",children:c.jsx(ZV,{className:"w-5 h-5"})}),a.linkedin&&c.jsx(it.a,{href:a.linkedin,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1},whileTap:{scale:.9},className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors",children:c.jsx(aL,{className:"w-5 h-5"})})]})]})})},l))})]}),c.jsxs(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:t("Partner Organizations")}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((a,l)=>c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},children:c.jsx(Wr,{className:"border-0 bg-white/80 backdrop-blur-sm hover:shadow-lg transition-shadow duration-300",children:c.jsxs(Xr,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 text-2xl",children:a.logo}),c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:a.name}),c.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})})},l))})]}),c.jsxs(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:t("Technologies & Libraries")}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:s.map((a,l)=>c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:l*.1},children:c.jsx(Wr,{className:"border-0 bg-white/80 backdrop-blur-sm hover:shadow-lg transition-shadow duration-300",children:c.jsxs(Xr,{className:"p-6 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-3 text-xl",children:a.logo}),c.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:a.name}),c.jsx("p",{className:"text-gray-600 text-xs",children:a.description})]})})},l))})]}),c.jsx(it.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"text-center",children:c.jsx(Wr,{className:"border-0 bg-gradient-to-r from-purple-500 to-pink-600 text-white",children:c.jsxs(Xr,{className:"p-8",children:[c.jsxs("div",{className:"flex items-center justify-center mb-4",children:[c.jsx(e0,{className:"w-8 h-8 mr-3"}),c.jsx("h3",{className:"text-2xl font-bold",children:t("Made with love for Nigerian learners")})]}),c.jsx("p",{className:"text-lg opacity-90",children:t("Thank you to everyone who contributed to making education more accessible in Nigeria.")})]})})})]})]})},UB=()=>{const{t}=Kl(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3}}},n={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[c.jsx(it.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white shadow-sm border-b",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-left mb-6",children:c.jsxs(Jr,{to:"/dashboard",className:"inline-flex items-center bg-gray-800 text-white px-6 py-2 rounded-full font-semibold hover:bg-gray-700 transition-colors",children:["← ",t("Back to Dashboard")]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t("About AccessEdung")}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t("Empowering Nigerian learners through accessible TVET and scholarship opportunities")})]})]})}),c.jsxs(it.div,{variants:e,initial:"hidden",animate:"visible",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsx(it.div,{variants:n,className:"mb-16",children:c.jsx(VB,{})}),c.jsx(it.div,{variants:n,className:"mb-16",children:c.jsx(PR,{})}),c.jsx(it.div,{variants:n,children:c.jsx(MR,{})})]})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB="type.googleapis.com/google.protobuf.Int64Value",BB="type.googleapis.com/google.protobuf.UInt64Value";function OR(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function Jf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jf(e));if(typeof t=="function"||typeof t=="object")return OR(t,e=>Jf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Vl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case zB:case BB:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Vl(e)):typeof t=="function"||typeof t=="object"?OR(t,e=>Vl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qn extends qs{constructor(e,n,s){super(`${Ex}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,qn.prototype)}}function FB(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function em(t,e){let n=FB(t),s=n,a;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!aA[u])return new qn("internal","internal");n=aA[u],s=u}const h=l.message;typeof h=="string"&&(s=h),a=l.details,a!==void 0&&(a=Vl(a))}}catch{}return n==="ok"?null:new qn(n,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="us-central1",HB=/^data: (.*?)(?:\n|$)/;function GB(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new qn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class $B{constructor(e,n,s,a,l=S0,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new qB(e,n,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=S0}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function KB(t,e,n){const s=fi(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(rm(t.emulatorOrigin),im("Functions",!0))}function QB(t,e,n){const s=a=>WB(t,e,a,{});return s.stream=(a,l)=>ZB(t,e,a,l),s}async function YB(t,e,n,s){n["Content-Type"]="application/json";let a;try{a=await s(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function VR(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function WB(t,e,n,s){const a=t._url(e);return XB(t,a,n,s)}async function XB(t,e,n,s){n=Jf(n);const a={data:n},l=await VR(t,s),u=s.timeout||7e4,h=GB(u),m=await Promise.race([YB(e,a,l,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!m)throw new qn("cancelled","Firebase Functions instance was deleted.");const g=em(m.status,m.json);if(g)throw g;if(!m.json)throw new qn("internal","Response is not valid JSON object.");let v=m.json.data;if(typeof v>"u"&&(v=m.json.result),typeof v>"u")throw new qn("internal","Response is missing data field.");return{data:Vl(v)}}function ZB(t,e,n,s){const a=t._url(e);return JB(t,a,n,s||{})}async function JB(t,e,n,s){n=Jf(n);const a={data:n},l=await VR(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal})}catch(w){if(w instanceof Error&&w.name==="AbortError"){const N=new qn("cancelled","Request was cancelled.");return{data:Promise.reject(N),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(N)}}}}}}const S=em(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let h,m;const g=new Promise((w,S)=>{h=w,m=S});s?.signal?.addEventListener("abort",()=>{const w=new qn("cancelled","Request was cancelled.");m(w)});const v=u.body.getReader(),b=eF(v,h,m,s?.signal);return{stream:{[Symbol.asyncIterator](){const w=b.getReader();return{async next(){const{value:S,done:N}=await w.read();return{value:S,done:N}},async return(){return await w.cancel(),{done:!0,value:void 0}}}}},data:g}}function eF(t,e,n,s){const a=(u,h)=>{const m=u.match(HB);if(!m)return;const g=m[1];try{const v=JSON.parse(g);if("result"in v){e(Vl(v.result));return}if("message"in v){h.enqueue(Vl(v.message));return}if("error"in v){const b=em(0,v);h.error(b),n(b);return}}catch(v){if(v instanceof qn){h.error(v),n(v);return}}},l=new TextDecoder;return new ReadableStream({start(u){let h="";return m();async function m(){if(s?.aborted){const g=new qn("cancelled","Request was cancelled");return u.error(g),n(g),Promise.resolve()}try{const{value:g,done:v}=await t.read();if(v){h.trim()&&a(h.trim(),u),u.close();return}if(s?.aborted){const w=new qn("cancelled","Request was cancelled");u.error(w),n(w),await t.cancel();return}h+=l.decode(g,{stream:!0});const b=h.split(`
`);h=b.pop()||"";for(const w of b)w.trim()&&a(w.trim(),u);return m()}catch(g){const v=g instanceof qn?g:em(0,null);u.error(v),n(v)}}},cancel(){return t.cancel()}})}const oA="@firebase/functions",lA="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="auth-internal",nF="app-check-internal",sF="messaging-internal";function rF(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(tF),u=n.getProvider(sF),h=n.getProvider(nF);return new $B(a,l,u,h,s)};ra(new si(Ex,e,"PUBLIC").setMultipleInstances(!0)),xs(oA,lA,t),xs(oA,lA,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t=am(),e=S0){const s=td(et(t),Ex).getImmediate({identifier:e}),a=M0("functions");return a&&aF(s,...a),s}function aF(t,e,n){KB(et(t),e,n)}function rf(t,e,n){return QB(et(t),e)}rF();const af=iF();class oF{async initializeSubscription(e){try{return(await rf(af,"initializeSubscription")(e)).data}catch(n){throw console.error("Error initializing subscription:",n),n}}async verifyTransaction(e){try{return(await rf(af,"verifyTransaction")({reference:e})).data}catch(n){throw console.error("Error verifying transaction:",n),n}}async getUserSubscription(){try{return(await rf(af,"getUserSubscription")()).data}catch(e){throw console.error("Error getting user subscription:",e),e}}async cancelSubscription(){try{return(await rf(af,"cancelSubscription")()).data}catch(e){throw console.error("Error cancelling subscription:",e),e}}}const Wu=new oF,Za={monthly:{id:"monthly",name:"Monthly Plan",description:"Access to all features for 30 days",price:50,priceInKobo:5e3,interval:"monthly",duration:30,features:["Unlimited access to educational content","Priority customer support","Ad-free experience","Download resources","Access to premium courses"],popular:!1,savings:null},yearly:{id:"yearly",name:"Yearly Plan",description:"Best value - Save 17% with annual billing",price:500,priceInKobo:5e4,interval:"yearly",duration:365,features:["All Monthly features","2 months free","Exclusive yearly content","Priority access to new features","Annual progress reports"],popular:!0,savings:"17%"},premium:{id:"premium",name:"Premium Plan",description:"Enhanced features with monthly billing",price:100,priceInKobo:1e4,interval:"monthly",duration:30,features:["All Monthly features","1-on-1 tutoring sessions","Custom learning paths","Advanced analytics","Direct mentor access"],popular:!1,savings:null}},Tf=t=>`₦${(t/100).toLocaleString()}`,lF=({onLoad:t})=>{const[e,n]=I.useState(!1),[s,a]=I.useState(null);return I.useEffect(()=>{if(window.PaystackPop){n(!0),t&&t();return}const l=document.createElement("script");return l.src="https://js.paystack.co/v1/inline.js",l.async=!0,l.defer=!0,l.onload=()=>{n(!0),t&&t()},l.onerror=()=>{a("Failed to load Paystack script"),console.error("Failed to load Paystack script")},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[t]),null},cF="pk_test_your_public_key_here",cA={CURRENCY:"NGN",CHANNELS:["card","bank","ussd","qr","mobile_money","bank_transfer"]},uF=t=>{if(!window.PaystackPop)throw new Error("Paystack script not loaded");return window.PaystackPop.setup({key:cF,email:t.email,amount:t.amount,currency:cA.CURRENCY,ref:t.reference,channels:cA.CHANNELS,callback:t.callback,onClose:t.onClose,metadata:t.metadata||{}})},dF=()=>(console.warn("Paystack public key not configured. Please set VITE_PAYSTACK_PUBLIC_KEY in your environment variables."),!1),hF=({onSuccess:t,onCancel:e})=>{const{user:n}=On(),[s,a]=I.useState("monthly"),[l,u]=I.useState(!1),[h,m]=I.useState(null),[g,v]=I.useState(!1),[b,w]=I.useState(null),[S,N]=I.useState(!1),[M,P]=I.useState({email:n?.email||"",firstName:"",lastName:"",phone:""}),U=k=>{const{name:E,value:C}=k.target;P(O=>({...O,[E]:C}))},G=()=>M.email?M.firstName?M.lastName?M.phone?!0:(m("Phone number is required"),!1):(m("Last name is required"),!1):(m("First name is required"),!1):(m("Email is required"),!1),$=async()=>{try{if(m(null),u(!0),!G()){u(!1);return}const k=Za[s],E=await Wu.initializeSubscription({planType:s,email:M.email,metadata:{firstName:M.firstName,lastName:M.lastName,phone:M.phone}});if(E.success){if(w(E.subscription),!dF()){m("Payment system not properly configured. Please contact support.");return}uF({email:M.email,amount:k.priceInKobo,reference:E.subscription.subscriptionCode,callback:function(O){te(O)},onClose:function(){B()},metadata:{subscription_code:E.subscription.subscriptionCode,plan_type:s,user_id:n?.uid}}).openIframe()}}catch(k){console.error("Subscription initialization error:",k),m(k.message||"Failed to initialize subscription. Please try again.")}finally{u(!1)}},te=async k=>{try{u(!0),m(null);const E=await Wu.verifyTransaction(k.reference);E.success?(v(!0),t&&t(E.subscription)):m("Payment verification failed. Please contact support.")}catch(E){console.error("Payment verification error:",E),m("Payment verification failed. Please contact support.")}finally{u(!1)}},B=()=>{g||m("Payment was cancelled. Please try again.")},Q=k=>{a(k),m(null)};return g?c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(DT,{className:"w-8 h-8 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"Subscription Successful!"}),c.jsxs("p",{className:"text-green-700 mb-6",children:["Thank you for subscribing to ",Za[s].name,". You now have access to all premium features."]}),c.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Go to Dashboard"})]})}):c.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[c.jsx(lF,{onLoad:()=>N(!0)}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Choose Your Subscription Plan"}),c.jsx("p",{className:"text-gray-600",children:"Unlock premium features and accelerate your learning journey"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:Object.entries(Za).map(([k,E])=>c.jsxs("div",{className:`relative border-2 rounded-lg p-6 cursor-pointer transition-all ${s===k?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>Q(k),children:[E.popular&&c.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:c.jsxs("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold flex items-center",children:[c.jsx(t0,{className:"w-4 h-4 mr-1"}),"Most Popular"]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:E.name}),c.jsxs("div",{className:"mb-4",children:[c.jsx("span",{className:"text-3xl font-bold text-gray-900",children:Tf(E.priceInKobo)}),c.jsxs("span",{className:"text-gray-600",children:["/",E.interval]})]}),E.savings&&c.jsxs("div",{className:"text-green-600 text-sm font-semibold mb-4",children:["Save ",E.savings]}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:E.description})]}),c.jsx("ul",{className:"space-y-2",children:E.features.map((C,O)=>c.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[c.jsx(DT,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),C]},O))})]},k))}),c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Information"}),h&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:c.jsx("p",{className:"text-red-700",children:h})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",name:"email",value:M.email,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",name:"phone",value:M.phone,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+234 801 234 5678",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),c.jsx("input",{type:"text",name:"firstName",value:M.firstName,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),c.jsx("input",{type:"text",name:"lastName",value:M.lastName,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Doe",required:!0})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-600",children:Za[s].name}),c.jsx("span",{className:"font-semibold text-gray-900",children:Tf(Za[s].priceInKobo)})]})]}),c.jsxs("div",{className:"flex items-center justify-center mb-6 text-sm text-gray-600",children:[c.jsx(R2,{className:"w-4 h-4 mr-2"}),"Your payment is secured by Paystack's SSL encryption"]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("button",{onClick:$,disabled:l||!S,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:l?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):S?c.jsxs(c.Fragment,{children:[c.jsx(A2,{className:"w-4 h-4 mr-2"}),"Subscribe Now - ",Tf(Za[s].priceInKobo)]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading Payment..."]})}),e&&c.jsx("button",{onClick:e,disabled:l,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]})]})},fF=()=>{const t=Hn(),e=s=>{console.log("Subscription successful:",s)},n=()=>{t("/dashboard")};return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsx(hF,{onSuccess:e,onCancel:n})})},mF=()=>{const{user:t}=On(),[e,n]=I.useState(null),[s,a]=I.useState(!0),[l,u]=I.useState(null),[h,m]=I.useState(!1),g=async()=>{try{a(!0),u(null);const M=await Wu.getUserSubscription();n(M)}catch(M){console.error("Error loading subscription:",M),u("Failed to load subscription data")}finally{a(!1)}},v=async()=>{if(window.confirm("Are you sure you want to cancel your subscription? You will lose access to premium features at the end of your current billing period."))try{m(!0),u(null),(await Wu.cancelSubscription()).success&&(await g(),alert("Subscription cancelled successfully"))}catch(M){console.error("Error cancelling subscription:",M),u("Failed to cancel subscription. Please try again.")}finally{m(!1)}},b=M=>M?new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",w=(M,P)=>{if(P)return{color:"text-red-600",bgColor:"bg-red-50",icon:c.jsx(or,{className:"w-5 h-5"}),text:"Expired"};switch(M){case"active":return{color:"text-green-600",bgColor:"bg-green-50",icon:c.jsx(nn,{className:"w-5 h-5"}),text:"Active"};case"cancelled":return{color:"text-orange-600",bgColor:"bg-orange-50",icon:c.jsx(LT,{className:"w-5 h-5"}),text:"Cancelled"};default:return{color:"text-gray-600",bgColor:"bg-gray-50",icon:c.jsx(Vv,{className:"w-5 h-5"}),text:M||"Unknown"}}};if(I.useEffect(()=>{g()},[]),s)return c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[c.jsx($f,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading subscription information..."})]})});if(l)return c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(LT,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("h2",{className:"text-lg font-semibold text-red-800",children:"Error"})]}),c.jsx("p",{className:"text-red-700 mb-4",children:l}),c.jsx("button",{onClick:g,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})});if(!e?.hasSubscription)return c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(kn,{className:"w-8 h-8 text-gray-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Subscription"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have an active subscription. Subscribe to unlock premium features and enhance your learning experience."}),c.jsx("button",{onClick:()=>window.location.href="/subscription",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"View Subscription Plans"})]})});const S=Za[e.subscription.plan],N=w(e.subscription.status,e.subscription.isExpired);return c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(kn,{className:"w-6 h-6 text-white mr-3"}),c.jsx("h1",{className:"text-xl font-bold text-white",children:"Subscription Management"})]}),c.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full ${N.bgColor}`,children:[N.icon,c.jsx("span",{className:`ml-2 font-semibold ${N.color}`,children:N.text})]})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[c.jsx(A2,{className:"w-4 h-4 mr-2"}),"Current Plan"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Plan:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:S.name})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Price:"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[Tf(S.priceInKobo),"/",S.interval]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Billing Cycle:"}),c.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:S.interval})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[c.jsx(E2,{className:"w-4 h-4 mr-2"}),"Important Dates"]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Start Date:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:b(e.subscription.startDate)})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"End Date:"}),c.jsx("span",{className:"font-semibold text-gray-900",children:b(e.subscription.endDate)})]}),e.subscription.isExpired&&c.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded",children:c.jsx("p",{className:"text-red-700 text-sm",children:"Your subscription has expired. Renew to continue accessing premium features."})})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Plan Features"}),c.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:S.features.map((M,P)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx(nn,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),c.jsx("span",{className:"text-gray-700",children:M})]},P))})]}),c.jsx("div",{className:"border-t pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.subscription.isExpired?c.jsx("button",{onClick:()=>window.location.href="/subscription",className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Renew Subscription"}):c.jsx("button",{onClick:v,disabled:h,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?c.jsxs(c.Fragment,{children:[c.jsx($f,{className:"w-4 h-4 animate-spin mr-2 inline"}),"Cancelling..."]}):"Cancel Subscription"}),c.jsx("button",{onClick:()=>window.location.href="/subscription",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Change Plan"})]})}),c.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Important Information"}),c.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[c.jsx("li",{children:"• Cancelled subscriptions remain active until the end of the current billing period"}),c.jsx("li",{children:"• You can change your plan at any time"}),c.jsx("li",{children:"• All payments are processed securely through Paystack"}),c.jsx("li",{children:"• For billing support, contact our customer service team"})]})]})]})]})})},pF=()=>c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsx(mF,{})}),gF=()=>{const t=Hn(),{user:e}=On(),[n,s]=I.useState([]),[a,l]=I.useState(!0),[u,h]=I.useState("all");I.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{l(!0);const N=await Uv(e.uid);s(N)}catch(N){console.error("Error loading notifications:",N)}finally{l(!1)}},g=async N=>{try{N.read||(await n0(N.id),s(M=>M.map(P=>P.id===N.id?{...P,read:!0}:P))),N.type==="forum"?t(`/forum/post/${N.postId}`):N.type==="scholarship"?t("/scholarships"):N.type==="quiz"&&t("/quiz")}catch(M){console.error("Error handling notification:",M)}},v=async()=>{try{const N=n.filter(M=>!M.read);await Promise.all(N.map(M=>n0(M.id))),s(M=>M.map(P=>({...P,read:!0})))}catch(N){console.error("Error marking all as read:",N)}},b=N=>{switch(N){case"scholarship":return c.jsx(vd,{className:"w-5 h-5 text-blue-500"});case"forum":return c.jsx(Ov,{className:"w-5 h-5 text-green-500"});case"quiz":return c.jsx(vf,{className:"w-5 h-5 text-purple-500"});default:return c.jsx(Al,{className:"w-5 h-5 text-gray-500"})}},w=n.filter(N=>u==="unread"?!N.read:u==="read"?N.read:!0),S=n.filter(N=>!N.read).length;return a?c.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-sm border-b",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:c.jsx(yo,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Al,{className:"w-6 h-6 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Notifications"}),S>0&&c.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-full",children:S})]})]}),S>0&&c.jsxs("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100",children:[c.jsx(nn,{className:"w-4 h-4"}),c.jsx("span",{children:"Mark all as read"})]})]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"flex space-x-1 bg-white rounded-lg p-1 shadow-sm",children:[{key:"all",label:"All",count:n.length},{key:"unread",label:"Unread",count:S},{key:"read",label:"Read",count:n.length-S}].map(N=>c.jsxs("button",{onClick:()=>h(N.key),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${u===N.key?"bg-red-500 text-white":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[N.label," (",N.count,")"]},N.key))})}),c.jsx("div",{className:"space-y-4",children:w.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Al,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u==="all"?"No notifications yet":u==="unread"?"No unread notifications":"No read notifications"}),c.jsx("p",{className:"text-gray-500",children:u==="all"?"You'll see notifications about scholarships, forum activity, and more here.":u==="unread"?"All caught up! No new notifications.":"No read notifications to show."})]}):w.map(N=>c.jsx("div",{onClick:()=>g(N),className:`bg-white rounded-lg shadow-sm border p-4 cursor-pointer transition-all hover:shadow-md ${N.read?"opacity-75":"border-l-4 border-l-red-500"}`,children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0 mt-1",children:b(N.type)}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:`text-sm font-medium ${N.read?"text-gray-700":"text-gray-900"}`,children:N.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.message}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsx(Sl,{className:"w-3 h-3 text-gray-400"}),c.jsx("span",{className:"text-xs text-gray-500",children:N.createdAt?.toDate?new Date(N.createdAt.toDate()).toLocaleDateString():new Date(N.createdAt).toLocaleDateString()}),!N.read&&c.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"New"})]})]})})})]})},N.id))})]})]})};function yF(){const t=({children:e})=>{const{user:n,loading:s}=On();return s?null:n?e:c.jsx(lk,{to:"/",replace:!0})};return c.jsxs(uk,{children:[c.jsx(Tn,{path:"/",element:c.jsx(JL,{})}),c.jsx(Tn,{path:"/dashboard",element:c.jsx(t,{children:c.jsx(y9,{})})}),c.jsx(Tn,{path:"/quiz",element:c.jsx(t,{children:c.jsx(A9,{})})}),c.jsx(Tn,{path:"/scholarships",element:c.jsx(t,{children:c.jsx(N9,{})})}),c.jsx(Tn,{path:"/tvet",element:c.jsx(EB,{})}),c.jsx(Tn,{path:"/admin/tvet",element:c.jsx(t,{children:c.jsx(AB,{})})}),c.jsx(Tn,{path:"/forum",element:c.jsx(PB,{})}),c.jsx(Tn,{path:"/forum/post/:postId",element:c.jsx(MB,{})}),c.jsx(Tn,{path:"/about",element:c.jsx(UB,{})}),c.jsx(Tn,{path:"/sdg4",element:c.jsx(PR,{})}),"      ",c.jsx(Tn,{path:"/credits",element:c.jsx(MR,{})})," ",c.jsx(Tn,{path:"/settings",element:c.jsx(t,{children:c.jsx(OB,{})})}),c.jsx(Tn,{path:"/subscription",element:c.jsx(t,{children:c.jsx(fF,{})})}),c.jsx(Tn,{path:"/subscription/management",element:c.jsx(t,{children:c.jsx(pF,{})})}),c.jsx(Tn,{path:"/notifications",element:c.jsx(t,{children:c.jsx(gF,{})})})]})}const vF=I.createContext(),xF=({children:t})=>{const{user:e}=On(),[n,s]=I.useState(null),[a,l]=I.useState(!1),[u,h]=I.useState(null),m=async()=>{if(!e){s(null);return}try{l(!0),h(null);const U=await Wu.getUserSubscription();s(U)}catch(U){console.error("Error loading subscription:",U),h("Failed to load subscription data"),s(null)}finally{l(!1)}},g=()=>{m()},v=()=>n?.hasSubscription&&n?.subscription?.status==="active"&&!n?.subscription?.isExpired,b=()=>v(),w=()=>n?.subscription?.plan||null,S=()=>n?.subscription?.status||null,N=()=>n?.subscription?.endDate||null,M=()=>n?.subscription?.isExpired||!1;I.useEffect(()=>{m()},[e]);const P={subscription:n,isLoading:a,error:u,loadSubscription:m,refreshSubscription:g,hasActiveSubscription:v,hasPremiumAccess:b,getSubscriptionPlan:w,getSubscriptionStatus:S,getSubscriptionEndDate:N,isSubscriptionExpired:M};return c.jsx(vF.Provider,{value:P,children:t})};vI.createRoot(document.getElementById("root")).render(c.jsx(cl.StrictMode,{children:c.jsx(yV,{children:c.jsx(Dk,{children:c.jsx(g9,{children:c.jsx(xF,{children:c.jsx(yF,{})})})})})}));
